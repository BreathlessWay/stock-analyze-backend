var dl=Object.defineProperty;var gi=Object.getOwnPropertySymbols;var yl=Object.prototype.hasOwnProperty,ml=Object.prototype.propertyIsEnumerable;var di=(a,t,e)=>t in a?dl(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,yi=(a,t)=>{for(var e in t||(t={}))yl.call(t,e)&&di(a,e,t[e]);if(gi)for(var e of gi(t))ml.call(t,e)&&di(a,e,t[e]);return a};import{aJ as xl,H as Ba,r as wr,h as He,A as ma,al as Sl}from"./index-BWLoIWRc.js";import{e as To,f as Co,g as _l}from"./index-B3oGedNJ.js";import{Z as ee,c as Fa,i as Do,e as bl,g as Al,a as Wa,n as Tr,m as Lt,A as Or,b as ve,M as je,d as wl,f as Ee,h as _t,j as oe,k as Ge,w as mi,_ as R,l as w,B as we,o as Tl,p as xa,q as Lo,r as Ut,s as Po,t as Io,u as N,v as Ke,x as Cl,y as Qt,z as Dl,C as Ll,D as Pl,E as Il,F as Mo,G as Ml,H as ze,I as Rl,J as Vl,K as Ha,L as kl,N as El,O as Gl,P as Sa,Q as zl,R as Ro,S as Ol,T as Nl,U as Bl,V as Pt,W as Ua,X as Vo,Y as $,$ as qe,a0 as Fl,a1 as Ue,a2 as Ya,a3 as It,a4 as Qe,a5 as ko,a6 as he,a7 as Xa,a8 as ct,a9 as Wl,aa as Hl,ab as $a,ac as Ul,ad as Yl,ae as Eo,af as Sr,ag as Pe,ah as Xl,ai as $l,aj as Ae,ak as jl,al as Zl,am as se,an as Jl,ao as Kl,ap as Go,aq as ql,ar as Ql,as as eu,at as zo,au as tu,av as ru,aw as X,ax as q,ay as ce,az as K,aA as G,aB as Mt,aC as au,aD as B,aE as Ie,aF as fe,aG as j,aH as xe,aI as ja,aJ as le,aK as pe,aL as Ze,aM as Je,aN as ae,aO as xi,aP as me,aQ as Si,aR as _i,aS as Xr,aT as Re,aU as Za,aV as iu,aW as nu,aX as ou,aY as su,aZ as lu,a_ as uu,a$ as cu,b0 as vu,b1 as hu,b2 as fu,b3 as pu,b4 as gu,b5 as du,b6 as yu,b7 as mu,b8 as xu,b9 as Su,ba as _u,bb as bu,bc as Au,bd as wu,be as Tu,bf as Cu,bg as Du,bh as Lu,bi as Pu,bj as Iu,bk as Mu,bl as Ru,bm as Vu,bn as ku,bo as Eu,bp as Oo,bq as Me,br as Gu,bs as zu,bt as Ou,bu as Nu,bv as Bu,bw as Fu,bx as Wu,by as Nr,bz as Yt,bA as bt,bB as Tt,bC as Hu,bD as bi,bE as er,bF as Br,bG as Ne,bH as Uu,bI as W,bJ as Ai,bK as Ja,bL as tr,bM as No,bN as Yu,bO as _a,bP as Xu,bQ as ba,bR as $u,bS as Rt,bT as or,bU as ju,bV as Zu,bW as te,bX as E,bY as Bo,bZ as Ju,b_ as Ku,b$ as qu,c0 as J,c1 as Cr,c2 as Qu,c3 as Ka,c4 as Fo,c5 as ec,c6 as tc,c7 as Dr,c8 as Wo,c9 as rc,ca as Ho,cb as vt,cc as Vt,cd as qa,ce as rr,cf as ac,cg as Uo,ch as Ct,ci as ic,cj as nc,ck as Yo,cl as oc,cm as sc,cn as lc,co as uc,cp as cc,cq as Xo,cr as vc,cs as Qa,ct as hc,cu as wi,cv as fc,cw as pc,cx as Xt,cy as Fr,cz as gc,cA as dc,cB as $o,cC as Bt,cD as jo,cE as yc,cF as $r,cG as _r,cH as Zo,cJ as Jo,cK as jr,cL as mc,cM as xc,cN as Sc,cO as _c,cP as kt,cQ as bc,cR as $t,cS as Lr,cT as Ac,cU as wc,cV as Ko,cW as qo,cX as Tc,cY as Cc,cZ as At,c_ as Aa,c$ as Dc,d0 as Lc,d1 as Pc,d2 as Ic,d3 as Ti,d4 as Ci,d5 as Mc,d6 as Pr,d7 as Rc,d8 as wa,d9 as Qo,da as es,db as Vc,dc as Ir,dd as ts,de as kc,df as rs,dg as as,dh as Ec,di as Gc,dj as zc,dk as Oc,dl as Nc,dm as is,dn as Bc,dp as ns,dq as Fc,dr as Wc,ds as Hc,dt as Uc,du as Yc,dv as Ye,dw as jt,dx as Xc,dy as Di,dz as $c,dA as jc,dB as os,dC as ss,dD as Zc,dE as Jc,dF as Kc,dG as qc,dH as Qc,dI as Wr,dJ as ev,dK as tv,dL as rv,dM as av,dN as iv,dO as nv,dP as ov,dQ as sv,dR as lv,dS as ls,dT as ei,dU as uv,dV as cv,dW as vv,dX as hv,dY as Li,dZ as fv,d_ as pv,d$ as gv,e0 as dv,e1 as yv,e2 as mv,e3 as xv}from"./install-CCXOP5Kk.js";import{u as Sv}from"./useDesignSetting-DQ_n429q.js";function _v(a,t,e,r,i,n,o,s){var l=new ee({style:{text:a,font:t,align:e,verticalAlign:r,padding:i,rich:n,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function bv(a){return Fa(null,a)}var Av={isDimensionStacked:Do,enableDataStack:bl,getStackedDimension:Al};function wv(a,t){var e=t;t instanceof je||(e=new je(t));var r=Wa(e);return r.setExtent(a[0],a[1]),Tr(r,e),r}function Tv(a){Lt(a,Or)}function Cv(a,t){return t=t||{},ve(a,null,null,t.state!=="normal")}const Dv=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:wl,createList:bv,createScale:wv,createSymbol:Ee,createTextStyle:Cv,dataStack:Av,enableHoverEmphasis:_t,getECData:oe,getLayoutRect:Ge,mixinAxisModelCommonMethods:Tv},Symbol.toStringTag,{value:"Module"}));var Lv=1e-8;function Pi(a,t){return Math.abs(a-t)<Lv}function Ii(a,t,e){var r=0,i=a[0];if(!i)return!1;for(var n=1;n<a.length;n++){var o=a[n];r+=mi(i[0],i[1],o[0],o[1],t,e),i=o}var s=a[0];return(!Pi(i[0],s[0])||!Pi(i[1],s[1]))&&(r+=mi(i[0],i[1],s[0],s[1],t,e)),r!==0}var Pv=[];function Zr(a,t){for(var e=0;e<a.length;e++)Ut(a[e],a[e],t)}function Mi(a,t,e,r){for(var i=0;i<a.length;i++){var n=a[i];r&&(n=r.project(n)),n&&isFinite(n[0])&&isFinite(n[1])&&(Po(t,t,n),Io(e,e,n))}}function Iv(a){for(var t=0,e=0,r=0,i=a.length,n=a[i-1][0],o=a[i-1][1],s=0;s<i;s++){var l=a[s][0],u=a[s][1],c=n*u-l*o;t+=c,e+=(n+l)*c,r+=(o+u)*c,n=l,o=u}return t?[e/t/3,r/t/3,t]:[a[0][0]||0,a[0][1]||0]}var us=function(){function a(t){this.name=t}return a.prototype.setCenter=function(t){this._center=t},a.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},a}(),Ri=function(){function a(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return a}(),Vi=function(){function a(t){this.type="linestring",this.points=t}return a}(),cs=function(a){R(t,a);function t(e,r,i){var n=a.call(this,e)||this;return n.type="geoJSON",n.geometries=r,n._center=i&&[i[0],i[1]],n}return t.prototype.calcCenter=function(){for(var e=this.geometries,r,i=0,n=0;n<e.length;n++){var o=e[n],s=o.exterior,l=s&&s.length;l>i&&(r=o,i=l)}if(r)return Iv(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(e){var r=this._rect;if(r&&!e)return r;var i=[1/0,1/0],n=[-1/0,-1/0],o=this.geometries;return w(o,function(s){s.type==="polygon"?Mi(s.exterior,i,n,e):w(s.points,function(l){Mi(l,i,n,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(n[0])&&isFinite(n[1])||(i[0]=i[1]=n[0]=n[1]=0),r=new we(i[0],i[1],n[0]-i[0],n[1]-i[1]),e||(this._rect=r),r},t.prototype.contain=function(e){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(e[0],e[1]))return!1;e:for(var n=0,o=i.length;n<o;n++){var s=i[n];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(Ii(l,e[0],e[1])){for(var c=0;c<(u?u.length:0);c++)if(Ii(u[c],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,r,i,n){var o=this.getBoundingRect(),s=o.width/o.height;i?n||(n=i/s):i=s*n;for(var l=new we(e,r,i,n),u=o.calculateTransform(l),c=this.geometries,v=0;v<c.length;v++){var h=c[v];h.type==="polygon"?(Zr(h.exterior,u),w(h.interiors,function(f){Zr(f,u)})):w(h.points,function(f){Zr(f,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var r=new t(e,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t}(us),Mv=function(a){R(t,a);function t(e,r){var i=a.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,r=e.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],n=Tl(Pv),o=e;o&&!o.isGeoSVGGraphicRoot;)xa(n,o.getLocalTransform(),n),o=o.parent;return Lo(n,n),Ut(i,i,n),i},t}(us);function Rv(a){if(!a.UTF8Encoding)return a;var t=a,e=t.UTF8Scale;e==null&&(e=1024);var r=t.features;return w(r,function(i){var n=i.geometry,o=n.encodeOffsets,s=n.coordinates;if(o)switch(n.type){case"LineString":n.coordinates=vs(s,o,e);break;case"Polygon":Jr(s,o,e);break;case"MultiLineString":Jr(s,o,e);break;case"MultiPolygon":w(s,function(l,u){return Jr(l,o[u],e)})}}),t.UTF8Encoding=!1,t}function Jr(a,t,e){for(var r=0;r<a.length;r++)a[r]=vs(a[r],t[r],e)}function vs(a,t,e){for(var r=[],i=t[0],n=t[1],o=0;o<a.length;o+=2){var s=a.charCodeAt(o)-64,l=a.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=i,l+=n,i=s,n=l,r.push([s/e,l/e])}return r}function Ta(a,t){return a=Rv(a),N(Ke(a.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var r=e.properties,i=e.geometry,n=[];switch(i.type){case"Polygon":var o=i.coordinates;n.push(new Ri(o[0],o.slice(1)));break;case"MultiPolygon":w(i.coordinates,function(l){l[0]&&n.push(new Ri(l[0],l.slice(1)))});break;case"LineString":n.push(new Vi([i.coordinates]));break;case"MultiLineString":n.push(new Vi(i.coordinates))}var s=new cs(r[t||"name"],n,r.cp);return s.properties=r,s})}const Vv=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:Cl,asc:Qt,getPercentWithPrecision:Dl,getPixelPrecision:Ll,getPrecision:Pl,getPrecisionSafe:Il,isNumeric:Mo,isRadianAroundZero:Ml,linearMap:ze,nice:Rl,numericToNumber:Vl,parseDate:Ha,quantile:kl,quantity:El,quantityExponent:Gl,reformIntervals:Sa,remRadian:zl,round:Ro},Symbol.toStringTag,{value:"Module"})),kv=Object.freeze(Object.defineProperty({__proto__:null,format:Ol,parse:Ha},Symbol.toStringTag,{value:"Module"})),Ev=Object.freeze(Object.defineProperty({__proto__:null,Arc:Nl,BezierCurve:Bl,BoundingRect:we,Circle:Pt,CompoundPath:Ua,Ellipse:Vo,Group:$,Image:qe,IncrementalDisplayable:Fl,Line:Ue,LinearGradient:Ya,Polygon:It,Polyline:Qe,RadialGradient:ko,Rect:he,Ring:Xa,Sector:ct,Text:ee,clipPointsByRect:Wl,clipRectByRect:Hl,createIcon:$a,extendPath:Ul,extendShape:Yl,getShapeClass:Eo,getTransform:Sr,initProps:Pe,makeImage:Xl,makePath:$l,mergePath:Ae,registerShape:jl,resizePath:Zl,updateProps:se},Symbol.toStringTag,{value:"Module"})),Gv=Object.freeze(Object.defineProperty({__proto__:null,addCommas:Jl,capitalFirst:Kl,encodeHTML:Go,formatTime:ql,formatTpl:Ql,getTextRect:_v,getTooltipMarker:eu,normalizeCssArray:zo,toCamelCase:tu,truncateText:ru},Symbol.toStringTag,{value:"Module"})),zv=Object.freeze(Object.defineProperty({__proto__:null,bind:X,clone:q,curry:ce,defaults:K,each:w,extend:G,filter:Ke,indexOf:Mt,inherits:au,isArray:B,isFunction:Ie,isObject:fe,isString:j,map:N,merge:xe,reduce:ja},Symbol.toStringTag,{value:"Module"}));function Ov(a){var t=le.extend(a);return le.registerClass(t),t}function Nv(a){var t=pe.extend(a);return pe.registerClass(t),t}function Bv(a){var t=Ze.extend(a);return Ze.registerClass(t),t}function Fv(a){var t=Je.extend(a);return Je.registerClass(t),t}function hs(a,t,e,r,i,n,o,s){var l=i-a,u=n-t,c=e-a,v=r-t,h=Math.sqrt(c*c+v*v);c/=h,v/=h;var f=l*c+u*v,p=f/h;p*=h;var g=o[0]=a+p*c,d=o[1]=t+p*v;return Math.sqrt((g-i)*(g-i)+(d-n)*(d-n))}var Xe=new ae,Z=new ae,re=new ae,$e=new ae,Le=new ae,Mr=[],ne=new ae;function Wv(a,t){if(t<=180&&t>0){t=t/180*Math.PI,Xe.fromArray(a[0]),Z.fromArray(a[1]),re.fromArray(a[2]),ae.sub($e,Xe,Z),ae.sub(Le,re,Z);var e=$e.len(),r=Le.len();if(!(e<.001||r<.001)){$e.scale(1/e),Le.scale(1/r);var i=$e.dot(Le),n=Math.cos(t);if(n<i){var o=hs(Z.x,Z.y,re.x,re.y,Xe.x,Xe.y,Mr);ne.fromArray(Mr),ne.scaleAndAdd(Le,o/Math.tan(Math.PI-t));var s=re.x!==Z.x?(ne.x-Z.x)/(re.x-Z.x):(ne.y-Z.y)/(re.y-Z.y);if(isNaN(s))return;s<0?ae.copy(ne,Z):s>1&&ae.copy(ne,re),ne.toArray(a[1])}}}}function Hv(a,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Xe.fromArray(a[0]),Z.fromArray(a[1]),re.fromArray(a[2]),ae.sub($e,Z,Xe),ae.sub(Le,re,Z);var r=$e.len(),i=Le.len();if(!(r<.001||i<.001)){$e.scale(1/r),Le.scale(1/i);var n=$e.dot(t),o=Math.cos(e);if(n<o){var s=hs(Z.x,Z.y,re.x,re.y,Xe.x,Xe.y,Mr);ne.fromArray(Mr);var l=Math.PI/2,u=Math.acos(Le.dot(t)),c=l+u-e;if(c>=l)ae.copy(ne,re);else{ne.scaleAndAdd(Le,s/Math.tan(Math.PI/2-c));var v=re.x!==Z.x?(ne.x-Z.x)/(re.x-Z.x):(ne.y-Z.y)/(re.y-Z.y);if(isNaN(v))return;v<0?ae.copy(ne,Z):v>1&&ae.copy(ne,re)}ne.toArray(a[1])}}}}function Kr(a,t,e,r){var i=e==="normal",n=i?a:a.ensureState(e);n.ignore=t;var o=r.get("smooth");o&&o===!0&&(o=.3),n.shape=n.shape||{},o>0&&(n.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();i?a.useStyle(s):n.style=s}function Uv(a,t){var e=t.smooth,r=t.points;if(r)if(a.moveTo(r[0][0],r[0][1]),e>0&&r.length>=3){var i=_i(r[0],r[1]),n=_i(r[1],r[2]);if(!i||!n){a.lineTo(r[1][0],r[1][1]),a.lineTo(r[2][0],r[2][1]);return}var o=Math.min(i,n)*e,s=Xr([],r[1],r[0],o/i),l=Xr([],r[1],r[2],o/n),u=Xr([],s,l,.5);a.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),a.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)a.lineTo(r[c][0],r[c][1])}function Yv(a,t,e){var r=a.getTextGuideLine(),i=a.getTextContent();if(!i){r&&a.removeTextGuideLine();return}for(var n=t.normal,o=n.get("show"),s=i.ignore,l=0;l<xi.length;l++){var u=xi[l],c=t[u],v=u==="normal";if(c){var h=c.get("show"),f=v?s:me(i.states[u]&&i.states[u].ignore,s);if(f||!me(h,o)){var p=v?r:r&&r.states[u];p&&(p.ignore=!0),r&&Kr(r,!0,u,c);continue}r||(r=new Qe,a.setTextGuideLine(r),!v&&(s||!o)&&Kr(r,!0,"normal",t.normal),a.stateProxy&&(r.stateProxy=a.stateProxy)),Kr(r,!1,u,c)}}if(r){K(r.style,e),r.style.fill=null;var g=n.get("showAbove"),d=a.textGuideLineConfig=a.textGuideLineConfig||{};d.showAbove=g||!1,r.buildPath=Uv}}function Xv(a,t){t=t||"labelLine";for(var e={normal:a.getModel(t)},r=0;r<Si.length;r++){var i=Si[r];e[i]=a.getModel([i,t])}return e}const ki=Object.freeze(Object.defineProperty({__proto__:null,Axis:Re,ChartView:Je,ComponentModel:le,ComponentView:pe,List:Za,Model:je,PRIORITY:iu,SeriesModel:Ze,color:nu,connect:ou,dataTool:su,dependencies:lu,disConnect:uu,disconnect:cu,dispose:vu,env:hu,extendChartView:Fv,extendComponentModel:Ov,extendComponentView:Nv,extendSeriesModel:Bv,format:Gv,getCoordinateSystemDimensions:fu,getInstanceByDom:pu,getInstanceById:gu,getMap:du,graphic:Ev,helper:Dv,init:yu,innerDrawElementOnCanvas:mu,matrix:xu,number:Vv,parseGeoJSON:Ta,parseGeoJson:Ta,registerAction:Su,registerCoordinateSystem:_u,registerLayout:bu,registerLoading:Au,registerLocale:wu,registerMap:Tu,registerPostInit:Cu,registerPostUpdate:Du,registerPreprocessor:Lu,registerProcessor:Pu,registerTheme:Iu,registerTransform:Mu,registerUpdateLifecycle:Ru,registerVisual:Vu,setCanvasCreator:ku,setPlatformAPI:Eu,throttle:Oo,time:kv,use:Me,util:zv,vector:Gu,version:zu,zrUtil:Ou,zrender:Nu},Symbol.toStringTag,{value:"Module"}));var $v=function(a){R(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,r,i,n,o){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),v=s.dataToCoord(r),h=n.get("type");if(h&&h!=="none"){var f=Bu(n),p=Zv[h](s,l,v,c);p.style=f,e.graphicKey=p.type,e.pointer=p}var g=n.get(["label","margin"]),d=jv(r,i,n,l,g);Fu(e,i,n,o,d)},t}(Wu);function jv(a,t,e,r,i){var n=t.axis,o=n.dataToCoord(a),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,c,v;if(n.dim==="radius"){var h=er();Nr(h,h,s),Yt(h,h,[r.cx,r.cy]),u=bt([o,-i],h);var f=t.getModel("axisLabel").get("rotate")||0,p=Tt.innerTextLayout(s,f*Math.PI/180,-1);c=p.textAlign,v=p.textVerticalAlign}else{var g=l[1];u=r.coordToPoint([g+i,o]);var d=r.cx,y=r.cy;c=Math.abs(u[0]-d)/g<.3?"center":u[0]>d?"left":"right",v=Math.abs(u[1]-y)/g<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:c,verticalAlign:v}}var Zv={line:function(a,t,e,r){return a.dim==="angle"?{type:"Line",shape:Hu(t.coordToPoint([r[0],e]),t.coordToPoint([r[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(a,t,e,r){var i=Math.max(1,a.getBandWidth()),n=Math.PI/180;return a.dim==="angle"?{type:"Sector",shape:bi(t.cx,t.cy,r[0],r[1],(-e-i/2)*n,(-e+i/2)*n)}:{type:"Sector",shape:bi(t.cx,t.cy,e-i/2,e+i/2,0,Math.PI*2)}}},Jv=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.findAxisModel=function(e){var r,i=this.ecModel;return i.eachComponent(e,function(n){n.getCoordSysModel()===this&&(r=n)},this),r},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(le),ti=function(a){R(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Br).models[0]},t.type="polarAxis",t}(le);Lt(ti,Or);var Kv=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="angleAxis",t}(ti),qv=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="radiusAxis",t}(ti),ri=function(a){R(t,a);function t(e,r){return a.call(this,"radius",e,r)||this}return t.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)[this.dim==="radius"?0:1]},t}(Re);ri.prototype.dataToRadius=Re.prototype.dataToCoord;ri.prototype.radiusToData=Re.prototype.coordToData;var Qv=Ne(),ai=function(a){R(t,a);function t(e,r){return a.call(this,"angle",e,r||[0,360])||this}return t.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,r=e.getLabelModel(),i=e.scale,n=i.getExtent(),o=i.count();if(n[1]-n[0]<1)return 0;var s=n[0],l=e.dataToCoord(s+1)-e.dataToCoord(s),u=Math.abs(l),c=Uu(s==null?"":s+"",r.getFont(),"center","top"),v=Math.max(c.height,7),h=v/u;isNaN(h)&&(h=1/0);var f=Math.max(0,Math.floor(h)),p=Qv(e.model),g=p.lastAutoInterval,d=p.lastTickCount;return g!=null&&d!=null&&Math.abs(g-f)<=1&&Math.abs(d-o)<=1&&g>f?f=g:(p.lastTickCount=o,p.lastAutoInterval=f),f},t}(Re);ai.prototype.dataToAngle=Re.prototype.dataToCoord;ai.prototype.angleToData=Re.prototype.coordToData;var fs=["radius","angle"],eh=function(){function a(t){this.dimensions=fs,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new ri,this._angleAxis=new ai,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},a.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},a.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(t){var e=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===t&&e.push(r),i.scale.type===t&&e.push(i),e},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},a.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},a.prototype.pointToData=function(t,e){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],e),this._angleAxis.angleToData(r[1],e)]},a.prototype.pointToCoord=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,i=this.getAngleAxis(),n=i.getExtent(),o=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);i.inverse?o=s-360:s=o+360;var l=Math.sqrt(e*e+r*r);e/=l,r/=l;for(var u=Math.atan2(-r,e)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},a.prototype.coordToPoint=function(t){var e=t[0],r=t[1]/180*Math.PI,i=Math.cos(r)*e+this.cx,n=-Math.sin(r)*e+this.cy;return[i,n]},a.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),r=e.getExtent().slice();r[0]>r[1]&&r.reverse();var i=t.getExtent(),n=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*n,endAngle:-i[1]*n,clockwise:t.inverse,contain:function(o,s){var l=o-this.cx,u=s-this.cy,c=l*l+u*u-1e-4,v=this.r,h=this.r0;return c<=v*v&&c>=h*h}}},a.prototype.convertToPixel=function(t,e,r){var i=Ei(e);return i===this?this.dataToPoint(r):null},a.prototype.convertFromPixel=function(t,e,r){var i=Ei(e);return i===this?this.pointToData(r):null},a}();function Ei(a){var t=a.seriesModel,e=a.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function th(a,t,e){var r=t.get("center"),i=e.getWidth(),n=e.getHeight();a.cx=W(r[0],i),a.cy=W(r[1],n);var o=a.getRadiusAxis(),s=Math.min(i,n)/2,l=t.get("radius");l==null?l=[0,"100%"]:B(l)||(l=[0,l]);var u=[W(l[0],s),W(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}function rh(a,t){var e=this,r=e.getAngleAxis(),i=e.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),a.eachSeries(function(s){if(s.coordinateSystem===e){var l=s.getData();w(Ai(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),w(Ai(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),Tr(r.scale,r.model),Tr(i.scale,i.model),r.type==="category"&&!r.onBand){var n=r.getExtent(),o=360/r.scale.count();r.inverse?n[1]+=o:n[1]-=o,r.setExtent(n[0],n[1])}}function ah(a){return a.mainType==="angleAxis"}function Gi(a,t){var e;if(a.type=t.get("type"),a.scale=Wa(t),a.onBand=t.get("boundaryGap")&&a.type==="category",a.inverse=t.get("inverse"),ah(t)){a.inverse=a.inverse!==t.get("clockwise");var r=t.get("startAngle"),i=(e=t.get("endAngle"))!==null&&e!==void 0?e:r+(a.inverse?-360:360);a.setExtent(r,i)}t.axis=a,a.model=t}var ih={dimensions:fs,create:function(a,t){var e=[];return a.eachComponent("polar",function(r,i){var n=new eh(i+"");n.update=rh;var o=n.getRadiusAxis(),s=n.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");Gi(o,l),Gi(s,u),th(n,r,t),e.push(n),r.coordinateSystem=n,n.model=r}),a.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",Br).models[0];r.coordinateSystem=i.coordinateSystem}}),e}},nh=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function sr(a,t,e){t[1]>t[0]&&(t=t.slice().reverse());var r=a.coordToPoint([t[0],e]),i=a.coordToPoint([t[1],e]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function lr(a){var t=a.getRadiusAxis();return t.inverse?0:1}function zi(a){var t=a[0],e=a[a.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&a.pop()}var oh=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,r){if(this.group.removeAll(),!!e.get("show")){var i=e.axis,n=i.polar,o=n.getRadiusAxis().getExtent(),s=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=N(i.getViewLabels(),function(c){c=q(c);var v=i.scale,h=v.type==="ordinal"?v.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(h),c});zi(u),zi(s),w(nh,function(c){e.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&sh[c](this.group,e,n,s,l,o,u)},this)}},t.type="angleAxis",t}(Ja),sh={axisLine:function(a,t,e,r,i,n){var o=t.getModel(["axisLine","lineStyle"]),s=e.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=lr(e),v=c?0:1,h,f=Math.abs(u[1]-u[0])===360?"Circle":"Arc";n[v]===0?h=new tr[f]({shape:{cx:e.cx,cy:e.cy,r:n[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):h=new Xa({shape:{cx:e.cx,cy:e.cy,r:n[c],r0:n[v]},style:o.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,a.add(h)},axisTick:function(a,t,e,r,i,n){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=n[lr(e)],u=N(r,function(c){return new Ue({shape:sr(e,[l,l+s],c.coord)})});a.add(Ae(u,{style:K(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,t,e,r,i,n){if(i.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=n[lr(e)],c=[],v=0;v<i.length;v++)for(var h=0;h<i[v].length;h++)c.push(new Ue({shape:sr(e,[u,u+l],i[v][h].coord)}));a.add(Ae(c,{style:K(s.getModel("lineStyle").getLineStyle(),K(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,t,e,r,i,n,o){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");w(o,function(v,h){var f=l,p=v.tickValue,g=n[lr(e)],d=e.coordToPoint([g+u,v.coord]),y=e.cx,m=e.cy,x=Math.abs(d[0]-y)/g<.3?"center":d[0]>y?"left":"right",S=Math.abs(d[1]-m)/g<.3?"middle":d[1]>m?"top":"bottom";if(s&&s[p]){var b=s[p];fe(b)&&b.textStyle&&(f=new je(b.textStyle,l,l.ecModel))}var _=new ee({silent:Tt.isLabelSilent(t),style:ve(f,{x:d[0],y:d[1],fill:f.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:v.formattedLabel,align:x,verticalAlign:S})});if(a.add(_),c){var A=Tt.makeAxisEventDataBase(t);A.targetType="axisLabel",A.value=v.rawLabel,oe(_).eventData=A}},this)},splitLine:function(a,t,e,r,i,n){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],v=0;v<r.length;v++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new Ue({shape:sr(e,n,r[v].coord)}))}for(var v=0;v<c.length;v++)a.add(Ae(c[v],{style:K({stroke:l[v%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(a,t,e,r,i,n){if(i.length){for(var o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new Ue({shape:sr(e,n,i[u][c].coord)}));a.add(Ae(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(a,t,e,r,i,n){if(r.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],v=Math.PI/180,h=-r[0].coord*v,f=Math.min(n[0],n[1]),p=Math.max(n[0],n[1]),g=t.get("clockwise"),d=1,y=r.length;d<=y;d++){var m=d===y?r[0].coord:r[d].coord,x=u++%l.length;c[x]=c[x]||[],c[x].push(new ct({shape:{cx:e.cx,cy:e.cy,r0:f,r:p,startAngle:h,endAngle:-m*v,clockwise:g},silent:!0})),h=-m*v}for(var d=0;d<c.length;d++)a.add(Ae(c[d],{style:K({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}},lh=["axisLine","axisTickLabel","axisName"],uh=["splitLine","splitArea","minorSplitLine"],ch=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,r){if(this.group.removeAll(),!!e.get("show")){var i=this._axisGroup,n=this._axisGroup=new $;this.group.add(n);var o=e.axis,s=o.polar,l=s.getAngleAxis(),u=o.getTicksCoords(),c=o.getMinorTicksCoords(),v=l.getExtent()[0],h=o.getExtent(),f=hh(s,e,v),p=new Tt(e,f);w(lh,p.add,p),n.add(p.getGroup()),No(i,n,e),w(uh,function(g){e.get([g,"show"])&&!o.scale.isBlank()&&vh[g](this.group,e,s,v,h,u,c)},this)}},t.type="radiusAxis",t}(Ja),vh={splitLine:function(a,t,e,r,i,n){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=e.getAngleAxis(),v=Math.PI/180,h=c.getExtent(),f=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],g=0;g<n.length;g++){var d=u++%l.length;p[d]=p[d]||[],p[d].push(new tr[f]({shape:{cx:e.cx,cy:e.cy,r:Math.max(n[g].coord,0),startAngle:-h[0]*v,endAngle:-h[1]*v,clockwise:c.inverse}}))}for(var g=0;g<p.length;g++)a.add(Ae(p[g],{style:K({stroke:l[g%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(a,t,e,r,i,n,o){if(o.length){for(var s=t.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var v=0;v<o[c].length;v++)u.push(new Pt({shape:{cx:e.cx,cy:e.cy,r:o[c][v].coord}}));a.add(Ae(u,{style:K({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(a,t,e,r,i,n){if(n.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],v=n[0].coord,h=1;h<n.length;h++){var f=u++%l.length;c[f]=c[f]||[],c[f].push(new ct({shape:{cx:e.cx,cy:e.cy,r0:v,r:n[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),v=n[h].coord}for(var h=0;h<c.length;h++)a.add(Ae(c[h],{style:K({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}};function hh(a,t,e){return{position:[a.cx,a.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function ps(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function gs(a,t){return t.dim+a.model.componentIndex}function fh(a,t,e){var r={},i=ph(Ke(t.getSeriesByType(a),function(n){return!t.isSeriesFiltered(n)&&n.coordinateSystem&&n.coordinateSystem.type==="polar"}));t.eachSeriesByType(a,function(n){if(n.coordinateSystem.type==="polar"){var o=n.getData(),s=n.coordinateSystem,l=s.getBaseAxis(),u=gs(s,l),c=ps(n),v=i[u][c],h=v.offset,f=v.width,p=s.getOtherAxis(l),g=n.coordinateSystem.cx,d=n.coordinateSystem.cy,y=n.get("barMinHeight")||0,m=n.get("barMinAngle")||0;r[c]=r[c]||[];for(var x=o.mapDimension(p.dim),S=o.mapDimension(l.dim),b=Do(o,x),_=l.dim!=="radius"||!n.get("roundCap",!0),A=p.model,T=A.get("startValue"),C=p.dataToCoord(T||0),D=0,L=o.count();D<L;D++){var I=o.get(x,D),P=o.get(S,D),V=I>=0?"p":"n",M=C;b&&(r[c][P]||(r[c][P]={p:C,n:C}),M=r[c][P][V]);var F=void 0,O=void 0,k=void 0,z=void 0;if(p.dim==="radius"){var U=p.dataToCoord(I)-C,Y=l.dataToCoord(P);Math.abs(U)<y&&(U=(U<0?-1:1)*y),F=M,O=M+U,k=Y-h,z=k-f,b&&(r[c][P][V]=O)}else{var H=p.dataToCoord(I,_)-C,ge=l.dataToCoord(P);Math.abs(H)<m&&(H=(H<0?-1:1)*m),F=ge+h,O=F+f,k=M,z=M+H,b&&(r[c][P][V]=z)}o.setItemLayout(D,{cx:g,cy:d,r0:F,r:O,startAngle:-k*Math.PI/180,endAngle:-z*Math.PI/180,clockwise:k>=z})}}})}function ph(a){var t={};w(a,function(r,i){var n=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=gs(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/n.count(),v=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=v.stacks;t[l]=v;var f=ps(r);h[f]||v.autoWidthCount++,h[f]=h[f]||{width:0,maxWidth:0};var p=W(r.get("barWidth"),c),g=W(r.get("barMaxWidth"),c),d=r.get("barGap"),y=r.get("barCategoryGap");p&&!h[f].width&&(p=Math.min(v.remainedWidth,p),h[f].width=p,v.remainedWidth-=p),g&&(h[f].maxWidth=g),d!=null&&(v.gap=d),y!=null&&(v.categoryGap=y)});var e={};return w(t,function(r,i){e[i]={};var n=r.stacks,o=r.bandWidth,s=W(r.categoryGap,o),l=W(r.gap,1),u=r.remainedWidth,c=r.autoWidthCount,v=(u-s)/(c+(c-1)*l);v=Math.max(v,0),w(n,function(g,d){var y=g.maxWidth;y&&y<v&&(y=Math.min(y,u),g.width&&(y=Math.min(y,g.width)),u-=y,g.width=y,c--)}),v=(u-s)/(c+(c-1)*l),v=Math.max(v,0);var h=0,f;w(n,function(g,d){g.width||(g.width=v),f=g,h+=g.width*(1+l)}),f&&(h-=f.width*l);var p=-h/2;w(n,function(g,d){e[i][d]=e[i][d]||{offset:p,width:g.width},p+=g.width*(1+l)})}),e}var gh={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},dh={splitNumber:5},yh=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="polar",t}(pe);function mh(a){Me(Yu),Ja.registerAxisPointerClass("PolarAxisPointer",$v),a.registerCoordinateSystem("polar",ih),a.registerComponentModel(Jv),a.registerComponentView(yh),_a(a,"angle",Kv,gh),_a(a,"radius",qv,dh),a.registerComponentView(oh),a.registerComponentView(ch),a.registerLayout(ce(fh,"bar"))}var Gt=Xu.value;function ur(a,t){return K({show:t},a)}var xh=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),v=this.get("axisNameGap"),h=this.get("triggerEvent"),f=N(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var g=l;p.color!=null&&(g=K({color:p.color},l));var d=xe(q(p),{boundaryGap:e,splitNumber:r,scale:i,axisLine:n,axisTick:o,axisLabel:s,name:p.text,showName:u,nameLocation:"end",nameGap:v,nameTextStyle:g,triggerEvent:h},!1);if(j(c)){var y=d.name;d.name=c.replace("{value}",y!=null?y:"")}else Ie(c)&&(d.name=c(d.name,d));var m=new je(d,null,this.ecModel);return Lt(m,Or.prototype),m.mainType="radar",m.componentIndex=this.componentIndex,m},this);this._indicatorModels=f},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:xe({lineStyle:{color:"#bbb"}},Gt.axisLine),axisLabel:ur(Gt.axisLabel,!1),axisTick:ur(Gt.axisTick,!1),splitLine:ur(Gt.splitLine,!0),splitArea:ur(Gt.splitArea,!0),indicator:[]},t}(le),Sh=["axisLine","axisTickLabel","axisName"],_h=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var n=this.group;n.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var r=e.coordinateSystem,i=r.getIndicatorAxes(),n=N(i,function(o){var s=o.model.get("showName")?o.name:"",l=new Tt(o.model,{axisName:s,position:[r.cx,r.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});w(n,function(o){w(Sh,o.add,o),this.group.add(o.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var r=e.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var n=e.get("shape"),o=e.getModel("splitLine"),s=e.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),v=s.get("show"),h=l.get("color"),f=u.get("color"),p=B(h)?h:[h],g=B(f)?f:[f],d=[],y=[];function m(M,F,O){var k=O%F.length;return M[k]=M[k]||[],k}if(n==="circle")for(var x=i[0].getTicksCoords(),S=r.cx,b=r.cy,_=0;_<x.length;_++){if(c){var A=m(d,p,_);d[A].push(new Pt({shape:{cx:S,cy:b,r:x[_].coord}}))}if(v&&_<x.length-1){var A=m(y,g,_);y[A].push(new Xa({shape:{cx:S,cy:b,r0:x[_].coord,r:x[_+1].coord}}))}}else for(var T,C=N(i,function(M,F){var O=M.getTicksCoords();return T=T==null?O.length-1:Math.min(O.length-1,T),N(O,function(k){return r.coordToPoint(k.coord,F)})}),D=[],_=0;_<=T;_++){for(var L=[],I=0;I<i.length;I++)L.push(C[I][_]);if(L[0]&&L.push(L[0].slice()),c){var A=m(d,p,_);d[A].push(new Qe({shape:{points:L}}))}if(v&&D){var A=m(y,g,_-1);y[A].push(new It({shape:{points:L.concat(D)}}))}D=L.slice().reverse()}var P=l.getLineStyle(),V=u.getAreaStyle();w(y,function(M,F){this.group.add(Ae(M,{style:K({stroke:"none",fill:g[F%g.length]},V),silent:!0}))},this),w(d,function(M,F){this.group.add(Ae(M,{style:K({fill:"none",stroke:p[F%p.length]},P),silent:!0}))},this)},t.type="radar",t}(pe),bh=function(a){R(t,a);function t(e,r,i){var n=a.call(this,e,r,i)||this;return n.type="value",n.angle=0,n.name="",n}return t}(Re),Ah=function(){function a(t,e,r){this.dimensions=[],this._model=t,this._indicatorAxes=N(t.getIndicatorModels(),function(i,n){var o="indicator_"+n,s=new bh(o,new ba);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(o),s},this),this.resize(t,r)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(t,e){var r=this._indicatorAxes[e];return this.coordToPoint(r.dataToCoord(t),e)},a.prototype.coordToPoint=function(t,e){var r=this._indicatorAxes[e],i=r.angle,n=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[n,o]},a.prototype.pointToData=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,i=Math.sqrt(e*e+r*r);e/=i,r/=i;for(var n=Math.atan2(-r,e),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],v=Math.abs(n-c.angle);v<o&&(s=c,l=u,o=v)}return[l,+(s&&s.coordToData(i))]},a.prototype.resize=function(t,e){var r=t.get("center"),i=e.getWidth(),n=e.getHeight(),o=Math.min(i,n)/2;this.cx=W(r[0],i),this.cy=W(r[1],n),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(j(s)||Rt(s))&&(s=[0,s]),this.r0=W(s[0],o),this.r=W(s[1],o),w(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},a.prototype.update=function(t,e){var r=this._indicatorAxes,i=this._model;w(r,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();w(r,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var n=i.get("splitNumber"),o=new ba;o.setExtent(0,n),o.setInterval(1),w(r,function(s,l){$u(s.scale,s.model,o)})},a.prototype.convertToPixel=function(t,e,r){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(t,e,r){return console.warn("Not implemented."),null},a.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},a.create=function(t,e){var r=[];return t.eachComponent("radar",function(i){var n=new a(i,t,e);r.push(n),i.coordinateSystem=n}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},a.dimensions=[],a}();function ds(a){a.registerCoordinateSystem("radar",Ah),a.registerComponentModel(xh),a.registerComponentView(_h),a.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(r){e.setItemVisual(r,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var Oi=Ut,ys=function(a){R(t,a);function t(e){var r=a.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new or,r._rawTransformable=new or,r.name=e,r}return t.prototype.setBoundingRect=function(e,r,i,n){return this._rect=new we(e,r,i,n),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,r,i,n){this._transformTo(e,r,i,n),this._viewRect=new we(e,r,i,n)},t.prototype._transformTo=function(e,r,i,n){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new we(e,r,i,n));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e,r){e&&(this._center=[W(e[0],r.getWidth()),W(e[1],r.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var r=this.zoomLimit;r&&(r.max!=null&&(e=Math.min(r.max,e)),r.min!=null&&(e=Math.max(r.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),r=e.x+e.width/2,i=e.y+e.height/2;return[r,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=Ut([],n,e),i=Ut([],i,e),r.originX=n[0],r.originY=n[1],r.x=i[0]-n[0],r.y=i[1]-n[1],r.scaleX=r.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,r=this._rawTransformable;r.parent=e,e.updateTransform(),r.updateTransform(),ju(this.transform||(this.transform=[]),r.transform||er()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],Lo(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,r=this._roamTransformable,i=new or;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,r,i){var n=r?this._rawTransform:this.transform;return i=i||[],n?Oi(i,e,n):Zu(i,e)},t.prototype.pointToData=function(e){var r=this.invTransform;return r?Oi([],e,r):[e[0],e[1]]},t.prototype.convertToPixel=function(e,r,i){var n=Ni(r);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var n=Ni(r);return n===this?n.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(or);function Ni(a){var t=a.seriesModel;return t?t.coordinateSystem:null}function ms(a){if(j(a)){var t=new DOMParser;a=t.parseFromString(a,"text/xml")}var e=a;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var qr,Rr={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Bi=te(Rr),Vr={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Fi=te(Vr),wh=function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(t,e){e=e||{};var r=ms(t);this._defsUsePending=[];var i=new $;this._root=i;var n=[],o=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||e.width),l=parseFloat(r.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),ue(r,i,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,i,n,null,!1,!1),u=u.nextSibling;Dh(this._defs,this._defsUsePending),this._defsUsePending=[];var c,v;if(o){var h=Hr(o);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&s!=null&&l!=null&&(v=Ss(c,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var f=i;i=new $,i.add(f),f.scaleX=f.scaleY=v.scale,f.x=v.x,f.y=v.y}return!e.ignoreRootClip&&s!=null&&l!=null&&i.setClipPath(new he({shape:{x:0,y:0,width:s,height:l}})),{root:i,width:s,height:l,viewBoxRect:c,viewBoxTransform:v,named:n}},a.prototype._parseNode=function(t,e,r,i,n,o){var s=t.nodeName.toLowerCase(),l,u=i;if(s==="defs"&&(n=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=e;else{if(!n){var c=qr[s];if(c&&E(qr,s)){l=c.call(this,t,e);var v=t.getAttribute("name");if(v){var h={name:v,namedFrom:null,svgNodeTagLower:s,el:l};r.push(h),s==="g"&&(u=h)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:l});e.add(l)}}var f=Wi[s];if(f&&E(Wi,s)){var p=f.call(this,t),g=t.getAttribute("id");g&&(this._defs[g]=p)}}if(l&&l.isGroup)for(var d=t.firstChild;d;)d.nodeType===1?this._parseNode(d,l,r,u,n,o):d.nodeType===3&&o&&this._parseText(d,l),d=d.nextSibling},a.prototype._parseText=function(t,e){var r=new Bo({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});de(e,r),ue(t,r,this._defsUsePending,!1,!1),Th(r,e);var i=r.style,n=i.fontSize;n&&n<9&&(i.fontSize=9,r.scaleX*=n/9,r.scaleY*=n/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var s=r.getBoundingRect();return this._textX+=s.width,e.add(r),r},a.internalField=function(){qr={g:function(t,e){var r=new $;return de(e,r),ue(t,r,this._defsUsePending,!1,!1),r},rect:function(t,e){var r=new he;return de(e,r),ue(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(t,e){var r=new Pt;return de(e,r),ue(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),r.silent=!0,r},line:function(t,e){var r=new Ue;return de(e,r),ue(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(t,e){var r=new Vo;return de(e,r),ue(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(t,e){var r=t.getAttribute("points"),i;r&&(i=Yi(r));var n=new It({shape:{points:i||[]},silent:!0});return de(e,n),ue(t,n,this._defsUsePending,!1,!1),n},polyline:function(t,e){var r=t.getAttribute("points"),i;r&&(i=Yi(r));var n=new Qe({shape:{points:i||[]},silent:!0});return de(e,n),ue(t,n,this._defsUsePending,!1,!1),n},image:function(t,e){var r=new qe;return de(e,r),ue(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),r.silent=!0,r},text:function(t,e){var r=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",n=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(n),this._textY=parseFloat(i)+parseFloat(o);var s=new $;return de(e,s),ue(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var r=t.getAttribute("x"),i=t.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var n=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new $;return de(e,s),ue(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(n),this._textY+=parseFloat(o),s},path:function(t,e){var r=t.getAttribute("d")||"",i=Ju(r);return de(e,i),ue(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),a}(),Wi={lineargradient:function(a){var t=parseInt(a.getAttribute("x1")||"0",10),e=parseInt(a.getAttribute("y1")||"0",10),r=parseInt(a.getAttribute("x2")||"10",10),i=parseInt(a.getAttribute("y2")||"0",10),n=new Ya(t,e,r,i);return Hi(a,n),Ui(a,n),n},radialgradient:function(a){var t=parseInt(a.getAttribute("cx")||"0",10),e=parseInt(a.getAttribute("cy")||"0",10),r=parseInt(a.getAttribute("r")||"0",10),i=new ko(t,e,r);return Hi(a,i),Ui(a,i),i}};function Hi(a,t){var e=a.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function Ui(a,t){for(var e=a.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var r=e.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var n={};xs(e,n,n);var o=n.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:o})}e=e.nextSibling}}function de(a,t){a&&a.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),K(t.__inheritedStyle,a.__inheritedStyle))}function Yi(a){for(var t=Hr(a),e=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),n=parseFloat(t[r+1]);e.push([i,n])}return e}function ue(a,t,e,r,i){var n=t,o=n.__inheritedStyle=n.__inheritedStyle||{},s={};a.nodeType===1&&(Ih(a,t),xs(a,o,s),r||Mh(a,o,s)),n.style=n.style||{},o.fill!=null&&(n.style.fill=Xi(n,"fill",o.fill,e)),o.stroke!=null&&(n.style.stroke=Xi(n,"stroke",o.stroke,e)),w(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(n.style[l]=parseFloat(o[l]))}),w(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(n.style[l]=o[l])}),i&&(n.__selfStyle=s),o.lineDash&&(n.style.lineDash=N(Hr(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(n.invisible=!0),o.display==="none"&&(n.ignore=!0)}function Th(a,t){var e=t.__selfStyle;if(e){var r=e.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),a.style.textBaseline=i}var n=t.__inheritedStyle;if(n){var o=n.textAlign,s=o;o&&(o==="middle"&&(s="center"),a.style.textAlign=s)}}var Ch=/^url\(\s*#(.*?)\)/;function Xi(a,t,e,r){var i=e&&e.match(Ch);if(i){var n=Ku(i[1]);r.push([a,t,n]);return}return e==="none"&&(e=null),e}function Dh(a,t){for(var e=0;e<t.length;e++){var r=t[e];r[0].style[r[1]]=a[r[2]]}}var Lh=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Hr(a){return a.match(Lh)||[]}var Ph=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Qr=Math.PI/180;function Ih(a,t){var e=a.getAttribute("transform");if(e){e=e.replace(/,/g," ");var r=[],i=null;e.replace(Ph,function(v,h,f){return r.push(h,f),""});for(var n=r.length-1;n>0;n-=2){var o=r[n],s=r[n-1],l=Hr(o);switch(i=i||er(),s){case"translate":Yt(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":qu(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Nr(i,i,-parseFloat(l[0])*Qr,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*Qr);xa(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*Qr);xa(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var $i=/([^\s:;]+)\s*:\s*([^:;]+)/g;function xs(a,t,e){var r=a.getAttribute("style");if(r){$i.lastIndex=0;for(var i;(i=$i.exec(r))!=null;){var n=i[1],o=E(Rr,n)?Rr[n]:null;o&&(t[o]=i[2]);var s=E(Vr,n)?Vr[n]:null;s&&(e[s]=i[2])}}}function Mh(a,t,e){for(var r=0;r<Bi.length;r++){var i=Bi[r],n=a.getAttribute(i);n!=null&&(t[Rr[i]]=n)}for(var r=0;r<Fi.length;r++){var i=Fi[r],n=a.getAttribute(i);n!=null&&(e[Vr[i]]=n)}}function Ss(a,t){var e=t.width/a.width,r=t.height/a.height,i=Math.min(e,r);return{scale:i,x:-(a.x+a.width/2)*i+(t.x+t.width/2),y:-(a.y+a.height/2)*i+(t.y+t.height/2)}}function Rh(a,t){var e=new wh;return e.parse(a,t)}var Vh=J(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),kh=function(){function a(t,e){this.type="geoSVG",this._usedGraphicMap=J(),this._freedGraphics=[],this._mapName=t,this._parsedXML=ms(e)}return a.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=Gh(t.named),r=e.regions,i=e.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(t){var e,r;try{e=t&&Rh(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=e.root,Cr(r!=null)}catch(d){throw new Error(`Invalid svg format
`+d.message)}var i=new $;i.add(r),i.isGeoSVGGraphicRoot=!0;var n=e.width,o=e.height,s=e.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,v=void 0,h=void 0;if(n!=null?(u=0,v=n):s&&(u=s.x,v=s.width),o!=null?(c=0,h=o):s&&(c=s.y,h=s.height),u==null||c==null){var f=r.getBoundingRect();u==null&&(u=f.x,v=f.width),c==null&&(c=f.y,h=f.height)}l=this._boundingRect=new we(u,c,v,h)}if(s){var p=Ss(s,l);r.scaleX=r.scaleY=p.scale,r.x=p.x,r.y=p.y}i.setClipPath(new he({shape:l.plain()}));var g=[];return w(e.named,function(d){Vh.get(d.svgNodeTagLower)!=null&&(g.push(d),Eh(d.el))}),{root:i,boundingRect:l,named:g}},a.prototype.useGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,r),r)},a.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);r&&(e.removeKey(t),this._freedGraphics.push(r))},a}();function Eh(a){a.silent=!1,a.isGroup&&a.traverse(function(t){t.silent=!1})}function Gh(a){var t=[],e=J();return w(a,function(r){if(r.namedFrom==null){var i=new Mv(r.name,r.el);t.push(i),e.set(r.name,i)}}),{regions:t,regionsMap:e}}var Ca=[126,25],ji="",it=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var rt=0;rt<it.length;rt++)for(var yt=0;yt<it[rt].length;yt++)it[rt][yt][0]/=10.5,it[rt][yt][1]/=-10.5/.75,it[rt][yt][0]+=Ca[0],it[rt][yt][1]+=Ca[1];function zh(a,t){if(a==="china"){for(var e=0;e<t.length;e++)if(t[e].name===ji)return;t.push(new cs(ji,N(it,function(r){return{type:"polygon",exterior:r}}),Ca))}}var Oh={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function Nh(a,t){if(a==="china"){var e=Oh[t.name];if(e){var r=t.getCenter();r[0]+=e[0]/10.5,r[1]+=-e[1]/(10.5/.75),t.setCenter(r)}}}var Bh=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Fh(a,t){a==="china"&&t.name===""&&t.geometries.push({type:"polygon",exterior:Bh[0]})}var Wh="name",Hh=function(){function a(t,e,r){this.type="geoJSON",this._parsedMap=J(),this._mapName=t,this._specialAreas=r,this._geoJSON=Yh(e)}return a.prototype.load=function(t,e){e=e||Wh;var r=this._parsedMap.get(e);if(!r){var i=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:i,boundingRect:Uh(i)})}var n=J(),o=[];return w(r.regions,function(s){var l=s.name;t&&E(t,l)&&(s=s.cloneShallow(l=t[l])),o.push(s),n.set(l,s)}),{regions:o,boundingRect:r.boundingRect||new we(0,0,0,0),regionsMap:n}},a.prototype._parseToRegions=function(t){var e=this._mapName,r=this._geoJSON,i;try{i=r?Ta(r,t):[]}catch(n){throw new Error(`Invalid geoJson format
`+n.message)}return zh(e,i),w(i,function(n){var o=n.name;Nh(e,n),Fh(e,n);var s=this._specialAreas&&this._specialAreas[o];s&&n.transformTo(s.left,s.top,s.width,s.height)},this),i},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a}();function Uh(a){for(var t,e=0;e<a.length;e++){var r=a[e].getBoundingRect();t=t||r.clone(),t.union(r)}return t}function Yh(a){return j(a)?typeof JSON!="undefined"&&JSON.parse?JSON.parse(a):new Function("return ("+a+");")():a}var zt=J();const Oe={registerMap:function(a,t,e){if(t.svg){var r=new kh(a,t.svg);zt.set(a,r)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t;var r=new Hh(a,i,e);zt.set(a,r)}},getGeoResource:function(a){return zt.get(a)},getMapForUser:function(a){var t=zt.get(a);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(a,t,e){var r=zt.get(a);if(r)return r.load(t,e)}};var Xh={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},_s=["lng","lat"],Da=function(a){R(t,a);function t(e,r,i){var n=a.call(this,e)||this;n.dimensions=_s,n.type="geo",n._nameCoordMap=J(),n.map=r;var o=i.projection,s=Oe.load(r,i.nameMap,i.nameProperty),l=Oe.getGeoResource(r);n.resourceType=l?l.type:null;var u=n.regions=s.regions,c=Xh[l.type];n._regionsMap=s.regionsMap,n.regions=s.regions,n.projection=o;var v;if(o)for(var h=0;h<u.length;h++){var f=u[h].getBoundingRect(o);v=v||f.clone(),v.union(f)}else v=s.boundingRect;return n.setBoundingRect(v.x,v.y,v.width,v.height),n.aspectScale=o?1:me(i.aspectScale,c.aspectScale),n._invertLongitute=o?!1:c.invertLongitute,n}return t.prototype._transformTo=function(e,r,i,n){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new we(e,r,i,n));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var r=this.regions,i=0;i<r.length;i++){var n=r[i];if(n.type==="geoJSON"&&n.contain(e))return r[i]}},t.prototype.addGeoCoord=function(e,r){this._nameCoordMap.set(e,r)},t.prototype.getGeoCoord=function(e){var r=this._regionsMap.get(e);return this._nameCoordMap.get(e)||r&&r.getCenter()},t.prototype.dataToPoint=function(e,r,i){if(j(e)&&(e=this.getGeoCoord(e)),e){var n=this.projection;return n&&(e=n.project(e)),e&&this.projectedToPoint(e,r,i)}},t.prototype.pointToData=function(e){var r=this.projection;return r&&(e=r.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return a.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,r,i){return a.prototype.dataToPoint.call(this,e,r,i)},t.prototype.convertToPixel=function(e,r,i){var n=Zi(r);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var n=Zi(r);return n===this?n.pointToData(i):null},t}(ys);Lt(Da,ys);function Zi(a){var t=a.geoModel,e=a.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Br).models[0]||{}).coordinateSystem:null}function Ji(a,t){var e=a.get("boundingCoords");if(e!=null){var r=e[0],i=e[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var n=this.projection;if(n){var o=r[0],s=r[1],l=i[0],u=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(_,A,T,C){for(var D=T-_,L=C-A,I=0;I<=100;I++){var P=I/100,V=n.project([_+D*P,A+L*P]);Po(r,r,V),Io(i,i,V)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var v=this.getBoundingRect(),h=a.get("layoutCenter"),f=a.get("layoutSize"),p=t.getWidth(),g=t.getHeight(),d=v.width/v.height*this.aspectScale,y=!1,m,x;h&&f&&(m=[W(h[0],p),W(h[1],g)],x=W(f,Math.min(p,g)),!isNaN(m[0])&&!isNaN(m[1])&&!isNaN(x)&&(y=!0));var S;if(y)S={},d>1?(S.width=x,S.height=x/d):(S.height=x,S.width=x*d),S.y=m[1]-S.height/2,S.x=m[0]-S.width/2;else{var b=a.getBoxLayoutParams();b.aspect=d,S=Ge(b,{width:p,height:g})}this.setViewRect(S.x,S.y,S.width,S.height),this.setCenter(a.get("center"),t),this.setZoom(a.get("zoom"))}function $h(a,t){w(t.get("geoCoord"),function(e,r){a.addGeoCoord(r,e)})}var jh=function(){function a(){this.dimensions=_s}return a.prototype.create=function(t,e){var r=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var l=o.get("map"),u=new Da(l+s,l,G({nameMap:o.get("nameMap")},i(o)));u.zoomLimit=o.get("scaleLimit"),r.push(u),o.coordinateSystem=u,u.model=o,u.resize=Ji,u.resize(o,e)}),t.eachSeries(function(o){var s=o.get("coordinateSystem");if(s==="geo"){var l=o.get("geoIndex")||0;o.coordinateSystem=r[l]}});var n={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();n[s]=n[s]||[],n[s].push(o)}}),w(n,function(o,s){var l=N(o,function(c){return c.get("nameMap")}),u=new Da(s,s,G({nameMap:Qu(l)},i(o[0])));u.zoomLimit=Ka.apply(null,N(o,function(c){return c.get("scaleLimit")})),r.push(u),u.resize=Ji,u.resize(o[0],e),w(o,function(c){c.coordinateSystem=u,$h(u,c)})}),r},a.prototype.getFilledRegions=function(t,e,r,i){for(var n=(t||[]).slice(),o=J(),s=0;s<n.length;s++)o.set(n[s].name,n[s]);var l=Oe.load(e,r,i);return w(l.regions,function(u){var c=u.name;!o.get(c)&&n.push({name:c})}),n},a}(),bs=new jh,Zh=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r,i){var n=Oe.getGeoResource(e.map);if(n&&n.type==="geoJSON"){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(e,i),Fo(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,r=this.option;r.regions=bs.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=ja(r.regions||[],function(n,o){var s=o.name;return s&&(n.set(s,new je(o,e,e.ecModel)),o.selected&&(i[s]=!0)),n},J()),r.selectedMap||(r.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new je(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,r){var i=this.getRegionModel(e),n=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:e};if(Ie(n))return o.status=r,n(o);if(j(n))return n.replace("{a}",e!=null?e:"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var r=this.option,i=r.selectedMode;if(i){i!=="multiple"&&(r.selectedMap=null);var n=r.selectedMap||(r.selectedMap={});n[e]=!0}},t.prototype.unSelect=function(e){var r=this.option.selectedMap;r&&(r[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var r=this.option.selectedMap;return!!(r&&r[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(le);function Ki(a,t){return a.pointToProjected?a.pointToProjected(t):a.pointToData(t)}function Jh(a,t,e,r){var i=a.getZoom(),n=a.getCenter(),o=t.zoom,s=a.projectedToPoint?a.projectedToPoint(n):a.dataToPoint(n);if(t.dx!=null&&t.dy!=null&&(s[0]-=t.dx,s[1]-=t.dy,a.setCenter(Ki(a,s),r)),o!=null){if(e){var l=e.min||0,u=e.max||1/0;o=Math.max(Math.min(i*o,u),l)/i}a.scaleX*=o,a.scaleY*=o;var c=(t.originX-a.x)*(o-1),v=(t.originY-a.y)*(o-1);a.x-=c,a.y-=v,a.updateTransform(),a.setCenter(Ki(a,s),r),a.setZoom(o*i)}return{center:a.getCenter(),zoom:a.getZoom()}}function Kh(a,t,e){var r=a.target;r.x+=t,r.y+=e,r.dirty()}function qh(a,t,e,r){var i=a.target,n=a.zoomLimit,o=a.zoom=a.zoom||1;if(o*=t,n){var s=n.min||0,l=n.max||1/0;o=Math.max(Math.min(l,o),s)}var u=o/a.zoom;a.zoom=o,i.x-=(e-i.x)*(u-1),i.y-=(r-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var ii=["rect","circle","line","ellipse","polygon","polyline","path"],Qh=J(ii),ef=J(ii.concat(["g"])),tf=J(ii.concat(["g"])),As=Ne();function cr(a){var t=a.getItemStyle(),e=a.get("areaColor");return e!=null&&(t.fill=e),t}function qi(a){var t=a.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var ws=function(){function a(t){var e=new $;this.uid=ec("ec_map_draw"),this._controller=new tc(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new $),e.add(this._svgGroup=new $)}return a.prototype.draw=function(t,e,r,i,n){var o=t.mainType==="geo",s=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(y){!s&&y.getHostGeoModel()===t&&(s=y.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this.group,v=l.getTransformInfo(),h=v.raw,f=v.roam,p=!u.childAt(0)||n;p?(c.x=f.x,c.y=f.y,c.scaleX=f.scaleX,c.scaleY=f.scaleY,c.dirty()):se(c,f,t);var g=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,d={api:r,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:g,isGeo:o,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(d):l.resourceType==="geoSVG"&&this._buildSVG(d),this._updateController(t,e,r),this._updateMapSelectHandler(t,u,r,i)},a.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=J(),r=J(),i=this._regionsGroup,n=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function c(f,p){return p&&(f=p(f)),f&&[f[0]*n.scaleX+n.x,f[1]*n.scaleY+n.y]}function v(f){for(var p=[],g=!u&&l&&l.project,d=0;d<f.length;++d){var y=c(f[d],g);y&&p.push(y)}return p}function h(f){return{shape:{points:v(f)}}}i.removeAll(),w(t.geo.regions,function(f){var p=f.name,g=e.get(p),d=r.get(p)||{},y=d.dataIdx,m=d.regionModel;g||(g=e.set(p,new $),i.add(g),y=s?s.indexOfName(p):null,m=t.isGeo?o.getRegionModel(p):s?s.getItemModel(y):null,r.set(p,{dataIdx:y,regionModel:m}));var x=[],S=[];w(f.geometries,function(A){if(A.type==="polygon"){var T=[A.exterior].concat(A.interiors||[]);u&&(T=nn(T,u)),w(T,function(D){x.push(new It(h(D)))})}else{var C=A.points;u&&(C=nn(C,u,!0)),w(C,function(D){S.push(new Qe(h(D)))})}});var b=c(f.getCenter(),l&&l.project);function _(A,T){if(A.length){var C=new Ua({culling:!0,segmentIgnoreThreshold:1,shape:{paths:A}});g.add(C),Qi(t,C,y,m),en(t,C,p,m,o,y,b),T&&(qi(C),w(C.states,qi))}}_(x),_(S,!0)}),e.each(function(f,p){var g=r.get(p),d=g.dataIdx,y=g.regionModel;tn(t,f,p,y,o,d),rn(t,f,p,y,o),an(t,f,p,y,o)},this)},a.prototype._buildSVG=function(t){var e=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=J(),n=!1;w(this._svgGraphicRecord.named,function(o){var s=o.name,l=t.mapOrGeoModel,u=t.data,c=o.svgNodeTagLower,v=o.el,h=u?u.indexOfName(s):null,f=l.getRegionModel(s);if(Qh.get(c)!=null&&v instanceof Dr&&Qi(t,v,h,f),v instanceof Dr&&(v.culling=!0),v.z2EmphasisLift=0,!o.namedFrom&&(tf.get(c)!=null&&en(t,v,s,f,l,h,null),tn(t,v,s,f,l,h),rn(t,v,s,f,l),ef.get(c)!=null)){var p=an(t,v,s,f,l);p==="self"&&(n=!0);var g=i.get(s)||i.set(s,[]);g.push(v)}},this),this._enableBlurEntireSVG(n,t)},a.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var r=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(n){if(!n.isGroup){Wo(n);var o=n.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),n.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var r=e.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var n=i.get(t);return n?[n]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},a.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},a.prototype._useSVG=function(t){var e=Oe.getGeoResource(t);if(e&&e.type==="geoSVG"){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},a.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=Oe.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(t,e,r){var i=t.coordinateSystem,n=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=i.getZoom(),n.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}n.off("pan").on("pan",function(u){this._mouseDownFlag=!1,Kh(o,u.dx,u.dy),r.dispatchAction(G(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),n.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,qh(o,u.scale,u.originX,u.originY),r.dispatchAction(G(l(),{totalZoom:o.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),n.setPointerChecker(function(u,c,v){return i.containPoint([c,v])&&!rc(u,r,t)})},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=As(e).ignore)})},a.prototype._updateMapSelectHandler=function(t,e,r,i){var n=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){n._mouseDownFlag=!0}),e.on("click",function(o){n._mouseDownFlag&&(n._mouseDownFlag=!1)}))},a}();function Qi(a,t,e,r){var i=r.getModel("itemStyle"),n=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=cr(i),u=cr(n),c=cr(s),v=cr(o),h=a.data;if(h){var f=h.getItemVisual(e,"style"),p=h.getItemVisual(e,"decal");a.isVisualEncodedByVisualMap&&f.fill&&(l.fill=f.fill),p&&(l.decal=Ho(p,a.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=v,Wo(t)}function en(a,t,e,r,i,n,o){var s=a.data,l=a.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),n)),c=s&&s.getItemLayout(n);if(l||u||c&&c.showLabel){var v=l?e:n,h=void 0;(!s||n>=0)&&(h=i);var f=o?{normal:{align:"center",verticalAlign:"middle"}}:null;vt(t,Vt(r),{labelFetcher:h,labelDataIndex:v,defaultText:e},f);var p=t.getTextContent();if(p&&(As(p).ignore=p.ignore,t.textConfig&&o)){var g=t.getBoundingRect().clone();t.textConfig.layoutRect=g,t.textConfig.position=[(o[0]-g.x)/g.width*100+"%",(o[1]-g.y)/g.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function tn(a,t,e,r,i,n){a.data?a.data.setItemGraphicEl(n,t):oe(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:r&&r.option||{}}}function rn(a,t,e,r,i){a.data||qa({el:t,componentModel:i,itemName:e,itemTooltipOption:r.get("tooltip")})}function an(a,t,e,r,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var n=r.getModel("emphasis"),o=n.get("focus");return rr(t,o,n.get("blurScope"),n.get("disabled")),a.isGeo&&ac(t,i,e),o}function nn(a,t,e){var r=[],i;function n(){i=[]}function o(){i.length&&(r.push(i),i=[])}var s=t({polygonStart:n,polygonEnd:o,lineStart:n,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!e&&s.polygonStart(),w(a,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!e&&s.polygonEnd(),r}var rf=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,r){this._api=r},t.prototype.render=function(e,r,i,n){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new ws(i));var o=this._mapDraw;o.draw(e,r,i,this,n),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,r,i)},t.prototype._handleRegionClick=function(e){var r;Uo(e.target,function(i){return(r=oe(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},t.prototype.updateSelectStatus=function(e,r,i){var n=this;this._mapDraw.group.traverse(function(o){var s=oe(o).eventData;if(s)return n._model.isSelected(s.name)?i.enterSelect(o):i.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(pe);function af(a,t,e){Oe.registerMap(a,t,e)}function nf(a){a.registerCoordinateSystem("geo",bs),a.registerComponentModel(Zh),a.registerComponentView(rf),a.registerImpl("registerMap",af),a.registerImpl("getMap",function(e){return Oe.getMapForUser(e)});function t(e,r){r.update="geo:updateSelectStatus",a.registerAction(r,function(i,n){var o={},s=[];return n.eachComponent({mainType:"geo",query:i},function(l){l[e](i.name);var u=l.coordinateSystem;w(u.regions,function(v){o[v.name]=l.isSelected(v.name)||!1});var c=[];w(o,function(v,h){o[h]&&c.push(h)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,r,i){var n=e.componentType||"series";r.eachComponent({mainType:n,query:e},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=Jh(s,e,o.get("scaleLimit"),i);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),n==="series"&&w(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function of(a){sf(a),lf(a)}function sf(a){if(!a.parallel){var t=!1;w(a.series,function(e){e&&e.type==="parallel"&&(t=!0)}),t&&(a.parallel=[{}])}}function lf(a){var t=Ct(a.parallelAxis);w(t,function(e){if(fe(e)){var r=e.parallelIndex||0,i=Ct(a.parallel)[r];i&&i.parallelAxisDefault&&xe(e,i.parallelAxisDefault,!1)}})}var uf=5,cf=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){this._model=e,this._api=i,this._handlers||(this._handlers={},w(vf,function(n,o){i.getZr().on(o,this._handlers[o]=X(n,this))},this)),ic(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,r){nc(this,"_throttledDispatchExpand"),w(this._handlers,function(i,n){r.getZr().off(n,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(G({type:"parallelAxisExpand"},e))},t.type="parallel",t}(pe),vf={mousedown:function(a){ea(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var t=this._mouseDownPoint;if(ea(this,"click")&&t){var e=[a.offsetX,a.offsetY],r=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2);if(r>uf)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!(this._mouseDownPoint||!ea(this,"mousemove"))){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),r=e.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function ea(a,t){var e=a._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var hf=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var r=this.option;e&&xe(r,e,!0),this._initDimensions()},t.prototype.contains=function(e,r){var i=e.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){w(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){e.hasOwnProperty(r)&&(this.option[r]=e[r])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],r=this.parallelAxisIndex=[],i=Ke(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this);w(i,function(n){e.push("dim"+n.get("dim")),r.push(n.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(le),ff=function(a){R(t,a);function t(e,r,i,n,o){var s=a.call(this,e,r,i)||this;return s.type=n||"value",s.axisIndex=o,s}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(Re),ta=w,Ts=Math.min,Cs=Math.max,on=Math.floor,pf=Math.ceil,sn=Ro,gf=Math.PI,df=function(){function a(t,e,r){this.type="parallel",this._axesMap=J(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,r)}return a.prototype._init=function(t,e,r){var i=t.dimensions,n=t.parallelAxisIndex;ta(i,function(o,s){var l=n[s],u=e.getComponent("parallelAxis",l),c=this._axesMap.set(o,new ff(o,Wa(u),[0,0],u.get("type"),l)),v=c.type==="category";c.onBand=v&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},a.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},a.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),r=e.axisBase,i=e.layoutBase,n=e.pixelDimIndex,o=t[1-n],s=t[n];return o>=r&&o<=r+e.axisLength&&s>=i&&s<=i+e.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(r){if(t.contains(r,e)){var i=r.getData();ta(this.dimensions,function(n){var o=this._axesMap.get(n);o.scale.unionExtentFromData(i,i.mapDimension(n)),Tr(o.scale,o.model)},this)}},this)},a.prototype.resize=function(t,e){this._rect=Ge(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,r=["x","y"],i=["width","height"],n=t.get("layout"),o=n==="horizontal"?0:1,s=e[i[o]],l=[0,s],u=this.dimensions.length,c=vr(t.get("axisExpandWidth"),l),v=vr(t.get("axisExpandCount")||0,[0,u]),h=t.get("axisExpandable")&&u>3&&u>v&&v>1&&c>0&&s>0,f=t.get("axisExpandWindow"),p;if(f)p=vr(f[1]-f[0],l),f[1]=f[0]+p;else{p=vr(c*(v-1),l);var g=t.get("axisExpandCenter")||on(u/2);f=[c*g-p/2],f[1]=f[0]+p}var d=(s-p)/(u-v);d<3&&(d=0);var y=[on(sn(f[0]/c,1))+1,pf(sn(f[1]/c,1))-1],m=d/c*f[0];return{layout:n,pixelDimIndex:o,layoutBase:e[r[o]],layoutLength:s,axisBase:e[r[1-o]],axisLength:e[i[1-o]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:d,axisExpandWindow:f,axisCount:u,winInnerIndices:y,axisExpandWindow0Pos:m}},a.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),n=i.layout;e.each(function(o){var s=[0,i.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),ta(r,function(o,s){var l=(i.axisExpandable?mf:yf)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:gf/2,vertical:0},v=[u[n].x+t.x,u[n].y+t.y],h=c[n],f=er();Nr(f,f,h),Yt(f,f,v),this._axesLayout[o]={position:v,rotation:h,transform:f,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(t){return this._axesMap.get(t)},a.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},a.prototype.eachActiveState=function(t,e,r,i){r==null&&(r=0),i==null&&(i=t.count());var n=this._axesMap,o=this.dimensions,s=[],l=[];w(o,function(d){s.push(t.mapDimension(d)),l.push(n.get(d).model)});for(var u=this.hasAxisBrushed(),c=r;c<i;c++){var v=void 0;if(!u)v="normal";else{v="active";for(var h=t.getValues(s,c),f=0,p=o.length;f<p;f++){var g=l[f].getActiveState(h[f]);if(g==="inactive"){v="inactive";break}}}e(v,c)}},a.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,r=!1,i=0,n=t.length;i<n;i++)e.get(t[i]).model.getActiveState()!=="normal"&&(r=!0);return r},a.prototype.axisCoordToPoint=function(t,e){var r=this._axesLayout[e];return bt([t,0],r.transform)},a.prototype.getAxisLayout=function(t){return q(this._axesLayout[t])},a.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),r=e.pixelDimIndex,i=e.axisExpandWindow.slice(),n=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var s=t[r]-e.layoutBase-e.axisExpandWindow0Pos,l,u="slide",c=e.axisCollapseWidth,v=this._model.get("axisExpandSlideTriggerArea"),h=v[0]!=null;if(c)h&&c&&s<n*v[0]?(u="jump",l=s-n*v[2]):h&&c&&s>n*(1-v[0])?(u="jump",l=s-n*(1-v[2])):(l=s-n*v[1])>=0&&(l=s-n*(1-v[1]))<=0&&(l=0),l*=e.axisExpandWidth/c,l?Yo(l,i,o,"all"):u="none";else{var f=i[1]-i[0],p=o[1]*s/f;i=[Cs(0,p-f/2)],i[1]=Ts(o[1],i[0]+f),i[0]=i[1]-f}return{axisExpandWindow:i,behavior:u}},a}();function vr(a,t){return Ts(Cs(a,t[0]),t[1])}function yf(a,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*a,axisNameAvailableWidth:e,axisLabelShow:!0}}function mf(a,t){var e=t.layoutLength,r=t.axisExpandWidth,i=t.axisCount,n=t.axisCollapseWidth,o=t.winInnerIndices,s,l=n,u=!1,c;return a<o[0]?(s=a*n,c=n):a<=o[1]?(s=t.axisExpandWindow0Pos+a*r-t.axisExpandWindow[0],l=r,u=!0):(s=e-(i-1-a)*n,c=n),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function xf(a,t){var e=[];return a.eachComponent("parallel",function(r,i){var n=new df(r,a,t);n.name="parallel_"+i,n.resize(r,t),r.coordinateSystem=n,n.model=r,e.push(n)}),a.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",Br).models[0];r.coordinateSystem=i.coordinateSystem}}),e}var Sf={create:xf},La=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return t.prototype.getAreaSelectStyle=function(){return oc([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var r=this.activeIntervals=q(e);if(r)for(var i=r.length-1;i>=0;i--)Qt(r[i])},t.prototype.getActiveState=function(e){var r=this.activeIntervals;if(!r.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var n=0,o=r.length;n<o;n++)if(r[n][0]<=e&&e<=r[n][1])return"active";return"inactive"},t}(le);Lt(La,Or);var _f=["axisLine","axisTickLabel","axisName"],bf=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r){a.prototype.init.apply(this,arguments),(this._brushController=new sc(r.getZr())).on("brush",X(this._onBrush,this))},t.prototype.render=function(e,r,i,n){if(!Af(e,r,n)){this.axisModel=e,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new $,this.group.add(this._axisGroup),!!e.get("show")){var s=Tf(e,r),l=s.coordinateSystem,u=e.getAreaSelectStyle(),c=u.width,v=e.axis.dim,h=l.getAxisLayout(v),f=G({strokeContainThreshold:c},h),p=new Tt(e,f);w(_f,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(f,u,e,s,c,i),No(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,r,i,n,o,s){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),v=we.create({x:l[0],y:-o/2,width:u,height:o});v.x-=c,v.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:lc(v),isTargetByCursor:uc(v,s,n),getLinearBrushOtherExtent:cc(v,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(wf(i))},t.prototype._onBrush=function(e){var r=e.areas,i=this.axisModel,n=i.axis,o=N(r,function(s){return[n.coordToData(s.range[0],!0),n.coordToData(s.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(pe);function Af(a,t,e){return e&&e.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:e})[0]===a}function wf(a){var t=a.axis;return N(a.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}function Tf(a,t){return t.getComponent("parallel",a.get("parallelIndex"))}var Cf={type:"axisAreaSelect",event:"axisAreaSelected"};function Df(a){a.registerAction(Cf,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),a.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}var Lf={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Pf(a){a.registerComponentView(cf),a.registerComponentModel(hf),a.registerCoordinateSystem("parallel",Sf),a.registerPreprocessor(of),a.registerComponentModel(La),a.registerComponentView(bf),_a(a,"parallel",La,Lf),Df(a)}var If=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r,i){var n=Xo(e);a.prototype.init.apply(this,arguments),ln(e,n)},t.prototype.mergeOption=function(e){a.prototype.mergeOption.apply(this,arguments),ln(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(le);function ln(a,t){var e=a.cellSize,r;B(e)?r=e:r=a.cellSize=[e,e],r.length===1&&(r[1]=r[0]);var i=N([0,1],function(n){return vc(t,n)&&(r[n]="auto"),r[n]!=null&&r[n]!=="auto"});Qa(a,t,{type:"box",ignoreSize:i})}var Mf=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var n=this.group;n.removeAll();var o=e.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=r.getLocaleModel();this._renderDayRect(e,s,n),this._renderLines(e,s,l,n),this._renderYearText(e,s,l,n),this._renderMonthText(e,u,l,n),this._renderWeekText(e,u,s,l,n)},t.prototype._renderDayRect=function(e,r,i){for(var n=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),s=n.getCellWidth(),l=n.getCellHeight(),u=r.start.time;u<=r.end.time;u=n.getNextNDay(u,1).time){var c=n.dataToRect([u],!1).tl,v=new he({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});i.add(v)}},t.prototype._renderLines=function(e,r,i,n){var o=this,s=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var v=r.start,h=0;v.time<=r.end.time;h++){p(v.formatedDate),h===0&&(v=s.getDateInfo(r.start.y+"-"+r.start.m));var f=v.date;f.setMonth(f.getMonth()+1),v=s.getDateInfo(f)}p(s.getNextNDay(r.end.time,1).formatedDate);function p(g){o._firstDayOfMonth.push(s.getDateInfo(g)),o._firstDayPoints.push(s.dataToRect([g],!1).tl);var d=o._getLinePointsOfOneWeek(e,g,i);o._tlpoints.push(d[0]),o._blpoints.push(d[d.length-1]),u&&o._drawSplitline(d,l,n)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,i),l,n),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,i),l,n)},t.prototype._getEdgesPoints=function(e,r,i){var n=[e[0].slice(),e[e.length-1].slice()],o=i==="horizontal"?0:1;return n[0][o]=n[0][o]-r/2,n[1][o]=n[1][o]+r/2,n},t.prototype._drawSplitline=function(e,r,i){var n=new Qe({z2:20,shape:{points:e},style:r});i.add(n)},t.prototype._getLinePointsOfOneWeek=function(e,r,i){for(var n=e.coordinateSystem,o=n.getDateInfo(r),s=[],l=0;l<7;l++){var u=n.getNextNDay(o.time,l),c=n.dataToRect([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,r){return j(e)&&e?hc(e,r):Ie(e)?e(r):r.nameMap},t.prototype._yearTextPositionControl=function(e,r,i,n,o){var s=r[0],l=r[1],u=["center","bottom"];n==="bottom"?(l+=o,u=["center","top"]):n==="left"?s-=o:n==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(n==="left"||n==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,r,i,n){var o=e.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,v=(u[0][1]+u[1][1])/2,h=i==="horizontal"?0:1,f={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],v],right:[u[h][0],v]},p=r.start.y;+r.end.y>+r.start.y&&(p=p+"-"+r.end.y);var g=o.get("formatter"),d={start:r.start.y,end:r.end.y,nameMap:p},y=this._formatterLabel(g,d),m=new ee({z2:30,style:ve(o,{text:y})});m.attr(this._yearTextPositionControl(m,f[l],i,l,s)),n.add(m)}},t.prototype._monthTextPositionControl=function(e,r,i,n,o){var s="left",l="top",u=e[0],c=e[1];return i==="horizontal"?(c=c+o,r&&(s="center"),n==="start"&&(l="bottom")):(u=u+o,r&&(l="middle"),n==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(e,r,i,n){var o=e.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),v=[this._tlpoints,this._blpoints];(!s||j(s))&&(s&&(r=wi(s)||r),s=r.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,f=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var p=c==="center",g=0;g<v[h].length-1;g++){var d=v[h][g].slice(),y=this._firstDayOfMonth[g];if(p){var m=this._firstDayPoints[g];d[f]=(m[f]+v[0][g+1][f])/2}var x=o.get("formatter"),S=s[+y.m-1],b={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:S},_=this._formatterLabel(x,b),A=new ee({z2:30,style:G(ve(o,{text:_}),this._monthTextPositionControl(d,p,i,u,l))});n.add(A)}}},t.prototype._weekTextPositionControl=function(e,r,i,n,o){var s="center",l="middle",u=e[0],c=e[1],v=i==="start";return r==="horizontal"?(u=u+n+(v?1:-1)*o[0]/2,s=v?"right":"left"):(c=c+n+(v?1:-1)*o[1]/2,l=v?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(e,r,i,n,o){var s=e.getModel("dayLabel");if(s.get("show")){var l=e.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),v=s.get("margin"),h=l.getFirstDayOfWeek();if(!c||j(c)){c&&(r=wi(c)||r);var f=r.get(["time","dayOfWeekShort"]);c=f||N(r.get(["time","dayOfWeekAbbr"]),function(b){return b[0]})}var p=l.getNextNDay(i.end.time,7-i.lweek).time,g=[l.getCellWidth(),l.getCellHeight()];v=W(v,Math.min(g[1],g[0])),u==="start"&&(p=l.getNextNDay(i.start.time,-(7+i.fweek)).time,v=-v);for(var d=0;d<7;d++){var y=l.getNextNDay(p,d),m=l.dataToRect([y.time],!1).center,x=d;x=Math.abs((d+h)%7);var S=new ee({z2:30,style:G(ve(s,{text:c[x]}),this._weekTextPositionControl(m,n,u,v,g))});o.add(S)}}},t.type="calendar",t}(pe),ra=864e5,Rf=function(){function a(t,e,r){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=t}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(t){t=Ha(t);var e=t.getFullYear(),r=t.getMonth()+1,i=r<10?"0"+r:""+r,n=t.getDate(),o=n<10?"0"+n:""+n,s=t.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:e+"",m:i,d:o,day:s,time:t.getTime(),formatedDate:e+"-"+i+"-"+o,date:t}},a.prototype.getNextNDay=function(t,e){return e=e||0,e===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},a.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],n=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];w([0,1],function(v){c(n,v)&&(o[i[v]]=n[v]*s[v])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=Ge(o,l);w([0,1],function(v){c(n,v)||(n[v]=u[i[v]]/s[v])});function c(v,h){return v[h]!=null&&v[h]!=="auto"}this._sw=n[0],this._sh=n[1]},a.prototype.dataToPoint=function(t,e){B(t)&&(t=t[0]),e==null&&(e=!0);var r=this.getDateInfo(t),i=this._rangeInfo,n=r.formatedDate;if(e&&!(r.time>=i.start.time&&r.time<i.end.time+ra))return[NaN,NaN];var o=r.day,s=this._getRangeInfo([i.start.time,n]).nthWeek;return this._orient==="vertical"?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},a.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},a.prototype.dataToRect=function(t,e){var r=this.dataToPoint(t,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},a.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,r=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,e-1,i):this._getDateByWeeksAndDay(e,r-1,i)},a.prototype.convertToPixel=function(t,e,r){var i=un(e);return i===this?i.dataToPoint(r):null},a.prototype.convertFromPixel=function(t,e,r){var i=un(e);return i===this?i.pointToData(r):null},a.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var t=this._model.get("range"),e;if(B(t)&&t.length===1&&(t=t[0]),B(t))e=t;else{var r=t.toString();if(/^\d{4}$/.test(r)&&(e=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),n=i.date;n.setMonth(n.getMonth()+1);var o=this.getNextNDay(n,-1);e=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(e=[r,r])}if(!e)return t;var s=this._getRangeInfo(e);return s.start.time>s.end.time&&e.reverse(),e},a.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],r;e[0].time>e[1].time&&(r=!0,e.reverse());var i=Math.floor(e[1].time/ra)-Math.floor(e[0].time/ra)+1,n=new Date(e[0].time),o=n.getDate(),s=e[1].date.getDate();n.setDate(o+i-1);var l=n.getDate();if(l!==s)for(var u=n.getTime()-e[1].time>0?1:-1;(l=n.getDate())!==s&&(n.getTime()-e[1].time)*u>0;)i-=u,n.setDate(l-u);var c=Math.floor((i+e[0].day+6)/7),v=r?-c+1:c-1;return r&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:c,nthWeek:v,fweek:e[0].day,lweek:e[1].day}},a.prototype._getDateByWeeksAndDay=function(t,e,r){var i=this._getRangeInfo(r);if(t>i.weeks||t===0&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var n=(t-1)*7-i.fweek+e,o=new Date(i.start.time);return o.setDate(+i.start.d+n),this.getDateInfo(o)},a.create=function(t,e){var r=[];return t.eachComponent("calendar",function(i){var n=new a(i);r.push(n),i.coordinateSystem=n}),t.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},a.dimensions=["time","value"],a}();function un(a){var t=a.calendarModel,e=a.seriesModel,r=t?t.coordinateSystem:e?e.coordinateSystem:null;return r}function Vf(a){a.registerComponentModel(If),a.registerComponentView(Mf),a.registerCoordinateSystem("calendar",Rf)}function kf(a,t){var e=a.existing;if(t.id=a.keyInfo.id,!t.type&&e&&(t.type=e.type),t.parentId==null){var r=t.parentOption;r?t.parentId=r.id:e&&(t.parentId=e.parentId)}t.parentOption=null}function cn(a,t){var e;return w(t,function(r){a[r]!=null&&a[r]!=="auto"&&(e=!0)}),e}function Ef(a,t,e){var r=G({},e),i=a[t],n=e.$action||"merge";n==="merge"?i?(xe(i,r,!0),Qa(i,r,{ignoreSize:!0}),pc(e,i),hr(e,i),hr(e,i,"shape"),hr(e,i,"style"),hr(e,i,"extra"),e.clipPath=i.clipPath):a[t]=r:n==="replace"?a[t]=r:n==="remove"&&i&&(a[t]=null)}var Ds=["transition","enterFrom","leaveTo"],Gf=Ds.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function hr(a,t,e){if(e&&(!a[e]&&t[e]&&(a[e]={}),a=a[e],t=t[e]),!(!a||!t))for(var r=e?Ds:Gf,i=0;i<r.length;i++){var n=r[i];a[n]==null&&t[n]!=null&&(a[n]=t[n])}}function zf(a,t){if(a&&(a.hv=t.hv=[cn(t,["left","right"]),cn(t,["top","bottom"])],a.type==="group")){var e=a,r=t;e.width==null&&(e.width=r.width=0),e.height==null&&(e.height=r.height=0)}}var Of=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.mergeOption=function(e,r){var i=this.option.elements;this.option.elements=null,a.prototype.mergeOption.call(this,e,r),this.option.elements=i},t.prototype.optionUpdated=function(e,r){var i=this.option,n=(r?i:e).elements,o=i.elements=r?[]:i.elements,s=[];this._flatten(n,s,null);var l=fc(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];w(l,function(c,v){var h=c.newOption;h&&(u.push(h),kf(c,h),Ef(o,v,h),zf(o[v],h))},this),i.elements=Ke(o,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(e,r,i){w(e,function(n){if(n){i&&(n.parentOption=i),r.push(n);var o=n.children;o&&o.length&&this._flatten(o,r,n),delete n.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(le);function Nf(a,t,e,r){return a&&(a.legacy||a.legacy!==!1&&!e&&!r&&t!=="tspan"&&(t==="text"||E(a,"text")))}function Bf(a,t,e){var r=a,i,n,o;if(t==="text")o=r;else{o={},E(r,"text")&&(o.text=r.text),E(r,"rich")&&(o.rich=r.rich),E(r,"textFill")&&(o.fill=r.textFill),E(r,"textStroke")&&(o.stroke=r.textStroke),E(r,"fontFamily")&&(o.fontFamily=r.fontFamily),E(r,"fontSize")&&(o.fontSize=r.fontSize),E(r,"fontStyle")&&(o.fontStyle=r.fontStyle),E(r,"fontWeight")&&(o.fontWeight=r.fontWeight),n={type:"text",style:o,silent:!0},i={};var s=E(r,"textPosition");i.position=s?r.textPosition:"inside",E(r,"textPosition")&&(i.position=r.textPosition),E(r,"textOffset")&&(i.offset=r.textOffset),E(r,"textRotation")&&(i.rotation=r.textRotation),E(r,"textDistance")&&(i.distance=r.textDistance)}return vn(o,a),w(o.rich,function(l){vn(l,l)}),{textConfig:i,textContent:n}}function vn(a,t){t&&(t.font=t.textFont||t.font,E(t,"textStrokeWidth")&&(a.lineWidth=t.textStrokeWidth),E(t,"textAlign")&&(a.align=t.textAlign),E(t,"textVerticalAlign")&&(a.verticalAlign=t.textVerticalAlign),E(t,"textLineHeight")&&(a.lineHeight=t.textLineHeight),E(t,"textWidth")&&(a.width=t.textWidth),E(t,"textHeight")&&(a.height=t.textHeight),E(t,"textBackgroundColor")&&(a.backgroundColor=t.textBackgroundColor),E(t,"textPadding")&&(a.padding=t.textPadding),E(t,"textBorderColor")&&(a.borderColor=t.textBorderColor),E(t,"textBorderWidth")&&(a.borderWidth=t.textBorderWidth),E(t,"textBorderRadius")&&(a.borderRadius=t.textBorderRadius),E(t,"textBoxShadowColor")&&(a.shadowColor=t.textBoxShadowColor),E(t,"textBoxShadowBlur")&&(a.shadowBlur=t.textBoxShadowBlur),E(t,"textBoxShadowOffsetX")&&(a.shadowOffsetX=t.textBoxShadowOffsetX),E(t,"textBoxShadowOffsetY")&&(a.shadowOffsetY=t.textBoxShadowOffsetY))}var Ls={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},hn=te(Ls);ja(Xt,function(a,t){return a[t]=1,a},{});Xt.join(", ");var kr=["","style","shape","extra"],Dt=Ne();function ni(a,t,e,r,i){var n=a+"Animation",o=$o(a,r,i)||{},s=Dt(t).userDuring;return o.duration>0&&(o.during=s?X(Xf,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=a),G(o,e[n]),o}function aa(a,t,e,r){r=r||{};var i=r.dataIndex,n=r.isInit,o=r.clearStyle,s=e.isAnimationEnabled(),l=Dt(a),u=t.style;l.userDuring=t.during;var c={},v={};if(jf(a,t,v),pn("shape",t,v),pn("extra",t,v),!n&&s&&($f(a,t,c),fn("shape",a,t,c),fn("extra",a,t,c),Zf(a,t,u,c)),v.style=u,Wf(a,v,o),Uf(a,t),s)if(n){var h={};w(kr,function(p){var g=p?t[p]:t;g&&g.enterFrom&&(p&&(h[p]=h[p]||{}),G(p?h[p]:h,g.enterFrom))});var f=ni("enter",a,t,e,i);f.duration>0&&a.animateFrom(h,f)}else Hf(a,t,i||0,e,c);Ps(a,t),u?a.dirty():a.markRedraw()}function Ps(a,t){for(var e=Dt(a).leaveToProps,r=0;r<kr.length;r++){var i=kr[r],n=i?t[i]:t;n&&n.leaveTo&&(e||(e=Dt(a).leaveToProps={}),i&&(e[i]=e[i]||{}),G(i?e[i]:e,n.leaveTo))}}function Ff(a,t,e,r){if(a){var i=a.parent,n=Dt(a).leaveToProps;if(n){var o=ni("update",a,t,e,0);o.done=function(){i.remove(a)},a.animateTo(n,o)}else i.remove(a)}}function ut(a){return a==="all"}function Wf(a,t,e){var r=t.style;if(!a.isGroup&&r){if(e){a.useStyle({});for(var i=a.animators,n=0;n<i.length;n++){var o=i[n];o.targetName==="style"&&o.changeTarget(a.style)}}a.setStyle(r)}t&&(t.style=null,t&&a.attr(t),t.style=r)}function Hf(a,t,e,r,i){if(i){var n=ni("update",a,t,r,e);n.duration>0&&a.animateFrom(i,n)}}function Uf(a,t){E(t,"silent")&&(a.silent=t.silent),E(t,"ignore")&&(a.ignore=t.ignore),a instanceof Dr&&E(t,"invisible")&&(a.invisible=t.invisible),a instanceof Fr&&E(t,"autoBatch")&&(a.autoBatch=t.autoBatch)}var Te={},Yf={setTransform:function(a,t){return Te.el[a]=t,this},getTransform:function(a){return Te.el[a]},setShape:function(a,t){var e=Te.el,r=e.shape||(e.shape={});return r[a]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(a){var t=Te.el.shape;if(t)return t[a]},setStyle:function(a,t){var e=Te.el,r=e.style;return r&&(r[a]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(a){var t=Te.el.style;if(t)return t[a]},setExtra:function(a,t){var e=Te.el.extra||(Te.el.extra={});return e[a]=t,this},getExtra:function(a){var t=Te.el.extra;if(t)return t[a]}};function Xf(){var a=this,t=a.el;if(t){var e=Dt(t).userDuring,r=a.userDuring;if(e!==r){a.el=a.userDuring=null;return}Te.el=t,r(Yf)}}function fn(a,t,e,r){var i=e[a];if(i){var n=t[a],o;if(n){var s=e.transition,l=i.transition;if(l)if(!o&&(o=r[a]={}),ut(l))G(o,n);else for(var u=Ct(l),c=0;c<u.length;c++){var v=u[c],h=n[v];o[v]=h}else if(ut(s)||Mt(s,a)>=0){!o&&(o=r[a]={});for(var f=te(n),c=0;c<f.length;c++){var v=f[c],h=n[v];Jf(i[v],h)&&(o[v]=h)}}}}}function pn(a,t,e){var r=t[a];if(r)for(var i=e[a]={},n=te(r),o=0;o<n.length;o++){var s=n[o];i[s]=gc(r[s])}}function $f(a,t,e){for(var r=t.transition,i=ut(r)?Xt:Ct(r||[]),n=0;n<i.length;n++){var o=i[n];if(!(o==="style"||o==="shape"||o==="extra")){var s=a[o];e[o]=s}}}function jf(a,t,e){for(var r=0;r<hn.length;r++){var i=hn[r],n=Ls[i],o=t[i];o&&(e[n[0]]=o[0],e[n[1]]=o[1])}for(var r=0;r<Xt.length;r++){var s=Xt[r];t[s]!=null&&(e[s]=t[s])}}function Zf(a,t,e,r){if(e){var i=a.style,n;if(i){var o=e.transition,s=t.transition;if(o&&!ut(o)){var l=Ct(o);!n&&(n=r.style={});for(var u=0;u<l.length;u++){var c=l[u],v=i[c];n[c]=v}}else if(a.getAnimationStyleProps&&(ut(s)||ut(o)||Mt(s,"style")>=0)){var h=a.getAnimationStyleProps(),f=h?h.style:null;if(f){!n&&(n=r.style={});for(var p=te(e),u=0;u<p.length;u++){var c=p[u];if(f[c]){var v=i[c];n[c]=v}}}}}}}function Jf(a,t){return dc(a)?a!==t:a!=null&&isFinite(a)}var Is=Ne(),Kf=["percent","easing","shape","style","extra"];function qf(a){a.stopAnimation("keyframe"),a.attr(Is(a))}function Pa(a,t,e){if(!(!e.isAnimationEnabled()||!t)){if(B(t)){w(t,function(s){Pa(a,s,e)});return}var r=t.keyframes,i=t.duration;if(e&&i==null){var n=$o("enter",e,0);i=n&&n.duration}if(!(!r||!i)){var o=Is(a);w(kr,function(s){if(!(s&&!a[s])){var l;r.sort(function(u,c){return u.percent-c.percent}),w(r,function(u){var c=a.animators,v=s?u[s]:u;if(v){var h=te(v);if(s||(h=Ke(h,function(g){return Mt(Kf,g)<0})),!!h.length){l||(l=a.animate(s,t.loop,!0),l.scope="keyframe");for(var f=0;f<c.length;f++)c[f]!==l&&c[f].targetName===l.targetName&&c[f].stopTracks(h);s&&(o[s]=o[s]||{});var p=s?o[s]:o;w(h,function(g){p[g]=((s?a[s]:a)||{})[g]}),l.whenWithKeys(i*u.percent,v,h,u.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}var gn={path:null,compoundPath:null,group:$,image:qe,text:ee},ye=Ne(),Qf=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._elMap=J()},t.prototype.render=function(e,r,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var r=e.useElOptionsToUpdate();if(r){var i=this._elMap,n=this.group,o=e.get("z"),s=e.get("zlevel");w(r,function(l){var u=Bt(l.id,null),c=u!=null?i.get(u):null,v=Bt(l.parentId,null),h=v!=null?i.get(v):n,f=l.type,p=l.style;f==="text"&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var g=l.textContent,d=l.textConfig;if(p&&Nf(p,f,!!d,!!g)){var y=Bf(p,f);!d&&y.textConfig&&(d=l.textConfig=y.textConfig),!g&&y.textContent&&(g=y.textContent)}var m=ep(l),x=l.$action||"merge",S=x==="merge",b=x==="replace";if(S){var _=!c,A=c;_?A=dn(u,h,l.type,i):(A&&(ye(A).isNew=!1),qf(A)),A&&(aa(A,m,e,{isInit:_}),yn(A,l,o,s))}else if(b){br(c,l,i,e);var T=dn(u,h,l.type,i);T&&(aa(T,m,e,{isInit:!0}),yn(T,l,o,s))}else x==="remove"&&(Ps(c,l),br(c,l,i,e));var C=i.get(u);if(C&&g)if(S){var D=C.getTextContent();D?D.attr(g):C.setTextContent(new ee(g))}else b&&C.setTextContent(new ee(g));if(C){var L=l.clipPath;if(L){var I=L.type,P=void 0,_=!1;if(S){var V=C.getClipPath();_=!V||ye(V).type!==I,P=_?Ia(I):V}else b&&(_=!0,P=Ia(I));C.setClipPath(P),aa(P,L,e,{isInit:_}),Pa(P,L.keyframeAnimation,e)}var M=ye(C);C.setTextConfig(d),M.option=l,tp(C,e,l),qa({el:C,componentModel:e,itemName:C.name,itemTooltipOption:l.tooltip}),Pa(C,l.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,r){for(var i=e.option.elements,n=this.group,o=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<i.length;c++){var v=i[c],h=Bt(v.id,null),f=h!=null?o.get(h):null;if(!(!f||!f.isGroup)){var p=f.parent,g=p===n,d=ye(f),y=ye(p);d.width=W(d.option.width,g?s:y.width)||0,d.height=W(d.option.height,g?l:y.height)||0}}for(var c=i.length-1;c>=0;c--){var v=i[c],h=Bt(v.id,null),f=h!=null?o.get(h):null;if(f){var p=f.parent,y=ye(p),m=p===n?{width:s,height:l}:{width:y.width,height:y.height},x={},S=jo(f,v,m,null,{hv:v.hv,boundingMode:v.bounding},x);if(!ye(f).isNew&&S){for(var b=v.transition,_={},A=0;A<u.length;A++){var T=u[A],C=x[T];b&&(ut(b)||Mt(b,T)>=0)?_[T]=C:f[T]=C}se(f,_,e,0)}else f.attr(x)}}},t.prototype._clear=function(){var e=this,r=this._elMap;r.each(function(i){br(i,ye(i).option,r,e._lastGraphicModel)}),this._elMap=J()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(pe);function Ia(a){var t=E(gn,a)?gn[a]:Eo(a),e=new t({});return ye(e).type=a,e}function dn(a,t,e,r){var i=Ia(e);return t.add(i),r.set(a,i),ye(i).id=a,ye(i).isNew=!0,i}function br(a,t,e,r){var i=a&&a.parent;i&&(a.type==="group"&&a.traverse(function(n){br(n,t,e,r)}),Ff(a,t,r),e.removeKey(ye(a).id))}function yn(a,t,e,r){a.isGroup||w([["cursor",Dr.prototype.cursor],["zlevel",r||0],["z",e||0],["z2",0]],function(i){var n=i[0];E(t,n)?a[n]=me(t[n],i[1]):a[n]==null&&(a[n]=i[1])}),w(te(t),function(i){if(i.indexOf("on")===0){var n=t[i];a[i]=Ie(n)?n:null}}),E(t,"draggable")&&(a.draggable=t.draggable),t.name!=null&&(a.name=t.name),t.id!=null&&(a.id=t.id)}function ep(a){return a=G({},a),w(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(yc),function(t){delete a[t]}),a}function tp(a,t,e){var r=oe(a).eventData;!a.silent&&!a.ignore&&!r&&(r=oe(a).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:a.name}),r&&(r.info=e.info)}function rp(a){a.registerComponentModel(Of),a.registerComponentView(Qf),a.registerPreprocessor(function(t){var e=t.graphic;B(e)?!e[0]||!e[0].elements?t.graphic=[{elements:e}]:t.graphic=[t.graphic[0]]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}var Zt=w,ap=fe,Er=-1,ie=function(){function a(t){var e=t.mappingMethod,r=t.type,i=this.option=q(t);this.type=r,this.mappingMethod=e,this._normalizeData=op[e];var n=a.visualHandlers[r];this.applyVisual=n.applyVisual,this.getColorMapper=n.getColorMapper,this._normalizedToVisual=n._normalizedToVisual[e],e==="piecewise"?(ia(i),ip(i)):e==="category"?i.categories?np(i):ia(i,!0):(Cr(e!=="linear"||i.dataExtent),ia(i))}return a.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},a.prototype.getNormalizer=function(){return X(this._normalizeData,this)},a.listVisualTypes=function(){return te(a.visualHandlers)},a.isValidType=function(t){return a.visualHandlers.hasOwnProperty(t)},a.eachVisual=function(t,e,r){fe(t)?w(t,e,r):e.call(r,t)},a.mapVisual=function(t,e,r){var i,n=B(t)?[]:fe(t)?{}:(i=!0,null);return a.eachVisual(t,function(o,s){var l=e.call(r,o,s);i?n=l:n[s]=l}),n},a.retrieveVisuals=function(t){var e={},r;return t&&Zt(a.visualHandlers,function(i,n){t.hasOwnProperty(n)&&(e[n]=t[n],r=!0)}),r?e:null},a.prepareVisualTypes=function(t){if(B(t))t=t.slice();else if(ap(t)){var e=[];Zt(t,function(r,i){e.push(i)}),t=e}else return[];return t.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),t},a.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},a.findPieceIndex=function(t,e,r){for(var i,n=1/0,o=0,s=e.length;o<s;o++){var l=e[o].value;if(l!=null){if(l===t||j(l)&&l===t+"")return o;r&&h(l,o)}}for(var o=0,s=e.length;o<s;o++){var u=e[o],c=u.interval,v=u.close;if(c){if(c[0]===-1/0){if(pr(v[1],t,c[1]))return o}else if(c[1]===1/0){if(pr(v[0],c[0],t))return o}else if(pr(v[0],c[0],t)&&pr(v[1],t,c[1]))return o;r&&h(c[0],o),r&&h(c[1],o)}}if(r)return t===1/0?e.length-1:t===-1/0?0:i;function h(f,p){var g=Math.abs(f-t);g<n&&(n=g,i=p)}},a.visualHandlers={color:{applyVisual:Ot("color"),getColorMapper:function(){var t=this.option;return X(t.mappingMethod==="category"?function(e,r){return!r&&(e=this._normalizeData(e)),Ft.call(this,e)}:function(e,r,i){var n=!!i;return!r&&(e=this._normalizeData(e)),i=$r(e,t.parsedVisual,i),n?i:_r(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return _r($r(t,this.option.parsedVisual),"rgba")},category:Ft,piecewise:function(t,e){var r=Ra.call(this,e);return r==null&&(r=_r($r(t,this.option.parsedVisual),"rgba")),r},fixed:nt}},colorHue:fr(function(t,e){return jr(t,e)}),colorSaturation:fr(function(t,e){return jr(t,null,e)}),colorLightness:fr(function(t,e){return jr(t,null,null,e)}),colorAlpha:fr(function(t,e){return mc(t,e)}),decal:{applyVisual:Ot("decal"),_normalizedToVisual:{linear:null,category:Ft,piecewise:null,fixed:null}},opacity:{applyVisual:Ot("opacity"),_normalizedToVisual:Ma([0,1])},liftZ:{applyVisual:Ot("liftZ"),_normalizedToVisual:{linear:nt,category:nt,piecewise:nt,fixed:nt}},symbol:{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("symbol",i)},_normalizedToVisual:{linear:mn,category:Ft,piecewise:function(t,e){var r=Ra.call(this,e);return r==null&&(r=mn.call(this,t)),r},fixed:nt}},symbolSize:{applyVisual:Ot("symbolSize"),_normalizedToVisual:Ma([0,1])}},a}();function ip(a){var t=a.pieceList;a.hasSpecialVisual=!1,w(t,function(e,r){e.originIndex=r,e.visual!=null&&(a.hasSpecialVisual=!0)})}function np(a){var t=a.categories,e=a.categoryMap={},r=a.visual;if(Zt(t,function(o,s){e[o]=s}),!B(r)){var i=[];fe(r)?Zt(r,function(o,s){var l=e[s];i[l!=null?l:Er]=o}):i[Er]=r,r=Ms(a,i)}for(var n=t.length-1;n>=0;n--)r[n]==null&&(delete e[t[n]],t.pop())}function ia(a,t){var e=a.visual,r=[];fe(e)?Zt(e,function(n){r.push(n)}):e!=null&&r.push(e);var i={color:1,symbol:1};!t&&r.length===1&&!i.hasOwnProperty(a.type)&&(r[1]=r[0]),Ms(a,r)}function fr(a){return{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("color",a(e("color"),i))},_normalizedToVisual:Ma([0,1])}}function mn(a){var t=this.option.visual;return t[Math.round(ze(a,[0,1],[0,t.length-1],!0))]||{}}function Ot(a){return function(t,e,r){r(a,this.mapValueToVisual(t))}}function Ft(a){var t=this.option.visual;return t[this.option.loop&&a!==Er?a%t.length:a]}function nt(){return this.option.visual[0]}function Ma(a){return{linear:function(t){return ze(t,a,this.option.visual,!0)},category:Ft,piecewise:function(t,e){var r=Ra.call(this,e);return r==null&&(r=ze(t,a,this.option.visual,!0)),r},fixed:nt}}function Ra(a){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var r=ie.findPieceIndex(a,e),i=e[r];if(i&&i.visual)return i.visual[this.type]}}function Ms(a,t){return a.visual=t,a.type==="color"&&(a.parsedVisual=N(t,function(e){var r=Zo(e);return r||[0,0,0,1]})),t}var op={linear:function(a){return ze(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var t=this.option.pieceList,e=ie.findPieceIndex(a,t,!0);if(e!=null)return ze(e,[0,t.length-1],[0,1],!0)},category:function(a){var t=this.option.categories?this.option.categoryMap[a]:a;return t==null?Er:t},fixed:Jo};function pr(a,t,e){return a?t<=e:t<e}var xn=w;function Sn(a){if(a){for(var t in a)if(a.hasOwnProperty(t))return!0}}function _n(a,t,e){var r={};return xn(t,function(n){var o=r[n]=i();xn(a[n],function(s,l){if(ie.isValidType(l)){var u={type:l,visual:s};e&&e(u,n),o[l]=new ie(u),l==="opacity"&&(u=q(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new ie(u))}})}),r;function i(){var n=function(){};n.prototype.__hidden=n.prototype;var o=new n;return o}}function sp(a,t,e){var r;w(e,function(i){t.hasOwnProperty(i)&&Sn(t[i])&&(r=!0)}),r&&w(e,function(i){t.hasOwnProperty(i)&&Sn(t[i])?a[i]=q(t[i]):delete a[i]})}function lp(a,t,e,r){var i={};return w(a,function(n){var o=ie.prepareVisualTypes(t[n]);i[n]=o}),{progress:function(o,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(b){return xc(s,v,b)}function c(b,_){Sc(s,v,b,_)}for(var v,h=s.getStore();(v=o.next())!=null;){var f=s.getRawDataItem(v);if(!(f&&f.visualMap===!1))for(var p=r!=null?h.get(l,v):v,g=e(p),d=t[g],y=i[g],m=0,x=y.length;m<x;m++){var S=y[m];d[S]&&d[S].applyVisual(p,u,c)}}}}}var bn=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(e){a.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var r=this._data.count();this.option.loop?e=(e%r+r)%r:(e>=r&&(e=r-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e=this.option,r=e.data||[],i=e.axisType,n=this._names=[],o;i==="category"?(o=[],w(r,function(u,c){var v=Bt(_c(u),""),h;fe(u)?(h=q(u),h.value=c):h=c,o.push(h),n.push(v)})):o=r;var s={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Za([{name:"value",type:s}],this);l.initData(o,n)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(le),Rs=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline.slider",t.defaultOption=kt(bn.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(bn);Lt(Rs,bc.prototype);var up=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline",t}(pe),cp=function(a){R(t,a);function t(e,r,i,n){var o=a.call(this,e,r,i)||this;return o.type=n||"value",o}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(Re),na=Math.PI,An=Ne(),vp=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r){this.api=r},t.prototype.render=function(e,r,i){if(this.model=e,this.api=i,this.ecModel=r,this.group.removeAll(),e.get("show",!0)){var n=this._layout(e,i),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(n,e);e.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return $t("nameValue",{noName:!0,value:c})},w(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](n,o,l,e)},this),this._renderAxisLabel(n,s,l,e),this._position(n,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,r){var i=e.get(["label","position"]),n=e.get("orient"),o=fp(e,r),s;i==null||i==="auto"?s=n==="horizontal"?o.y+o.height/2<r.getHeight()/2?"-":"+":o.x+o.width/2<r.getWidth()/2?"+":"-":j(i)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[n][i]:s=i;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:na/2},v=n==="vertical"?o.height:o.width,h=e.getModel("controlStyle"),f=h.get("show",!0),p=f?h.get("itemSize"):0,g=f?h.get("itemGap"):0,d=p+g,y=e.get(["label","rotate"])||0;y=y*na/180;var m,x,S,b=h.get("position",!0),_=f&&h.get("showPlayBtn",!0),A=f&&h.get("showPrevBtn",!0),T=f&&h.get("showNextBtn",!0),C=0,D=v;b==="left"||b==="bottom"?(_&&(m=[0,0],C+=d),A&&(x=[C,0],C+=d),T&&(S=[D-p,0],D-=d)):(_&&(m=[D-p,0],D-=d),A&&(x=[0,0],C+=d),T&&(S=[D-p,0],D-=d));var L=[C,D];return e.get("inverse")&&L.reverse(),{viewRect:o,mainLength:v,orient:n,rotation:c[n],labelRotation:y,labelPosOpt:s,labelAlign:e.get(["label","align"])||l[n],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||u[n],playPosition:m,prevBtnPosition:x,nextBtnPosition:S,axisExtent:L,controlSize:p,controlGap:g}},t.prototype._position=function(e,r){var i=this._mainGroup,n=this._labelGroup,o=e.viewRect;if(e.orient==="vertical"){var s=er(),l=o.x,u=o.y+o.height;Yt(s,s,[-l,-u]),Nr(s,s,-na/2),Yt(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=m(o),v=m(i.getBoundingRect()),h=m(n.getBoundingRect()),f=[i.x,i.y],p=[n.x,n.y];p[0]=f[0]=c[0][0];var g=e.labelPosOpt;if(g==null||j(g)){var d=g==="+"?0:1;x(f,v,c,1,d),x(p,h,c,1,1-d)}else{var d=g>=0?0:1;x(f,v,c,1,d),p[1]=f[1]+g}i.setPosition(f),n.setPosition(p),i.rotation=n.rotation=e.rotation,y(i),y(n);function y(S){S.originX=c[0][0]-S.x,S.originY=c[1][0]-S.y}function m(S){return[[S.x,S.x+S.width],[S.y,S.y+S.height]]}function x(S,b,_,A,T){S[A]+=_[A][T]-b[A][T]}},t.prototype._createAxis=function(e,r){var i=r.getData(),n=r.get("axisType"),o=hp(r,n);o.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var s=i.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new cp("value",o,e.axisExtent,n);return l.model=r,l},t.prototype._createGroup=function(e){var r=this[e]=new $;return this.group.add(r),r},t.prototype._renderAxisLine=function(e,r,i,n){var o=i.getExtent();if(n.get(["lineStyle","show"])){var s=new Ue({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:G({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new Ue({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:K({lineCap:"round",lineWidth:s.style.lineWidth},n.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},t.prototype._renderAxisTick=function(e,r,i,n){var o=this,s=n.getData(),l=i.scale.getTicks();this._tickSymbols=[],w(l,function(u){var c=i.dataToCoord(u.value),v=s.getItemModel(u.value),h=v.getModel("itemStyle"),f=v.getModel(["emphasis","itemStyle"]),p=v.getModel(["progress","itemStyle"]),g={x:c,y:0,onclick:X(o._changeTimeline,o,u.value)},d=wn(v,h,r,g);d.ensureState("emphasis").style=f.getItemStyle(),d.ensureState("progress").style=p.getItemStyle(),_t(d);var y=oe(d);v.get("tooltip")?(y.dataIndex=u.value,y.dataModel=n):y.dataIndex=y.dataModel=null,o._tickSymbols.push(d)})},t.prototype._renderAxisLabel=function(e,r,i,n){var o=this,s=i.getLabelModel();if(s.get("show")){var l=n.getData(),u=i.getViewLabels();this._tickLabels=[],w(u,function(c){var v=c.tickValue,h=l.getItemModel(v),f=h.getModel("label"),p=h.getModel(["emphasis","label"]),g=h.getModel(["progress","label"]),d=i.dataToCoord(c.tickValue),y=new ee({x:d,y:0,rotation:e.labelRotation-e.rotation,onclick:X(o._changeTimeline,o,v),silent:!1,style:ve(f,{text:c.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});y.ensureState("emphasis").style=ve(p),y.ensureState("progress").style=ve(g),r.add(y),_t(y),An(y).dataIndex=v,o._tickLabels.push(y)})}},t.prototype._renderControl=function(e,r,i,n){var o=e.controlSize,s=e.rotation,l=n.getModel("controlStyle").getItemStyle(),u=n.getModel(["emphasis","controlStyle"]).getItemStyle(),c=n.getPlayState(),v=n.get("inverse",!0);h(e.nextBtnPosition,"next",X(this._changeTimeline,this,v?"-":"+")),h(e.prevBtnPosition,"prev",X(this._changeTimeline,this,v?"+":"-")),h(e.playPosition,c?"stop":"play",X(this._handlePlayClick,this,!c),!0);function h(f,p,g,d){if(f){var y=Lr(me(n.get(["controlStyle",p+"BtnSize"]),o),o),m=[0,-y/2,y,y],x=pp(n,p+"Icon",m,{x:f[0],y:f[1],originX:o/2,originY:0,rotation:d?-s:0,rectHover:!0,style:l,onclick:g});x.ensureState("emphasis").style=u,r.add(x),_t(x)}}},t.prototype._renderCurrentPointer=function(e,r,i,n){var o=n.getData(),s=n.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(v){v.draggable=!0,v.drift=X(u._handlePointerDrag,u),v.ondragend=X(u._handlePointerDragend,u),Tn(v,u._progressLine,s,i,n,!0)},onUpdate:function(v){Tn(v,u._progressLine,s,i,n)}};this._currentPointer=wn(l,l,this._mainGroup,{},this._currentPointer,c)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,r){var i=this._toAxisCoord(e)[0],n=this._axis,o=Qt(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var l=this._findNearestTick(i),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=e.model;e._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var r=this._mainGroup.getLocalTransform();return bt(e,r,!0)},t.prototype._findNearestTick=function(e){var r=this.model.getData(),i=1/0,n,o=this._axis;return r.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-e);c<i&&(i=c,n=l)}),n},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var r=this.model.getCurrentIndex();e==="+"?e=r+1:e==="-"&&(e=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var n=0;n<r.length;n++)r&&r[n]&&r[n].toggleState("progress",n<e);if(i)for(var n=0;n<i.length;n++)i&&i[n]&&i[n].toggleState("progress",An(i[n]).dataIndex<=e)},t.type="timeline.slider",t}(up);function hp(a,t){if(t=t||a.get("type"),t)switch(t){case"category":return new wc({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new Ac({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new ba}}function fp(a,t){return Ge(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},a.get("padding"))}function pp(a,t,e,r){var i=r.style,n=$a(a.get(["controlStyle",t]),r||{},new we(e[0],e[1],e[2],e[3]));return i&&n.setStyle(i),n}function wn(a,t,e,r,i,n){var o=t.get("color");if(i)i.setColor(o),e.add(i),n&&n.onUpdate(i);else{var s=a.get("symbol");i=Ee(s,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),e.add(i),n&&n.onCreate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l),r=xe({rectHover:!0,z2:100},r,!0);var u=Ko(a.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=qo(a.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var v=a.get("symbolRotate");return r.rotation=(v||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function Tn(a,t,e,r,i,n){if(!a.dragging){var o=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",e));if(n||!o.get("animation",!0))a.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function gp(a){a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,r){var i=e.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),K({currentIndex:i.option.currentIndex},t)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var r=e.getComponent("timeline");r&&t.playState!=null&&r.setPlayState(t.playState)})}function dp(a){var t=a&&a.timeline;B(t)||(t=t?[t]:[]),w(t,function(e){e&&yp(e)})}function yp(a){var t=a.type,e={number:"value",time:"time"};if(e[t]&&(a.axisType=e[t],delete a.type),Cn(a),st(a,"controlPosition")){var r=a.controlStyle||(a.controlStyle={});st(r,"position")||(r.position=a.controlPosition),r.position==="none"&&!st(r,"show")&&(r.show=!1,delete r.position),delete a.controlPosition}w(a.data||[],function(i){fe(i)&&!B(i)&&(!st(i,"value")&&st(i,"name")&&(i.value=i.name),Cn(i))})}function Cn(a){var t=a.itemStyle||(a.itemStyle={}),e=t.emphasis||(t.emphasis={}),r=a.label||a.label||{},i=r.normal||(r.normal={}),n={normal:1,emphasis:1};w(r,function(o,s){!n[s]&&!st(i,s)&&(i[s]=o)}),e.label&&!st(r,"emphasis")&&(r.emphasis=e.label,delete e.label)}function st(a,t){return a.hasOwnProperty(t)}function mp(a){a.registerComponentModel(Rs),a.registerComponentView(vp),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),gp(a),a.registerPreprocessor(dp)}var xp=function(a,t){if(t==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},Va=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,r){a.prototype.mergeOption.call(this,e,r),this._updateSelector(e)},t.prototype._updateSelector=function(e){var r=e.selector,i=this.ecModel;r===!0&&(r=e.selector=["all","inverse"]),B(r)&&w(r,function(n,o){j(n)&&(n={type:n}),r[o]=xe(n,xp(i,n.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<e.length;i++){var n=e[i].get("name");if(this.isSelected(n)){this.select(n),r=!0;break}}!r&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var r=[],i=[];e.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var v=l.legendVisualProvider,h=v.getAllNames();e.isSeriesFiltered(l)||(i=i.concat(h)),h.length?r=r.concat(h):c=!0}else c=!0;c&&Tc(l)&&r.push(l.name)}),this._availableNames=i;var n=this.get("data")||r,o=J(),s=N(n,function(l){return(j(l)||Rt(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new je(l,this,this.ecModel))},this);this._data=Ke(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var n=this._data;w(n,function(o){r[o.get("name")]=!1})}r[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var r=this.option.selected;r.hasOwnProperty(e)||(r[e]=!0),this[r[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,r=this.option.selected;w(e,function(i){r[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,r=this.option.selected;w(e,function(i){var n=i.get("name",!0);r.hasOwnProperty(n)||(r[n]=!0),r[n]=!r[n]})},t.prototype.isSelected=function(e){var r=this.option.selected;return!(r.hasOwnProperty(e)&&!r[e])&&Mt(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(le),mt=ce,ka=w,gr=$,Vs=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new gr),this.group.add(this._selectorGroup=new gr),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,r,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,e,r,i,l,s,u);var c=e.getBoxLayoutParams(),v={width:i.getWidth(),height:i.getHeight()},h=e.get("padding"),f=Ge(c,v,h),p=this.layoutInner(e,o,f,n,l,u),g=Ge(K({width:p.width,height:p.height},c),v,h);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Cc(p,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,r,i,n,o,s,l){var u=this.getContentGroup(),c=J(),v=r.get("selectedMode"),h=[];i.eachRawSeries(function(f){!f.get("legendHoverLink")&&h.push(f.id)}),ka(r.getData(),function(f,p){var g=f.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var d=new gr;d.newline=!0,u.add(d);return}var y=i.getSeriesByName(g)[0];if(!c.get(g))if(y){var m=y.getData(),x=m.getVisual("legendLineStyle")||{},S=m.getVisual("legendIcon"),b=m.getVisual("style"),_=this._createItem(y,g,p,f,r,e,x,b,S,v,n);_.on("click",mt(Dn,g,null,n,h)).on("mouseover",mt(Ea,y.name,null,n,h)).on("mouseout",mt(Ga,y.name,null,n,h)),i.ssr&&_.eachChild(function(A){var T=oe(A);T.seriesIndex=y.seriesIndex,T.dataIndex=p,T.ssrType="legend"}),c.set(g,!0)}else i.eachRawSeries(function(A){if(!c.get(g)&&A.legendVisualProvider){var T=A.legendVisualProvider;if(!T.containName(g))return;var C=T.indexOfName(g),D=T.getItemVisual(C,"style"),L=T.getItemVisual(C,"legendIcon"),I=Zo(D.fill);I&&I[3]===0&&(I[3]=.2,D=G(G({},D),{fill:_r(I,"rgba")}));var P=this._createItem(A,g,p,f,r,e,{},D,L,v,n);P.on("click",mt(Dn,null,g,n,h)).on("mouseover",mt(Ea,null,g,n,h)).on("mouseout",mt(Ga,null,g,n,h)),i.ssr&&P.eachChild(function(V){var M=oe(V);M.seriesIndex=A.seriesIndex,M.dataIndex=p,M.ssrType="legend"}),c.set(g,!0)}},this)},this),o&&this._createSelector(o,r,n,s,l)},t.prototype._createSelector=function(e,r,i,n,o){var s=this.getSelectorGroup();ka(e,function(u){var c=u.type,v=new ee({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(v);var h=r.getModel("selectorLabel"),f=r.getModel(["emphasis","selectorLabel"]);vt(v,{normal:h,emphasis:f},{defaultText:u.title}),_t(v)})},t.prototype._createItem=function(e,r,i,n,o,s,l,u,c,v,h){var f=e.visualDrawType,p=o.get("itemWidth"),g=o.get("itemHeight"),d=o.isSelected(r),y=n.get("symbolRotate"),m=n.get("symbolKeepAspect"),x=n.get("icon");c=x||c||"roundRect";var S=Sp(c,n,l,u,f,d,h),b=new gr,_=n.getModel("textStyle");if(Ie(e.getLegendIcon)&&(!x||x==="inherit"))b.add(e.getLegendIcon({itemWidth:p,itemHeight:g,icon:c,iconRotate:y,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:m}));else{var A=x==="inherit"&&e.getData().getVisual("symbol")?y==="inherit"?e.getData().getVisual("symbolRotate"):y:0;b.add(_p({itemWidth:p,itemHeight:g,icon:c,iconRotate:A,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:m}))}var T=s==="left"?p+5:-5,C=s,D=o.get("formatter"),L=r;j(D)&&D?L=D.replace("{name}",r!=null?r:""):Ie(D)&&(L=D(r));var I=d?_.getTextColor():n.get("inactiveColor");b.add(new ee({style:ve(_,{text:L,x:T,y:g/2,fill:I,align:C,verticalAlign:"middle"},{inheritColor:I})}));var P=new he({shape:b.getBoundingRect(),style:{fill:"transparent"}}),V=n.getModel("tooltip");return V.get("show")&&qa({el:P,componentModel:o,itemName:r,itemTooltipOption:V.option}),b.add(P),b.eachChild(function(M){M.silent=!0}),P.silent=!v,this.getContentGroup().add(b),_t(b),b.__legendDataIndex=i,b},t.prototype.layoutInner=function(e,r,i,n,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();At(e.get("orient"),l,e.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),v=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){At("horizontal",u,e.get("selectorItemGap",!0));var h=u.getBoundingRect(),f=[-h.x,-h.y],p=e.get("selectorButtonGap",!0),g=e.getOrient().index,d=g===0?"width":"height",y=g===0?"height":"width",m=g===0?"y":"x";s==="end"?f[g]+=c[d]+p:v[g]+=h[d]+p,f[1-g]+=c[y]/2-h[y]/2,u.x=f[0],u.y=f[1],l.x=v[0],l.y=v[1];var x={x:0,y:0};return x[d]=c[d]+p+h[d],x[y]=Math.max(c[y],h[y]),x[m]=Math.min(0,h[m]+f[1-g]),x}else return l.x=v[0],l.y=v[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(pe);function Sp(a,t,e,r,i,n,o){function s(d,y){d.lineWidth==="auto"&&(d.lineWidth=y.lineWidth>0?2:0),ka(d,function(m,x){d[x]==="inherit"&&(d[x]=y[x])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=a.lastIndexOf("empty",0)===0?"fill":"stroke",v=l.getShallow("decal");u.decal=!v||v==="inherit"?r.decal:Ho(v,o),u.fill==="inherit"&&(u.fill=r[i]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?r:e).opacity),s(u,r);var h=t.getModel("lineStyle"),f=h.getLineStyle();if(s(f,e),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),f.stroke==="auto"&&(f.stroke=r.fill),!n){var p=t.get("inactiveBorderWidth"),g=u[c];u.lineWidth=p==="auto"?r.lineWidth>0&&g?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),f.stroke=h.get("inactiveColor"),f.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}function _p(a){var t=a.icon||"roundRect",e=Ee(t,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return e.setStyle(a.itemStyle),e.rotation=(a.iconRotate||0)*Math.PI/180,e.setOrigin([a.itemWidth/2,a.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function Dn(a,t,e,r){Ga(a,t,e,r),e.dispatchAction({type:"legendToggleSelect",name:a!=null?a:t}),Ea(a,t,e,r)}function ks(a){for(var t=a.getZr().storage.getDisplayList(),e,r=0,i=t.length;r<i&&!(e=t[r].states.emphasis);)r++;return e&&e.hoverLayer}function Ea(a,t,e,r){ks(e)||e.dispatchAction({type:"highlight",seriesName:a,name:t,excludeSeriesId:r})}function Ga(a,t,e,r){ks(e)||e.dispatchAction({type:"downplay",seriesName:a,name:t,excludeSeriesId:r})}function bp(a){var t=a.findComponents({mainType:"legend"});t&&t.length&&a.filterSeries(function(e){for(var r=0;r<t.length;r++)if(!t[r].isSelected(e.name))return!1;return!0})}function Nt(a,t,e){var r={},i=a==="toggleSelected",n;return e.eachComponent("legend",function(o){i&&n!=null?o[n?"select":"unSelect"](t.name):a==="allSelect"||a==="inverseSelect"?o[a]():(o[a](t.name),n=o.isSelected(t.name));var s=o.getData();w(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var c=o.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&c:r[u]=c}})}),a==="allSelect"||a==="inverseSelect"?{selected:r}:{name:t.name,selected:r}}function Ap(a){a.registerAction("legendToggleSelect","legendselectchanged",ce(Nt,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",ce(Nt,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",ce(Nt,"inverseSelect")),a.registerAction("legendSelect","legendselected",ce(Nt,"select")),a.registerAction("legendUnSelect","legendunselected",ce(Nt,"unSelect"))}function Es(a){a.registerComponentModel(Va),a.registerComponentView(Vs),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,bp),a.registerSubTypeDefaulter("legend",function(){return"plain"}),Ap(a)}var wp=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,r,i){var n=Xo(e);a.prototype.init.call(this,e,r,i),Ln(this,e,n)},t.prototype.mergeOption=function(e,r){a.prototype.mergeOption.call(this,e,r),Ln(this,this.option,e)},t.type="legend.scroll",t.defaultOption=kt(Va.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Va);function Ln(a,t,e){var r=a.getOrient(),i=[1,1];i[r.index]=0,Qa(t,e,{type:"box",ignoreSize:!!i})}var Pn=$,oa=["width","height"],sa=["x","y"],Tp=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new Pn),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Pn)},t.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,r,i,n,o,s,l){var u=this;a.prototype.renderInner.call(this,e,r,i,n,o,s,l);var c=this._controllerGroup,v=r.get("pageIconSize",!0),h=B(v)?v:[v,v];p("pagePrev",0);var f=r.getModel("pageTextStyle");c.add(new ee({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(g,d){var y=g+"DataIndex",m=$a(r.get("pageIcons",!0)[r.getOrient().name][d],{onclick:X(u._pageGo,u,y,r,n)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});m.name=g,c.add(m)}},t.prototype.layoutInner=function(e,r,i,n,o,s){var l=this.getSelectorGroup(),u=e.getOrient().index,c=oa[u],v=sa[u],h=oa[1-u],f=sa[1-u];o&&At("horizontal",l,e.get("selectorItemGap",!0));var p=e.get("selectorButtonGap",!0),g=l.getBoundingRect(),d=[-g.x,-g.y],y=q(i);o&&(y[c]=i[c]-g[c]-p);var m=this._layoutContentAndController(e,n,y,u,c,h,f,v);if(o){if(s==="end")d[u]+=m[c]+p;else{var x=g[c]+p;d[u]-=x,m[v]-=x}m[c]+=g[c]+p,d[1-u]+=m[f]+m[h]/2-g[h]/2,m[h]=Math.max(m[h],g[h]),m[f]=Math.min(m[f],g[f]+d[1-u]),l.x=d[0],l.y=d[1],l.markRedraw()}return m},t.prototype._layoutContentAndController=function(e,r,i,n,o,s,l,u){var c=this.getContentGroup(),v=this._containerGroup,h=this._controllerGroup;At(e.get("orient"),c,e.get("itemGap"),n?i.width:null,n?null:i.height),At("horizontal",h,e.get("pageButtonItemGap",!0));var f=c.getBoundingRect(),p=h.getBoundingRect(),g=this._showController=f[o]>i[o],d=[-f.x,-f.y];r||(d[n]=c[u]);var y=[0,0],m=[-p.x,-p.y],x=me(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(g){var S=e.get("pageButtonPosition",!0);S==="end"?m[n]+=i[o]-p[o]:y[n]+=p[o]+x}m[1-n]+=f[s]/2-p[s]/2,c.setPosition(d),v.setPosition(y),h.setPosition(m);var b={x:0,y:0};if(b[o]=g?i[o]:f[o],b[s]=Math.max(f[s],p[s]),b[l]=Math.min(0,p[l]+m[1-n]),v.__rectSize=i[o],g){var _={x:0,y:0};_[o]=Math.max(i[o]-p[o]-x,0),_[s]=b[s],v.setClipPath(new he({shape:_})),v.__rectSize=_[o]}else h.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(e);return A.pageIndex!=null&&se(c,{x:A.contentPosition[0],y:A.contentPosition[1]},g?e:null),this._updatePageInfoView(e,A),b},t.prototype._pageGo=function(e,r,i){var n=this._getPageInfo(r)[e];n!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:r.id})},t.prototype._updatePageInfoView=function(e,r){var i=this._controllerGroup;w(["pagePrev","pageNext"],function(c){var v=c+"DataIndex",h=r[v]!=null,f=i.childOfName(c);f&&(f.setStyle("fill",h?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),f.cursor=h?"pointer":"default")});var n=i.childOfName("pageText"),o=e.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;n&&o&&n.setStyle("text",j(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(e){var r=e.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=e.getOrient().index,s=oa[o],l=sa[o],u=this._findTargetItemIndex(r),c=i.children(),v=c[u],h=c.length,f=h?1:0,p={contentPosition:[i.x,i.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!v)return p;var g=S(v);p.contentPosition[o]=-g.s;for(var d=u+1,y=g,m=g,x=null;d<=h;++d)x=S(c[d]),(!x&&m.e>y.s+n||x&&!b(x,y.s))&&(m.i>y.i?y=m:y=x,y&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=y.i),++p.pageCount)),m=x;for(var d=u-1,y=g,m=g,x=null;d>=-1;--d)x=S(c[d]),(!x||!b(m,x.s))&&y.i<m.i&&(m=y,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=y.i),++p.pageCount,++p.pageIndex),y=x;return p;function S(_){if(_){var A=_.getBoundingRect(),T=A[l]+_[l];return{s:T,e:T+A[s],i:_.__legendDataIndex}}}function b(_,A){return _.e>=A&&_.s<=A+n}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var r,i=this.getContentGroup(),n;return i.eachChild(function(o,s){var l=o.__legendDataIndex;n==null&&l!=null&&(n=s),l===e&&(r=s)}),r!=null?r:n},t.type="legend.scroll",t}(Vs);function Cp(a){a.registerAction("legendScroll","legendscroll",function(t,e){var r=t.scrollDataIndex;r!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(r)})})}function Dp(a){Me(Es),a.registerComponentModel(wp),a.registerComponentView(Tp),Cp(a)}function Lp(a){Me(Es),Me(Dp)}var Gs={get:function(a,t,e){var r=q((Pp[a]||{})[t]);return e&&B(r)?r[r.length-1]:r}},Pp={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},In=ie.mapVisual,Ip=ie.eachVisual,Mp=B,Mn=w,Rp=Qt,Vp=ze,Gr=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,r){var i=this.option;!r&&sp(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var r=this.stateList;e=X(e,this),this.controllerVisuals=_n(this.option.controller,r,e),this.targetVisuals=_n(this.option.target,r,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,r=[];return e==null||e==="all"?this.ecModel.eachSeries(function(i,n){r.push(n)}):r=Ct(e),r},t.prototype.eachTargetSeries=function(e,r){w(this.getTargetSeriesIndices(),function(i){var n=this.ecModel.getSeriesByIndex(i);n&&e.call(r,n)},this)},t.prototype.isTargetSeries=function(e){var r=!1;return this.eachTargetSeries(function(i){i===e&&(r=!0)}),r},t.prototype.formatValueText=function(e,r,i){var n=this.option,o=n.precision,s=this.dataBound,l=n.formatter,u;i=i||["<",">"],B(e)&&(e=e.slice(),u=!0);var c=r?e:u?[v(e[0]),v(e[1])]:v(e);if(j(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Ie(l))return u?l(e[0],e[1]):l(e);if(u)return e[0]===s[0]?i[0]+" "+c[1]:e[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function v(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,r=Rp([e.min,e.max]);this._dataExtent=r},t.prototype.getDataDimensionIndex=function(e){var r=this.option.dimension;if(r!=null)return e.getDimensionIndex(r);for(var i=e.dimensions,n=i.length-1;n>=0;n--){var o=i[n],s=e.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},n=r.target||(r.target={}),o=r.controller||(r.controller={});xe(n,i),xe(o,i);var s=this.isCategory();l.call(this,n),l.call(this,o),u.call(this,n,"inRange","outOfRange"),c.call(this,o);function l(v){Mp(r.color)&&!v.inRange&&(v.inRange={color:r.color.slice().reverse()}),v.inRange=v.inRange||{color:e.get("gradientColor")}}function u(v,h,f){var p=v[h],g=v[f];p&&!g&&(g=v[f]={},Mn(p,function(d,y){if(ie.isValidType(y)){var m=Gs.get(y,"inactive",s);m!=null&&(g[y]=m,y==="color"&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}function c(v){var h=(v.inRange||{}).symbol||(v.outOfRange||{}).symbol,f=(v.inRange||{}).symbolSize||(v.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),g=this.getItemSymbol(),d=g||"roundRect";Mn(this.stateList,function(y){var m=this.itemSize,x=v[y];x||(x=v[y]={color:s?p:[p]}),x.symbol==null&&(x.symbol=h&&q(h)||(s?d:[d])),x.symbolSize==null&&(x.symbolSize=f&&q(f)||(s?m[0]:[m[0],m[0]])),x.symbol=In(x.symbol,function(_){return _==="none"?d:_});var S=x.symbolSize;if(S!=null){var b=-1/0;Ip(S,function(_){_>b&&(b=_)}),x.symbolSize=In(S,function(_){return Vp(_,[0,b],[0,m[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(le),Rn=[20,140],kp=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(e,r){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){a.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=Rn[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=Rn[1])},t.prototype._resetRange=function(){var e=this.getExtent(),r=this.option.range;!r||r.auto?(e.auto=1,this.option.range=e):B(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],e[0]),r[1]=Math.min(r[1],e[1]))},t.prototype.completeVisualOption=function(){a.prototype.completeVisualOption.apply(this,arguments),w(this.stateList,function(e){var r=this.option.controller[e].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),r=Qt((this.get("range")||[]).slice());return r[0]>e[1]&&(r[0]=e[1]),r[1]>e[1]&&(r[1]=e[1]),r[0]<e[0]&&(r[0]=e[0]),r[1]<e[0]&&(r[1]=e[0]),r},t.prototype.getValueState=function(e){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=e)&&(r[1]>=i[1]||e<=r[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var r=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,l){e[0]<=s&&s<=e[1]&&n.push(l)},this),r.push({seriesId:i.id,dataIndex:n})},this),r},t.prototype.getVisualMeta=function(e){var r=Vn(this,"outOfRange",this.getExtent()),i=Vn(this,"inRange",this.option.range.slice()),n=[];function o(f,p){n.push({value:f,color:e(f,p)})}for(var s=0,l=0,u=i.length,c=r.length;l<c&&(!i.length||r[l]<=i[0]);l++)r[l]<i[s]&&o(r[l],"outOfRange");for(var v=1;s<u;s++,v=0)v&&n.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(var v=1;l<c;l++)(!i.length||i[i.length-1]<r[l])&&(v&&(n.length&&o(n[n.length-1].value,"outOfRange"),v=0),o(r[l],"outOfRange"));var h=n.length;return{stops:n,outerColors:[h?n[0].color:"transparent",h?n[h-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=kt(Gr.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Gr);function Vn(a,t,e){if(e[0]===e[1])return e.slice();for(var r=200,i=(e[1]-e[0])/r,n=e[0],o=[],s=0;s<=r&&n<e[1];s++)o.push(n),n+=i;return o.push(e[1]),o}var zs=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return t.prototype.init=function(e,r){this.ecModel=e,this.api=r},t.prototype.render=function(e,r,i,n){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,r,i,n)},t.prototype.renderBackground=function(e){var r=this.visualMapModel,i=zo(r.get("padding")||0),n=e.getBoundingRect();e.add(new he({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,r,i){i=i||{};var n=i.forceState,o=this.visualMapModel,s={};if(r==="color"){var l=o.get("contentColor");s.color=l}function u(f){return s[f]}function c(f,p){s[f]=p}var v=o.controllerVisuals[n||o.getValueState(e)],h=ie.prepareVisualTypes(v);return w(h,function(f){var p=v[f];i.convertOpacityToAlpha&&f==="opacity"&&(f="colorAlpha",p=v.__alphaForOpacity),ie.dependsOn(f,r)&&p&&p.applyVisual(e,u,c)}),s[r]},t.prototype.positionGroup=function(e){var r=this.visualMapModel,i=this.api;jo(e,r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,r,i,n){},t.type="visualMap",t}(pe),kn=[["left","right","width"],["top","bottom","height"]];function Os(a,t,e){var r=a.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var n={width:t.getWidth(),height:t.getHeight()},o=r.orient==="horizontal"?1:0,s=kn[o],l=[0,null,10],u={},c=0;c<3;c++)u[kn[1-o][c]]=l[c],u[s[c]]=c===2?e[0]:r[s[c]];var v=[["x","width",3],["y","height",0]][o],h=Ge(u,n,r.padding);return s[(h.margin[v[2]]||0)+h[v[0]]+h[v[1]]*.5<n[v[1]]*.5?0:1]}function Ar(a,t){return w(a||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),a}var Ce=ze,Ep=w,En=Math.min,la=Math.max,Gp=12,zp=6,Op=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return t.prototype.init=function(e,r){a.prototype.init.call(this,e,r),this._hoverLinkFromSeriesMouseOver=X(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=X(this._hideIndicator,this)},t.prototype.doRender=function(e,r,i,n){(!n||n.type!=="selectDataRange"||n.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,r=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(r);var i=e.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},t.prototype._renderEndsText=function(e,r,i){if(r){var n=r[1-i];n=n!=null?n+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],u),v=this._applyTransform(i===0?"bottom":"top",u),h=this._orient,f=this.visualMapModel.textStyleModel;this.group.add(new ee({style:ve(f,{x:c[0],y:c[1],verticalAlign:h==="horizontal"?"middle":v,align:h==="horizontal"?v:"center",text:n})}))}},t.prototype._renderBar=function(e){var r=this.visualMapModel,i=this._shapes,n=r.itemSize,o=this._orient,s=this._useHandle,l=Os(r,this.api,n),u=i.mainGroup=this._createBarGroup(l),c=new $;u.add(c),c.add(i.outOfRange=Gn()),c.add(i.inRange=Gn(null,s?On(this._orient):null,X(this._dragHandle,this,"all",!1),X(this._dragHandle,this,"all",!0))),c.setClipPath(new he({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var v=r.textStyleModel.getTextRect(""),h=la(v.width,v.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,u,0,n,h,o),this._createHandle(r,u,1,n,h,o)),this._createIndicator(r,u,n,h,o),e.add(u)},t.prototype._createHandle=function(e,r,i,n,o,s){var l=X(this._dragHandle,this,i,!1),u=X(this._dragHandle,this,i,!0),c=Lr(e.get("handleSize"),n[0]),v=Ee(e.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=On(this._orient);v.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(y){Aa(y.event)}}),v.x=n[0]/2,v.useStyle(e.getModel("handleStyle").getItemStyle()),v.setStyle({strokeNoScale:!0,strokeFirst:!0}),v.style.lineWidth*=2,v.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Dc(v,!0),r.add(v);var f=this.visualMapModel.textStyleModel,p=new ee({cursor:h,draggable:!0,drift:l,onmousemove:function(y){Aa(y.event)},ondragend:u,style:ve(f,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var g=[c,0],d=this._shapes;d.handleThumbs[i]=v,d.handleLabelPoints[i]=g,d.handleLabels[i]=p},t.prototype._createIndicator=function(e,r,i,n,o){var s=Lr(e.get("indicatorSize"),i[0]),l=Ee(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof qe){var c=l.style;l.useStyle(G({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var v=this.visualMapModel.textStyleModel,h=new ee({silent:!0,invisible:!0,style:ve(v,{x:0,y:0,text:""})});this.group.add(h);var f=[(o==="horizontal"?n/2:zp)+i[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=h,p.indicatorLabelPoint=f,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,r,i,n){if(this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([i,n],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():zn(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,r=this._dataInterval=e.getSelected(),i=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[Ce(r[0],i,n,!0),Ce(r[1],i,n,!0)]},t.prototype._updateInterval=function(e,r){r=r||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];Yo(r,n,o,e,0);var s=i.getExtent();this._dataInterval=[Ce(n[0],o,s,!0),Ce(n[1],o,s,!0)]},t.prototype._updateView=function(e){var r=this.visualMapModel,i=r.getExtent(),n=this._shapes,o=[0,r.itemSize[1]],s=e?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),n.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,r,i,n){var o={forceState:n,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,o),l=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],u=this._createBarPoints(i,l);return{barColor:new Ya(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,r){var i=100,n=[],o=(e[1]-e[0])/i;n.push({color:this.getControllerVisual(e[0],"color",r),offset:0});for(var s=1;s<i;s++){var l=e[0]+o*s;if(l>e[1])break;n.push({color:this.getControllerVisual(l,"color",r),offset:s/i})}return n.push({color:this.getControllerVisual(e[1],"color",r),offset:1}),n},t.prototype._createBarPoints=function(e,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-r[1],e[1]]]},t.prototype._createBarGroup=function(e){var r=this._orient,i=this.visualMapModel.get("inverse");return new $(r==="horizontal"&&!i?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,r){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,l=n.itemSize,u=n.getExtent();Ep([0,1],function(c){var v=o[c];v.setStyle("fill",r.handlesColor[c]),v.y=e[c];var h=Ce(e[c],[0,l[1]],u,!0),f=this.getControllerVisual(h,"symbolSize");v.scaleX=v.scaleY=f/l[0],v.x=l[0]-f/2;var p=bt(i.handleLabelPoints[c],Sr(v,this.group));s[c].setStyle({x:p[0],y:p[1],text:n.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,r,i,n){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,v=c.indicator;if(v){v.attr("invisible",!1);var h={convertOpacityToAlpha:!0},f=this.getControllerVisual(e,"color",h),p=this.getControllerVisual(e,"symbolSize"),g=Ce(e,s,u,!0),d=l[0]-p/2,y={x:v.x,y:v.y};v.y=g,v.x=d;var m=bt(c.indicatorLabelPoint,Sr(v,this.group)),x=c.indicatorLabel;x.attr("invisible",!1);var S=this._applyTransform("left",c.mainGroup),b=this._orient,_=b==="horizontal";x.setStyle({text:(i||"")+o.formatValueText(r),verticalAlign:_?S:"middle",align:_?"center":S});var A={x:d,y:g,style:{fill:f}},T={style:{x:m[0],y:m[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var C={duration:100,easing:"cubicInOut",additive:!0};v.x=y.x,v.y=y.y,v.animateTo(A,C),x.animateTo(T,C)}else v.attr(A),x.attr(T);this._firstShowIndicator=!1;var D=this._shapes.handleLabels;if(D)for(var L=0;L<D.length;L++)this.api.enterBlur(D[L])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(r){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,n=e._applyTransform([r.offsetX,r.offsetY],e._shapes.mainGroup,!0,!0);n[1]=En(la(0,n[1]),i[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,r){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],s=i.getExtent();e=En(la(o[0],e),o[1]);var l=Np(i,s,o),u=[e-l,e+l],c=Ce(e,o,s,!0),v=[Ce(u[0],o,s,!0),Ce(u[1],o,s,!0)];u[0]<o[0]&&(v[0]=-1/0),u[1]>o[1]&&(v[1]=1/0),r&&(v[0]===-1/0?this._showIndicator(c,v[1],"< ",l):v[1]===1/0?this._showIndicator(c,v[0],"> ",l):this._showIndicator(c,c," ",l));var h=this._hoverLinkDataIndices,f=[];(r||zn(i))&&(f=this._hoverLinkDataIndices=i.findTargetDataIndices(v));var p=Lc(h,f);this._dispatchHighDown("downplay",Ar(p[0],i)),this._dispatchHighDown("highlight",Ar(p[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var r;if(Uo(e.target,function(l){var u=oe(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),n=this.visualMapModel;if(n.isTargetSeries(i)){var o=i.getData(r.dataType),s=o.getStore().get(n.getDataDimensionIndex(o),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this.api.leaveBlur(r[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Ar(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,r,i,n){var o=Sr(r,n?null:this.group);return B(e)?bt(e,o,i):Pc(e,o,i)},t.prototype._dispatchHighDown=function(e,r){r&&r.length&&this.api.dispatchAction({type:e,batch:r})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(zs);function Gn(a,t,e,r){return new It({shape:{points:a},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){Aa(i.event)},ondragend:r})}function Np(a,t,e){var r=Gp/2,i=a.get("hoverLinkDataSize");return i&&(r=Ce(i,t,e,!0)/2),r}function zn(a){var t=a.get("hoverLinkOnHandle");return!!(t==null?a.get("realtime"):t)}function On(a){return a==="vertical"?"ns-resize":"ew-resize"}var Bp={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Fp=function(a,t){t.eachComponent({mainType:"visualMap",query:a},function(e){e.setSelected(a.selected)})},Wp=[{createOnAllSeries:!0,reset:function(a,t){var e=[];return t.eachComponent("visualMap",function(r){var i=a.pipelineContext;!r.isTargetSeries(a)||i&&i.large||e.push(lp(r.stateList,r.targetVisuals,X(r.getValueState,r),r.getDataDimensionIndex(a.getData())))}),e}},{createOnAllSeries:!0,reset:function(a,t){var e=a.getData(),r=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(a)){var n=i.getVisualMeta(X(Hp,null,a,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(e);o>=0&&(n.dimension=o,r.push(n))}}),a.getData().setVisual("visualMeta",r)}}];function Hp(a,t,e,r){for(var i=t.targetVisuals[r],n=ie.prepareVisualTypes(i),o={color:Ic(a.getData(),"color")},s=0,l=n.length;s<l;s++){var u=n[s],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(e,v,h)}return o.color;function v(f){return o[f]}function h(f,p){o[f]=p}}var Nn=w;function Up(a){var t=a&&a.visualMap;B(t)||(t=t?[t]:[]),Nn(t,function(e){if(e){xt(e,"splitList")&&!xt(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var r=e.pieces;r&&B(r)&&Nn(r,function(i){fe(i)&&(xt(i,"start")&&!xt(i,"min")&&(i.min=i.start),xt(i,"end")&&!xt(i,"max")&&(i.max=i.end))})}})}function xt(a,t){return a&&a.hasOwnProperty&&a.hasOwnProperty(t)}var Bn=!1;function Ns(a){Bn||(Bn=!0,a.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),a.registerAction(Bp,Fp),w(Wp,function(t){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,t)}),a.registerPreprocessor(Up))}function Yp(a){a.registerComponentModel(kp),a.registerComponentView(Op),Ns(a)}var Xp=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return t.prototype.optionUpdated=function(e,r){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],$p[this._mode].call(this,this._pieceList),this._resetSelected(e,r);var n=this.option.categories;this.resetVisual(function(o,s){i==="categories"?(o.mappingMethod="category",o.categories=q(n)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=N(this._pieceList,function(l){return l=q(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,r={},i=ie.listVisualTypes(),n=this.isCategory();w(e.pieces,function(s){w(i,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),w(r,function(s,l){var u=!1;w(this.stateList,function(c){u=u||o(e,c,l)||o(e.target,c,l)},this),!u&&w(this.stateList,function(c){(e[c]||(e[c]={}))[l]=Gs.get(l,c==="inRange"?"active":"inactive",n)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}a.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,r){var i=this.option,n=this._pieceList,o=(r?i:e).selected||{};if(i.selected=o,w(n,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),i.selectedMode==="single"){var s=!1;w(n,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=q(e)},t.prototype.getValueState=function(e){var r=ie.findPieceIndex(e,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var r=[],i=this._pieceList;return this.eachTargetSeries(function(n){var o=[],s=n.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=ie.findPieceIndex(l,i);c===e&&o.push(u)},this),r.push({seriesId:n.id,dataIndex:o})},this),r},t.prototype.getRepresentValue=function(e){var r;if(this.isCategory())r=e.value;else if(e.value!=null)r=e.value;else{var i=e.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var r=[],i=["",""],n=this;function o(c,v){var h=n.getRepresentValue({interval:c});v||(v=n.getValueState(h));var f=e(h,v);c[0]===-1/0?i[0]=f:c[1]===1/0?i[1]=f:r.push({value:c[0],color:f},{value:c[1],color:f})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return w(s,function(c){var v=c.interval;v&&(v[0]>u&&o([u,v[0]],"outOfRange"),o(v.slice()),u=v[1])},this),{stops:r,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=kt(Gr.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Gr),$p={splitNumber:function(a){var t=this.option,e=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var n=(r[1]-r[0])/i;+n.toFixed(e)!==n&&e<5;)e++;t.precision=e,n=+n.toFixed(e),t.minOpen&&a.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<i;s+=n,o++){var l=o===i-1?r[1]:s+n;a.push({interval:[s,l],close:[1,1]})}t.maxOpen&&a.push({interval:[r[1],1/0],close:[0,0]}),Sa(a),w(a,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(a){var t=this.option;w(t.categories,function(e){a.push({text:this.formatValueText(e,!0),value:e})},this),Fn(t,a)},pieces:function(a){var t=this.option;w(t.pieces,function(e,r){fe(e)||(e={value:e});var i={text:"",index:r};if(e.label!=null&&(i.text=e.label),e.hasOwnProperty("value")){var n=i.value=e.value;i.interval=[n,n],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],v=0;v<2;v++){for(var h=[["gte","gt","min"],["lte","lt","max"]][v],f=0;f<3&&o[v]==null;f++)o[v]=e[h[f]],s[v]=l[f],c[v]=f===2;o[v]==null&&(o[v]=u[v])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=ie.retrieveVisuals(e),a.push(i)},this),Fn(t,a),Sa(a),w(a,function(e){var r=e.close,i=[["<",""][r[1]],[">",""][r[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,i)},this)}};function Fn(a,t){var e=a.inverse;(a.orient==="vertical"?!e:e)&&t.reverse()}var jp=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var r=this.visualMapModel,i=r.get("textGap"),n=r.textStyleModel,o=n.getFont(),s=n.getTextColor(),l=this._getItemAlign(),u=r.itemSize,c=this._getViewData(),v=c.endsText,h=Ka(r.get("showLabel",!0),!v);v&&this._renderEndsText(e,v[0],u,h,l),w(c.viewPieceList,function(f){var p=f.piece,g=new $;g.onclick=X(this._onItemClick,this,p),this._enableHoverLink(g,f.indexInModelPieceList);var d=r.getRepresentValue(p);if(this._createItemSymbol(g,d,[0,0,u[0],u[1]]),h){var y=this.visualMapModel.getValueState(d);g.add(new ee({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:p.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:y==="outOfRange"?.5:1}}))}e.add(g)},this),v&&this._renderEndsText(e,v[1],u,h,l),At(r.get("orient"),e,r.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,r){var i=this;e.on("mouseover",function(){return n("highlight")}).on("mouseout",function(){return n("downplay")});var n=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:Ar(s.findTargetDataIndices(r),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,r=e.option;if(r.orient==="vertical")return Os(e,this.api,e.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(e,r,i,n,o){if(r){var s=new $,l=this.visualMapModel.textStyleModel;s.add(new ee({style:ve(l,{x:n?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:n?o:"center",text:r})})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,r=N(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=e.get("text"),n=e.get("orient"),o=e.get("inverse");return(n==="horizontal"?o:!o)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},t.prototype._createItemSymbol=function(e,r,i){e.add(Ee(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},t.prototype._onItemClick=function(e){var r=this.visualMapModel,i=r.option,n=i.selectedMode;if(n){var o=q(i.selected),s=r.getSelectedMapKey(e);n==="single"||n===!0?(o[s]=!0,w(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}(zs);function Zp(a){a.registerComponentModel(Xp),a.registerComponentView(jp),Ns(a)}function Jp(a){Me(Yp),Me(Zp)}var Kp={label:{enabled:!0},decal:{show:!1}},Wn=Ne(),qp={};function Qp(a,t){var e=a.getModel("aria");if(!e.get("enabled"))return;var r=q(Kp);xe(r.label,a.getLocaleModel().get("aria"),!1),xe(e.option,r,!1),i(),n();function i(){var u=e.getModel("decal"),c=u.get("show");if(c){var v=J();a.eachSeries(function(h){if(!h.isColorBySeries()){var f=v.get(h.type);f||(f={},v.set(h.type,f)),Wn(h).scope=f}}),a.eachRawSeries(function(h){if(a.isSeriesFiltered(h))return;if(Ie(h.enableAriaDecal)){h.enableAriaDecal();return}var f=h.getData();if(h.isColorBySeries()){var m=Ti(h.ecModel,h.name,qp,a.getSeriesCount()),x=f.getVisual("decal");f.setVisual("decal",S(x,m))}else{var p=h.getRawData(),g={},d=Wn(h).scope;f.each(function(b){var _=f.getRawIndex(b);g[_]=b});var y=p.count();p.each(function(b){var _=g[b],A=p.getName(b)||b+"",T=Ti(h.ecModel,A,d,y),C=f.getItemVisual(_,"decal");f.setItemVisual(_,"decal",S(C,T))})}function S(b,_){var A=b?G(G({},_),b):_;return A.dirty=!0,A}})}}function n(){var u=t.getZr().dom;if(u){var c=a.getLocaleModel().get("aria"),v=e.getModel("label");if(v.option=K(v.option,c),!!v.get("enabled")){if(v.get("description")){u.setAttribute("aria-label",v.get("description"));return}var h=a.getSeriesCount(),f=v.get(["data","maxCount"])||10,p=v.get(["series","maxCount"])||10,g=Math.min(h,p),d;if(!(h<1)){var y=s();if(y){var m=v.get(["general","withTitle"]);d=o(m,{title:y})}else d=v.get(["general","withoutTitle"]);var x=[],S=h>1?v.get(["series","multiple","prefix"]):v.get(["series","single","prefix"]);d+=o(S,{seriesCount:h}),a.eachSeries(function(T,C){if(C<g){var D=void 0,L=T.get("name"),I=L?"withName":"withoutName";D=h>1?v.get(["series","multiple",I]):v.get(["series","single",I]),D=o(D,{seriesId:T.seriesIndex,seriesName:T.get("name"),seriesType:l(T.subType)});var P=T.getData();if(P.count()>f){var V=v.get(["data","partialData"]);D+=o(V,{displayCnt:f})}else D+=v.get(["data","allData"]);for(var M=v.get(["data","separator","middle"]),F=v.get(["data","separator","end"]),O=[],k=0;k<P.count();k++)if(k<f){var z=P.getName(k),U=P.getValues(k),Y=v.get(["data",z?"withName":"withoutName"]);O.push(o(Y,{name:z,value:U.join(M)}))}D+=O.join(M)+F,x.push(D)}});var b=v.getModel(["series","multiple","separator"]),_=b.get("middle"),A=b.get("end");d+=x.join(_)+A,u.setAttribute("aria-label",d)}}}}function o(u,c){if(!j(u))return u;var v=u;return w(c,function(h,f){v=v.replace(new RegExp("\\{\\s*"+f+"\\s*\\}","g"),h)}),v}function s(){var u=a.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=a.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function eg(a){if(!(!a||!a.aria)){var t=a.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},w(["description","general","series","data"],function(e){t[e]!=null&&(t.label[e]=t[e])})}}function tg(a){a.registerPreprocessor(eg),a.registerVisual(a.PRIORITY.VISUAL.ARIA,Qp)}var Jt=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){return Fa(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,r,i){var n=this.coordinateSystem;if(n&&n.clampData){var o=n.clampData(e),s=n.dataToPoint(o);if(i)w(n.getAxes(),function(h,f){if(h.type==="category"&&r!=null){var p=h.getTicksCoords(),g=h.getTickModel().get("alignWithLabel"),d=o[f],y=r[f]==="x1"||r[f]==="y1";if(y&&!g&&(d+=1),p.length<2)return;if(p.length===2){s[f]=h.toGlobalCoord(h.getExtent()[y?1:0]);return}for(var m=void 0,x=void 0,S=1,b=0;b<p.length;b++){var _=p[b].coord,A=b===p.length-1?p[b-1].tickValue+S:p[b].tickValue;if(A===d){x=_;break}else if(A<d)m=_;else if(m!=null&&A>d){x=(_+m)/2;break}b===1&&(S=A-p[0].tickValue)}x==null&&(m?m&&(x=p[p.length-1].coord):x=p[0].coord),s[f]=h.toGlobalCoord(x)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),v=n.getBaseAxis().isHorizontal()?0:1;s[v]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Ze);Ze.registerClass(Jt);var rg=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Fa(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,i){return i.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=kt(Jt.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Jt),ag=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),Hn=function(a){R(t,a);function t(e){var r=a.call(this,e)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new ag},t.prototype.buildPath=function(e,r){var i=r.cx,n=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,c=r.startAngle,v=r.endAngle,h=r.clockwise,f=Math.PI*2,p=h?v-c<f:c-v<f;p||(c=v-(h?f:-f));var g=Math.cos(c),d=Math.sin(c),y=Math.cos(v),m=Math.sin(v);p?(e.moveTo(g*o+i,d*o+n),e.arc(g*u+i,d*u+n,l,-Math.PI+c,c,!h)):e.moveTo(g*s+i,d*s+n),e.arc(i,n,s,c,v,!h),e.arc(y*u+i,m*u+n,l,v-Math.PI*2,v-Math.PI,!h),o!==0&&e.arc(i,n,o,v,c,h)},t}(Fr);function ig(a,t){t=t||{};var e=t.isRoundCap;return function(r,i,n){var o=i.position;if(!o||o instanceof Array)return Ci(r,i,n);var s=a(o),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,v=u.cy,h=u.r,f=u.r0,p=(h+f)/2,g=u.startAngle,d=u.endAngle,y=(g+d)/2,m=e?Math.abs(h-f)/2:0,x=Math.cos,S=Math.sin,b=c+h*x(g),_=v+h*S(g),A="left",T="top";switch(s){case"startArc":b=c+(f-l)*x(y),_=v+(f-l)*S(y),A="center",T="top";break;case"insideStartArc":b=c+(f+l)*x(y),_=v+(f+l)*S(y),A="center",T="bottom";break;case"startAngle":b=c+p*x(g)+dr(g,l+m,!1),_=v+p*S(g)+yr(g,l+m,!1),A="right",T="middle";break;case"insideStartAngle":b=c+p*x(g)+dr(g,-l+m,!1),_=v+p*S(g)+yr(g,-l+m,!1),A="left",T="middle";break;case"middle":b=c+p*x(y),_=v+p*S(y),A="center",T="middle";break;case"endArc":b=c+(h+l)*x(y),_=v+(h+l)*S(y),A="center",T="bottom";break;case"insideEndArc":b=c+(h-l)*x(y),_=v+(h-l)*S(y),A="center",T="top";break;case"endAngle":b=c+p*x(d)+dr(d,l+m,!0),_=v+p*S(d)+yr(d,l+m,!0),A="left",T="middle";break;case"insideEndAngle":b=c+p*x(d)+dr(d,-l+m,!0),_=v+p*S(d)+yr(d,-l+m,!0),A="right",T="middle";break;default:return Ci(r,i,n)}return r=r||{},r.x=b,r.y=_,r.align=A,r.verticalAlign=T,r}}function ng(a,t,e,r){if(Rt(r)){a.setTextConfig({rotation:r});return}else if(B(t)){a.setTextConfig({rotation:0});return}var i=a.shape,n=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(n+o)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=n;break;case"endAngle":case"insideEndAngle":l=o;break;default:a.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),a.setTextConfig({rotation:c})}function dr(a,t,e){return t*Math.sin(a)*(e?-1:1)}function yr(a,t,e){return t*Math.cos(a)*(e?1:-1)}function Wt(a,t,e){var r=a.get("borderRadius");if(r==null)return e?{cornerRadius:0}:null;B(r)||(r=[r,r,r,r]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:N(r,function(n){return Lr(n,i)})}}var ua=Math.max,ca=Math.min;function og(a,t){var e=a.getArea&&a.getArea();if(ts(a,"cartesian2d")){var r=a.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var sg=function(a){R(t,a);function t(){var e=a.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,r,i,n){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,i):this._renderNormal(e,r,i,n))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){Mc(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,i,n){var o=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,c=u.getBaseAxis(),v;u.type==="cartesian2d"?v=c.isHorizontal():u.type==="polar"&&(v=c.dim==="angle");var h=e.isAnimationEnabled()?e:null,f=lg(e,u);f&&this._enableRealtimeSort(f,s,i);var p=e.get("clip",!0)||f,g=og(u,s);o.removeClipPath();var d=e.get("roundCap",!0),y=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),x=m.get("borderRadius")||0,S=[],b=this._backgroundEls,_=n&&n.isInitSort,A=n&&n.type==="changeAxisOrder";function T(L){var I=mr[u.type](s,L),P=gg(u,v,I);return P.useStyle(m.getItemStyle()),u.type==="cartesian2d"?P.setShape("r",x):P.setShape("cornerRadius",x),S[L]=P,P}s.diff(l).add(function(L){var I=s.getItemModel(L),P=mr[u.type](s,L,I);if(y&&T(L),!(!s.hasValue(L)||!jn[u.type](P))){var V=!1;p&&(V=Un[u.type](g,P));var M=Yn[u.type](e,s,L,P,v,h,c.model,!1,d);f&&(M.forceLabelAnimation=!0),Zn(M,s,L,I,P,e,v,u.type==="polar"),_?M.attr({shape:P}):f?Xn(f,h,M,P,L,v,!1,!1):Pe(M,{shape:P},e,L),s.setItemGraphicEl(L,M),o.add(M),M.ignore=V}}).update(function(L,I){var P=s.getItemModel(L),V=mr[u.type](s,L,P);if(y){var M=void 0;b.length===0?M=T(I):(M=b[I],M.useStyle(m.getItemStyle()),u.type==="cartesian2d"?M.setShape("r",x):M.setShape("cornerRadius",x),S[L]=M);var F=mr[u.type](s,L),O=Fs(v,F,u);se(M,{shape:O},h,L)}var k=l.getItemGraphicEl(I);if(!s.hasValue(L)||!jn[u.type](V)){o.remove(k);return}var z=!1;if(p&&(z=Un[u.type](g,V),z&&o.remove(k)),k?Pr(k):k=Yn[u.type](e,s,L,V,v,h,c.model,!!k,d),f&&(k.forceLabelAnimation=!0),A){var U=k.getTextContent();if(U){var Y=Rc(U);Y.prevValue!=null&&(Y.prevValue=Y.value)}}else Zn(k,s,L,P,V,e,v,u.type==="polar");_?k.attr({shape:V}):f?Xn(f,h,k,V,L,v,!0,A):se(k,{shape:V},e,L,null),s.setItemGraphicEl(L,k),k.ignore=z,o.add(k)}).remove(function(L){var I=l.getItemGraphicEl(L);I&&wa(I,e,L)}).execute();var C=this._backgroundGroup||(this._backgroundGroup=new $);C.removeAll();for(var D=0;D<S.length;++D)C.add(S[D]);o.add(C),this._backgroundEls=S,this._data=s},t.prototype._renderLarge=function(e,r,i){this._clear(),Kn(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),Kn(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&Qo(e.coordinateSystem,!1,e),i=this.group;r?i.setClipPath(r):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,i){var n=this;if(r.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,i),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){n._updateSortWithinSameData(r,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,i){var n=[];return e.each(e.mapDimension(r.dim),function(o,s){var l=i(s);l=l==null?NaN:l,n.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),n.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:N(n,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,i){for(var n=i.scale,o=e.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=n.getOrdinalMeta().categories.length;l<u;++l){var c=e.rawIndexOf(o,n.getRawOrdinalNumber(l)),v=c<0?Number.MIN_VALUE:r(e.indexOfRawIndex(c));if(v>s)return!0;s=v}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var i=r.scale,n=i.getExtent(),o=Math.max(0,n[0]),s=Math.min(n[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,r,i,n){if(this._isOrderChangedWithinSameData(e,r,i)){var o=this._dataSort(e,i,r);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,r,i){var n=r.baseAxis,o=this._dataSort(e,n,function(s){return e.get(e.mapDimension(r.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(n){wa(n,e,oe(n).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Je),Un={cartesian2d:function(a,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var i=a.x+a.width,n=a.y+a.height,o=ua(t.x,a.x),s=ca(t.x+t.width,i),l=ua(t.y,a.y),u=ca(t.y+t.height,n),c=s<o,v=u<l;return t.x=c&&o>i?s:o,t.y=v&&l>n?u:l,t.width=c?0:s-o,t.height=v?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||v},polar:function(a,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var i=ca(t.r,a.r),n=ua(t.r0,a.r0);t.r=i,t.r0=n;var o=i-n<0;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},Yn={cartesian2d:function(a,t,e,r,i,n,o,s,l){var u=new he({shape:G({},r),z2:1});if(u.__dataIndex=e,u.name="item",n){var c=u.shape,v=i?"height":"width";c[v]=0}return u},polar:function(a,t,e,r,i,n,o,s,l){var u=!i&&l?Hn:ct,c=new u({shape:r,z2:1});c.name="item";var v=Bs(i);if(c.calculateTextPosition=ig(v,{isRoundCap:u===Hn}),n){var h=c.shape,f=i?"r":"endAngle",p={};h[f]=i?r.r0:r.startAngle,p[f]=r[f],(s?se:Pe)(c,{shape:p},n)}return c}};function lg(a,t){var e=a.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function Xn(a,t,e,r,i,n,o,s){var l,u;n?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?se:Pe)(e,{shape:l},t,i,null);var c=t?a.baseAxis.model:null;(o?se:Pe)(e,{shape:u},c,i)}function $n(a,t){for(var e=0;e<t.length;e++)if(!isFinite(a[t[e]]))return!0;return!1}var ug=["x","y","width","height"],cg=["cx","cy","r","startAngle","endAngle"],jn={cartesian2d:function(a){return!$n(a,ug)},polar:function(a){return!$n(a,cg)}},mr={cartesian2d:function(a,t,e){var r=a.getItemLayout(t),i=e?hg(e,r):0,n=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+n*i/2,y:r.y+o*i/2,width:r.width-n*i,height:r.height-o*i}},polar:function(a,t,e){var r=a.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function vg(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function Bs(a){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(a)}function Zn(a,t,e,r,i,n,o,s){var l=t.getItemVisual(e,"style");if(s){if(!n.get("roundCap")){var c=a.shape,v=Wt(r.getModel("itemStyle"),c,!0);G(c,v),a.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;a.setShape("r",u)}a.useStyle(l);var h=r.getShallow("cursor");h&&a.attr("cursor",h);var f=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=Vt(r);vt(a,p,{labelFetcher:n,labelDataIndex:e,defaultText:es(n.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:f});var g=a.getTextContent();if(s&&g){var d=r.get(["label","position"]);a.textConfig.inside=d==="middle"?!0:null,ng(a,d==="outside"?f:d,Bs(o),r.get(["label","rotate"]))}Vc(g,p,n.getRawValue(e),function(m){return kc(t,m)});var y=r.getModel(["emphasis"]);rr(a,y.get("focus"),y.get("blurScope"),y.get("disabled")),Ir(a,r),vg(i)&&(a.style.fill="none",a.style.stroke="none",w(a.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function hg(a,t){var e=a.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var r=a.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,i,n)}var fg=function(){function a(){}return a}(),Jn=function(a){R(t,a);function t(e){var r=a.call(this,e)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new fg},t.prototype.buildPath=function(e,r){for(var i=r.points,n=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[n]=u,l[o]=i[c+2],s[n]=i[c+n],s[o]=i[c+o],e.rect(s[0],s[1],l[0],l[1])},t}(Fr);function Kn(a,t,e,r){var i=a.getData(),n=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=a.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new Jn({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=n,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),e&&e.push(c)}var v=new Jn({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});v.baseDimIdx=n,v.largeDataIndices=o,v.barWidth=s,t.add(v),v.useStyle(i.getVisual("style")),oe(v).seriesIndex=a.seriesIndex,a.get("silent")||(v.on("mousedown",qn),v.on("mousemove",qn)),e&&e.push(v)}var qn=Oo(function(a){var t=this,e=pg(t,a.offsetX,a.offsetY);oe(t).dataIndex=e>=0?e:null},30,!1);function pg(a,t,e){for(var r=a.baseDimIdx,i=1-r,n=a.shape.points,o=a.largeDataIndices,s=[],l=[],u=a.barWidth,c=0,v=n.length/3;c<v;c++){var h=c*3;if(l[r]=u,l[i]=n[h+2],s[r]=n[h+r],s[i]=n[h+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[c]}return-1}function Fs(a,t,e){if(ts(e,"cartesian2d")){var r=t,i=e.getArea();return{x:a?r.x:i.x,y:a?i.y:r.y,width:a?r.width:i.width,height:a?i.height:r.height}}else{var i=e.getArea(),n=t;return{cx:i.cx,cy:i.cy,r0:a?i.r0:n.r0,r:a?i.r:n.r,startAngle:a?n.startAngle:0,endAngle:a?n.endAngle:Math.PI*2}}}function gg(a,t,e){var r=a.type==="polar"?ct:he;return new r({shape:Fs(t,e,a),silent:!0,z2:0})}function dg(a){a.registerChartView(sg),a.registerSeriesModel(rg),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,ce(rs,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,as("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,Ec("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var Qn=Math.PI*2,xr=Math.PI/180;function Ws(a,t){return Ge(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Hs(a,t){var e=Ws(a,t),r=a.get("center"),i=a.get("radius");B(i)||(i=[0,i]);var n=W(e.width,t.getWidth()),o=W(e.height,t.getHeight()),s=Math.min(n,o),l=W(i[0],s/2),u=W(i[1],s/2),c,v,h=a.coordinateSystem;if(h){var f=h.dataToPoint(r);c=f[0]||0,v=f[1]||0}else B(r)||(r=[r,r]),c=W(r[0],n)+e.x,v=W(r[1],o)+e.y;return{cx:c,cy:v,r0:l,r:u}}function yg(a,t,e){t.eachSeriesByType(a,function(r){var i=r.getData(),n=i.mapDimension("value"),o=Ws(r,e),s=Hs(r,e),l=s.cx,u=s.cy,c=s.r,v=s.r0,h=-r.get("startAngle")*xr,f=r.get("endAngle"),p=r.get("padAngle")*xr;f=f==="auto"?h-Qn:-f*xr;var g=r.get("minAngle")*xr,d=g+p,y=0;i.each(n,function(O){!isNaN(O)&&y++});var m=i.getSum(n),x=Math.PI/(m||y)*2,S=r.get("clockwise"),b=r.get("roseType"),_=r.get("stillShowZeroSum"),A=i.getDataExtent(n);A[0]=0;var T=S?1:-1,C=[h,f],D=T*p/2;Gc(C,!S),h=C[0],f=C[1];var L=Us(r);L.startAngle=h,L.endAngle=f,L.clockwise=S;var I=Math.abs(f-h),P=I,V=0,M=h;if(i.setLayout({viewRect:o,r:c}),i.each(n,function(O,k){var z;if(isNaN(O)){i.setItemLayout(k,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:S,cx:l,cy:u,r0:v,r:b?NaN:c});return}b!=="area"?z=m===0&&_?x:O*x:z=I/y,z<d?(z=d,P-=d):V+=O;var U=M+T*z,Y=0,H=0;p>z?(Y=M+T*z/2,H=Y):(Y=M+D,H=U-D),i.setItemLayout(k,{angle:z,startAngle:Y,endAngle:H,clockwise:S,cx:l,cy:u,r0:v,r:b?ze(O,A,[v,c]):c}),M=U}),P<Qn&&y)if(P<=.001){var F=I/y;i.each(n,function(O,k){if(!isNaN(O)){var z=i.getItemLayout(k);z.angle=F;var U=0,Y=0;F<p?(U=h+T*(k+1/2)*F,Y=U):(U=h+T*k*F+D,Y=h+T*(k+1)*F-D),z.startAngle=U,z.endAngle=Y}})}else x=P/V,M=h,i.each(n,function(O,k){if(!isNaN(O)){var z=i.getItemLayout(k),U=z.angle===d?d:O*x,Y=0,H=0;U<p?(Y=M+T*U/2,H=Y):(Y=M+D,H=M+T*U-D),z.startAngle=Y,z.endAngle=H,M+=T*U}})})}var Us=Ne();function Ys(a){return{seriesType:a,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=t.getData();i.filterSelf(function(n){for(var o=i.getName(n),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var mg=Math.PI/180;function eo(a,t,e,r,i,n,o,s,l,u){if(a.length<2)return;function c(g){for(var d=g.rB,y=d*d,m=0;m<g.list.length;m++){var x=g.list[m],S=Math.abs(x.label.y-e),b=r+x.len,_=b*b,A=Math.sqrt((1-Math.abs(S*S/y))*_),T=t+(A+x.len2)*i,C=T-x.label.x,D=x.targetTextWidth-C*i;Xs(x,D,!0),x.label.x=T}}function v(g){for(var d={list:[],maxY:0},y={list:[],maxY:0},m=0;m<g.length;m++)if(g[m].labelAlignTo==="none"){var x=g[m],S=x.label.y>e?y:d,b=Math.abs(x.label.y-e);if(b>=S.maxY){var _=x.label.x-t-x.len2*i,A=r+x.len,T=Math.abs(_)<A?Math.sqrt(b*b/(1-_*_/A/A)):A;S.rB=T,S.maxY=b}S.list.push(x)}c(d),c(y)}for(var h=a.length,f=0;f<h;f++)if(a[f].position==="outer"&&a[f].labelAlignTo==="labelLine"){var p=a[f].label.x-u;a[f].linePoints[1][0]+=p,a[f].label.x=u}zc(a,l,l+o)&&v(a)}function xg(a,t,e,r,i,n,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,v=-Number.MAX_VALUE,h=0;h<a.length;h++){var f=a[h].label;va(a[h])||(f.x<t?(c=Math.min(c,f.x),l.push(a[h])):(v=Math.max(v,f.x),u.push(a[h])))}for(var h=0;h<a.length;h++){var p=a[h];if(!va(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var f=p.label,g=p.linePoints,d=void 0;p.labelAlignTo==="edge"?f.x<t?d=g[2][0]-p.labelDistance-o-p.edgeDistance:d=o+i-p.edgeDistance-g[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?f.x<t?d=c-o-p.bleedMargin:d=o+i-v-p.bleedMargin:f.x<t?d=f.x-o-p.bleedMargin:d=o+i-f.x-p.bleedMargin,p.targetTextWidth=d,Xs(p,d)}}eo(u,t,e,r,1,i,n,o,s,v),eo(l,t,e,r,-1,i,n,o,s,c);for(var h=0;h<a.length;h++){var p=a[h];if(!va(p)&&p.linePoints){var f=p.label,g=p.linePoints,y=p.labelAlignTo==="edge",m=f.style.padding,x=m?m[1]+m[3]:0,S=f.style.backgroundColor?0:x,b=p.rect.width+S,_=g[1][0]-g[2][0];y?f.x<t?g[2][0]=o+p.edgeDistance+b+p.labelDistance:g[2][0]=o+i-p.edgeDistance-b-p.labelDistance:(f.x<t?g[2][0]=f.x+p.labelDistance:g[2][0]=f.x-p.labelDistance,g[1][0]=g[2][0]+_),g[1][1]=g[2][1]=f.y}}}function Xs(a,t,e){if(e===void 0&&(e=!1),a.labelStyleWidth==null){var r=a.label,i=r.style,n=a.rect,o=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=n.width+(o?0:l);if(t<c||e){var v=n.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-l);var h=r.getBoundingRect();r.setStyle("width",Math.ceil(h.width)),r.setStyle("backgroundColor",o)}else{var f=t-l,p=t<c?f:e?f>a.unconstrainedWidth?null:f:null;r.setStyle("width",p)}var g=r.getBoundingRect();n.width=g.width;var d=(r.style.margin||0)+2.1;n.height=g.height+d,n.y-=(n.height-v)/2}}}function va(a){return a.position==="center"}function Sg(a){var t=a.getData(),e=[],r,i,n=!1,o=(a.get("minShowLabelAngle")||0)*mg,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,v=s.y,h=s.height;function f(_){_.ignore=!0}function p(_){if(!_.ignore)return!0;for(var A in _.states)if(_.states[A].ignore===!1)return!0;return!1}t.each(function(_){var A=t.getItemGraphicEl(_),T=A.shape,C=A.getTextContent(),D=A.getTextGuideLine(),L=t.getItemModel(_),I=L.getModel("label"),P=I.get("position")||L.get(["emphasis","label","position"]),V=I.get("distanceToLabelLine"),M=I.get("alignTo"),F=W(I.get("edgeDistance"),u),O=I.get("bleedMargin"),k=L.getModel("labelLine"),z=k.get("length");z=W(z,u);var U=k.get("length2");if(U=W(U,u),Math.abs(T.endAngle-T.startAngle)<o){w(C.states,f),C.ignore=!0,D&&(w(D.states,f),D.ignore=!0);return}if(p(C)){var Y=(T.startAngle+T.endAngle)/2,H=Math.cos(Y),ge=Math.sin(Y),Ve,et,ar,ht;r=T.cx,i=T.cy;var Se=P==="inside"||P==="inner";if(P==="center")Ve=T.cx,et=T.cy,ht="center";else{var Be=(Se?(T.r+T.r0)/2*H:T.r*H)+r,ft=(Se?(T.r+T.r0)/2*ge:T.r*ge)+i;if(Ve=Be+H*3,et=ft+ge*3,!Se){var tt=Be+H*(z+l-T.r),ir=ft+ge*(z+l-T.r),pt=tt+(H<0?-1:1)*U,gt=ir;M==="edge"?Ve=H<0?c+F:c+u-F:Ve=pt+(H<0?-V:V),et=gt,ar=[[Be,ft],[tt,ir],[pt,gt]]}ht=Se?"center":M==="edge"?H>0?"right":"left":H>0?"left":"right"}var Fe=Math.PI,_e=0,ke=I.get("rotate");if(Rt(ke))_e=ke*(Fe/180);else if(P==="center")_e=0;else if(ke==="radial"||ke===!0){var dt=H<0?-Y+Fe:-Y;_e=dt}else if(ke==="tangential"&&P!=="outside"&&P!=="outer"){var be=Math.atan2(H,ge);be<0&&(be=Fe*2+be);var nr=ge>0;nr&&(be=Fe+be),_e=be-Fe}if(n=!!_e,C.x=Ve,C.y=et,C.rotation=_e,C.setStyle({verticalAlign:"middle"}),Se){C.setStyle({align:ht});var Yr=C.states.select;Yr&&(Yr.x+=C.x,Yr.y+=C.y)}else{var We=C.getBoundingRect().clone();We.applyTransform(C.getComputedTransform());var pi=(C.style.margin||0)+2.1;We.y-=pi/2,We.height+=pi,e.push({label:C,labelLine:D,position:P,len:z,len2:U,minTurnAngle:k.get("minTurnAngle"),maxSurfaceAngle:k.get("maxSurfaceAngle"),surfaceNormal:new ae(H,ge),linePoints:ar,textAlign:ht,labelDistance:V,labelAlignTo:M,edgeDistance:F,bleedMargin:O,rect:We,unconstrainedWidth:We.width,labelStyleWidth:C.style.width})}A.setTextConfig({inside:Se})}}),!n&&a.get("avoidLabelOverlap")&&xg(e,r,i,l,u,h,c,v);for(var g=0;g<e.length;g++){var d=e[g],y=d.label,m=d.labelLine,x=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:d.textAlign}),x&&(w(y.states,f),y.ignore=!0);var S=y.states.select;S&&(S.x+=y.x,S.y+=y.y)}if(m){var b=d.linePoints;x||!b?(w(m.states,f),m.ignore=!0):(Wv(b,d.minTurnAngle),Hv(b,d.surfaceNormal,d.maxSurfaceAngle),m.setShape({points:b}),y.__hostTarget.textGuideLineConfig={anchor:new ae(b[0][0],b[0][1])})}}}var _g=function(a){R(t,a);function t(e,r,i){var n=a.call(this)||this;n.z2=2;var o=new ee;return n.setTextContent(o),n.updateData(e,r,i,!0),n}return t.prototype.updateData=function(e,r,i,n){var o=this,s=e.hostModel,l=e.getItemModel(r),u=l.getModel("emphasis"),c=e.getItemLayout(r),v=G(Wt(l.getModel("itemStyle"),c,!0),c);if(isNaN(v.startAngle)){o.setShape(v);return}if(n){o.setShape(v);var h=s.getShallow("animationType");s.ecModel.ssr?(Pe(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=v.cx,o.originY=v.cy):h==="scale"?(o.shape.r=c.r0,Pe(o,{shape:{r:c.r}},s,r)):i!=null?(o.setShape({startAngle:i,endAngle:i}),Pe(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(o.shape.endAngle=c.startAngle,se(o,{shape:{endAngle:c.endAngle}},s,r))}else Pr(o),se(o,{shape:v},s,r);o.useStyle(e.getItemVisual(r,"style")),Ir(o,l);var f=(c.startAngle+c.endAngle)/2,p=s.get("selectedOffset"),g=Math.cos(f)*p,d=Math.sin(f)*p,y=l.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(s,e,r),o.ensureState("emphasis").shape=G({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Wt(u.getModel("itemStyle"),c)),G(o.ensureState("select"),{x:g,y:d,shape:Wt(l.getModel(["select","itemStyle"]),c)}),G(o.ensureState("blur"),{shape:Wt(l.getModel(["blur","itemStyle"]),c)});var m=o.getTextGuideLine(),x=o.getTextContent();m&&G(m.ensureState("select"),{x:g,y:d}),G(x.ensureState("select"),{x:g,y:d}),rr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,r,i){var n=this,o=r.getItemModel(i),s=o.getModel("labelLine"),l=r.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;vt(n,Vt(o),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:e.getFormattedLabel(i,"normal")||r.getName(i)});var v=n.getTextContent();n.setTextConfig({position:null,rotation:null}),v.attr({z2:10});var h=e.get(["label","position"]);if(h!=="outside"&&h!=="outer")n.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new Qe,this.setTextGuideLine(f)),Yv(this,Xv(o),{stroke:u,opacity:Oc(s.get(["lineStyle","opacity"]),c,1)})}},t}(ct),bg=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,r,i,n){var o=e.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),v=1;isNaN(c&&c.startAngle)&&v<o.count();++v)c=o.getItemLayout(v);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var h=Us(e),f=new ct({shape:G(Hs(e,i),h)});f.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,l.add(f)}o.diff(s).add(function(p){var g=new _g(o,p,u);o.setItemGraphicEl(p,g),l.add(g)}).update(function(p,g){var d=s.getItemGraphicEl(g);d.updateData(o,p,u),d.off("click"),l.add(d),o.setItemGraphicEl(p,d)}).remove(function(p){var g=s.getItemGraphicEl(p);wa(g,e,p)}).execute(),Sg(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,r){var i=r.getData(),n=i.getItemLayout(0);if(n){var o=e[0]-n.cx,s=e[1]-n.cy,l=Math.sqrt(o*o+s*s);return l<=n.r&&l>=n.r0}},t.type="pie",t}(Je);function oi(a,t,e){t=B(t)&&{coordDimensions:t}||G({encodeDefine:a.getEncode()},t);var r=a.getSource(),i=Nc(r,t).dimensions,n=new Za(i,a);return n.initData(r,e),n}var $s=function(){function a(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return a.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},a.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},a.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},a.prototype.getItemVisual=function(t,e){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,e)},a}(),Ag=Ne(),wg=function(a){R(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new $s(X(this.getData,this),X(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return oi(this,{coordDimensions:["value"],encodeDefaulter:ce(is,this)})},t.prototype.getDataParams=function(e){var r=this.getData(),i=Ag(r),n=i.seats;if(!n){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),n=i.seats=Bc(o,r.hostModel.get("percentPrecision"))}var s=a.prototype.getDataParams.call(this,e);return s.percent=n[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){Fo(e,"labelLine",["show"]);var r=e.labelLine,i=e.emphasis.labelLine;r.show=r.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Ze);function Tg(a){return{seriesType:a,reset:function(t,e){var r=t.getData();r.filterSelf(function(i){var n=r.mapDimension("value"),o=r.get(n,i);return!(Rt(o)&&!isNaN(o)&&o<0)})}}}function Cg(a){a.registerChartView(bg),a.registerSeriesModel(wg),ns("pie",a.registerAction),a.registerLayout(ce(yg,"pie")),a.registerProcessor(Ys("pie")),a.registerProcessor(Tg("pie"))}function Dg(a){a.eachSeriesByType("radar",function(t){var e=t.getData(),r=[],i=t.coordinateSystem;if(i){var n=i.getIndicatorAxes();w(n,function(o,s){e.each(e.mapDimension(n[s].dim),function(l,u){r[u]=r[u]||[];var c=i.dataToPoint(l,s);r[u][s]=to(c)?c:ro(i)})}),e.each(function(o){var s=Fc(r[o],function(l){return to(l)})||ro(i);r[o].push(s.slice()),e.setItemLayout(o,r[o])})}})}function to(a){return!isNaN(a[0])&&!isNaN(a[1])}function ro(a){return[a.cx,a.cy]}function Lg(a){var t=a.polar;if(t){B(t)||(t=[t]);var e=[];w(t,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),a.radar=a.radar||[],B(a.radar)||(a.radar=[a.radar]),a.radar.push(r)):e.push(r)}),a.polar=e}w(a.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var Pg=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var n=e.coordinateSystem,o=this.group,s=e.getData(),l=this._data;function u(h,f){var p=h.getItemVisual(f,"symbol")||"circle";if(p!=="none"){var g=Ko(h.getItemVisual(f,"symbolSize")),d=Ee(p,-1,-1,2,2),y=h.getItemVisual(f,"symbolRotate")||0;return d.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:y*Math.PI/180||0}),d}}function c(h,f,p,g,d,y){p.removeAll();for(var m=0;m<f.length-1;m++){var x=u(g,d);x&&(x.__dimIdx=m,h[m]?(x.setPosition(h[m]),tr[y?"initProps":"updateProps"](x,{x:f[m][0],y:f[m][1]},e,d)):x.setPosition(f[m]),p.add(x))}}function v(h){return N(h,function(f){return[n.cx,n.cy]})}s.diff(l).add(function(h){var f=s.getItemLayout(h);if(f){var p=new It,g=new Qe,d={shape:{points:f}};p.shape.points=v(f),g.shape.points=v(f),Pe(p,d,e,h),Pe(g,d,e,h);var y=new $,m=new $;y.add(g),y.add(p),y.add(m),c(g.shape.points,f,m,s,h,!0),s.setItemGraphicEl(h,y)}}).update(function(h,f){var p=l.getItemGraphicEl(f),g=p.childAt(0),d=p.childAt(1),y=p.childAt(2),m={shape:{points:s.getItemLayout(h)}};m.shape.points&&(c(g.shape.points,m.shape.points,y,s,h,!1),Pr(d),Pr(g),se(g,m,e),se(d,m,e),s.setItemGraphicEl(h,p))}).remove(function(h){o.remove(l.getItemGraphicEl(h))}).execute(),s.eachItemGraphicEl(function(h,f){var p=s.getItemModel(f),g=h.childAt(0),d=h.childAt(1),y=h.childAt(2),m=s.getItemVisual(f,"style"),x=m.fill;o.add(h),g.useStyle(K(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:x})),Ir(g,p,"lineStyle"),Ir(d,p,"areaStyle");var S=p.getModel("areaStyle"),b=S.isEmpty()&&S.parentModel.isEmpty();d.ignore=b,w(["emphasis","select","blur"],function(T){var C=p.getModel([T,"areaStyle"]),D=C.isEmpty()&&C.parentModel.isEmpty();d.ensureState(T).ignore=D&&b}),d.useStyle(K(S.getAreaStyle(),{fill:x,opacity:.7,decal:m.decal}));var _=p.getModel("emphasis"),A=_.getModel("itemStyle").getItemStyle();y.eachChild(function(T){if(T instanceof qe){var C=T.style;T.useStyle(G({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},m))}else T.useStyle(m),T.setColor(x),T.style.strokeNoScale=!0;var D=T.ensureState("emphasis");D.style=q(A);var L=s.getStore().get(s.getDimensionIndex(T.__dimIdx),f);(L==null||isNaN(L))&&(L=""),vt(T,Vt(p),{labelFetcher:s.hostModel,labelDataIndex:f,labelDimIndex:T.__dimIdx,defaultText:L,inheritColor:x,defaultOpacity:m.opacity})}),rr(h,_.get("focus"),_.get("blurScope"),_.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(Je),Ig=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new $s(X(this.getData,this),X(this.getRawData,this))},t.prototype.getInitialData=function(e,r){return oi(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,r,i){var n=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(e),u=l===""?this.name:l,c=Wc(this,e);return $t("section",{header:u,sortBlocks:!0,blocks:N(s,function(v){var h=n.get(n.mapDimension(v.dim),e);return $t("nameValue",{markerType:"subItem",markerColor:c,name:v.name,value:h,sortParam:h})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var r=this.getData(),i=this.coordinateSystem,n=r.getValues(N(i.dimensions,function(u){return r.mapDimension(u)}),e),o=0,s=n.length;o<s;o++)if(!isNaN(n[o])){var l=i.getIndicatorAxes();return i.coordToPoint(l[o].dataToCoord(n[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Ze);function Mg(a){Me(ds),a.registerChartView(Pg),a.registerSeriesModel(Ig),a.registerLayout(Dg),a.registerProcessor(Ys("radar")),a.registerPreprocessor(Lg)}var Rg=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i,n){if(!(n&&n.type==="mapToggleSelect"&&n.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&n&&n.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),n&&n.type==="geoRoam"&&n.componentType==="series"&&n.seriesId===e.id){var s=this._mapDraw;s&&o.add(s.group)}else if(e.needsDrawMap){var s=this._mapDraw||new ws(i);o.add(s.group),s.draw(e,r,i,this,n),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(e,r,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,r,i){var n=e.originalData,o=this.group;n.each(n.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=n.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,v=u.offset,h=new Pt({style:{fill:e.getData().getVisual("style").fill},shape:{cx:c[0]+v*9,cy:c[1],r:3},silent:!0,z2:8+(v?0:Hc+1)});if(!v){var f=e.mainSeries.getData(),p=n.getName(l),g=f.indexOfName(p),d=n.getItemModel(l),y=d.getModel("label"),m=f.getItemGraphicEl(g);vt(h,Vt(d),{labelFetcher:{getFormattedLabel:function(x,S){return e.getFormattedLabel(g,S)}},defaultText:p}),h.disableLabelAnimation=!0,y.get("position")||h.setTextConfig({position:"bottom"}),m.onHoverStateChange=function(x){Uc(h,x)}}o.add(h)}}})},t.type="map",t}(Je),Vg=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(r){if(r!=null){var i=this.getData().getName(r),n=this.coordinateSystem,o=n.getRegion(i);return o&&n.dataToPoint(o.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var r=oi(this,{coordDimensions:["value"],encodeDefaulter:ce(is,this)}),i=J(),n=[],o=0,s=r.count();o<s;o++){var l=r.getName(o);i.set(l,!0)}var u=Oe.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return w(u.regions,function(c){var v=c.name;i.get(v)||n.push(v)}),r.appendValues([],n),r},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var r=this.getData();return r.get(r.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var r=this.getData();return r.getItemModel(r.indexOfName(e))},t.prototype.formatTooltip=function(e,r,i){for(var n=this.getData(),o=this.getRawValue(e),s=n.getName(e),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var v=l[c].originalData.indexOfName(s),h=n.mapDimension("value");isNaN(l[c].originalData.get(h,v))||u.push(l[c].name)}return $t("section",{header:u.join(", "),noHeader:!u.length,blocks:[$t("nameValue",{name:s,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var r=e.icon||"roundRect",i=Ee(r,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Ze);function kg(a,t){var e={};return w(a,function(r){r.each(r.mapDimension("value"),function(i,n){var o="ec-"+r.getName(n);e[o]=e[o]||[],isNaN(i)||e[o].push(i)})}),a[0].map(a[0].mapDimension("value"),function(r,i){for(var n="ec-"+a[0].getName(i),o=0,s=1/0,l=-1/0,u=e[n].length,c=0;c<u;c++)s=Math.min(s,e[n][c]),l=Math.max(l,e[n][c]),o+=e[n][c];var v;return t==="min"?v=s:t==="max"?v=l:t==="average"?v=o/u:v=o,u===0?NaN:v})}function Eg(a){var t={};a.eachSeriesByType("map",function(e){var r=e.getHostGeoModel(),i=r?"o"+r.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),w(t,function(e,r){for(var i=kg(N(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),n=0;n<e.length;n++)e[n].originalData=e[n].getData();for(var n=0;n<e.length;n++)e[n].seriesGroup=e,e[n].needsDrawMap=n===0&&!e[n].getHostGeoModel(),e[n].setData(i.cloneShallow()),e[n].mainSeries=e[0]})}function Gg(a){var t={};a.eachSeriesByType("map",function(e){var r=e.getMapType();if(!(e.getHostGeoModel()||t[r])){var i={};w(e.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&a.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var v=l.getName(c),h=s.getRegion(v);if(!(!h||isNaN(u))){var f=i[v]||0,p=s.dataToPoint(h.getCenter());i[v]=f+1,l.setItemLayout(c,{point:p,offset:f})}})});var n=e.getData();n.each(function(o){var s=n.getName(o),l=n.getItemLayout(o)||{};l.showLabel=!i[s],n.setItemLayout(o,l)}),t[r]=!0}})}function zg(a){Me(nf),a.registerChartView(Rg),a.registerSeriesModel(Vg),a.registerLayout(Gg),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,Eg),ns("map",a.registerAction)}var Og=["itemStyle","borderWidth"],ao=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],ha=new Pt,Ng=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var n=this.group,o=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),v=l.master.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:l,coordSysExtent:[[v.x,v.x+v.width],[v.y,v.y+v.height]],isHorizontal:c,valueDim:ao[+c],categoryDim:ao[1-+c]};o.diff(s).add(function(p){if(o.hasValue(p)){var g=no(o,p),d=io(o,p,g,h),y=oo(o,h,d);o.setItemGraphicEl(p,y),n.add(y),lo(y,h,d)}}).update(function(p,g){var d=s.getItemGraphicEl(g);if(!o.hasValue(p)){n.remove(d);return}var y=no(o,p),m=io(o,p,y,h),x=Qs(o,m);d&&x!==d.__pictorialShapeStr&&(n.remove(d),o.setItemGraphicEl(p,null),d=null),d?Xg(d,h,m):d=oo(o,h,m,!0),o.setItemGraphicEl(p,d),d.__pictorialSymbolMeta=m,n.add(d),lo(d,h,m)}).remove(function(p){var g=s.getItemGraphicEl(p);g&&so(s,p,g.__pictorialSymbolMeta.animationModel,g)}).execute();var f=e.get("clip",!0)?Qo(e.coordinateSystem,!1,e):null;return f?n.setClipPath(f):n.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(e,r){var i=this.group,n=this._data;e.get("animation")?n&&n.eachItemGraphicEl(function(o){so(n,oe(o).dataIndex,e,o)}):i.removeAll()},t.type="pictorialBar",t}(Je);function io(a,t,e,r){var i=a.getItemLayout(t),n=e.get("symbolRepeat"),o=e.get("symbolClip"),s=e.get("symbolPosition")||"start",l=e.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=e.get("symbolPatternSize")||2,v=e.isAnimationEnabled(),h={dataIndex:t,layout:i,itemModel:e,symbolType:a.getItemVisual(t,"symbol")||"circle",style:a.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:n,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:v?e:null,hoverScale:v&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};Bg(e,n,i,r,h),Fg(a,t,i,n,o,h.boundingLength,h.pxSign,c,r,h),Wg(e,h.symbolScale,u,r,h);var f=h.symbolSize,p=qo(e.get("symbolOffset"),f);return Hg(e,f,i,n,o,p,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,r,h),h}function Bg(a,t,e,r,i){var n=r.valueDim,o=a.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(e[n.wh]<=0),c;if(B(o)){var v=[fa(s,o[0])-l,fa(s,o[1])-l];v[1]<v[0]&&v.reverse(),c=v[u]}else o!=null?c=fa(s,o)-l:t?c=r.coordSysExtent[n.index][u]-l:c=e[n.wh];i.boundingLength=c,t&&(i.repeatCutLength=e[n.wh]),i.pxSign=c>0?1:-1}function fa(a,t){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(t)))}function Fg(a,t,e,r,i,n,o,s,l,u){var c=l.valueDim,v=l.categoryDim,h=Math.abs(e[v.wh]),f=a.getItemVisual(t,"symbolSize"),p;B(f)?p=f.slice():f==null?p=["100%","100%"]:p=[f,f],p[v.index]=W(p[v.index],h),p[c.index]=W(p[c.index],r?h:Math.abs(n)),u.symbolSize=p;var g=u.symbolScale=[p[0]/s,p[1]/s];g[c.index]*=(l.isHorizontal?-1:1)*o}function Wg(a,t,e,r,i){var n=a.get(Og)||0;n&&(ha.attr({scaleX:t[0],scaleY:t[1],rotation:e}),ha.updateTransform(),n/=ha.getLineScale(),n*=t[r.valueDim.index]),i.valueLineWidth=n||0}function Hg(a,t,e,r,i,n,o,s,l,u,c,v){var h=c.categoryDim,f=c.valueDim,p=v.pxSign,g=Math.max(t[f.index]+s,0),d=g;if(r){var y=Math.abs(l),m=Ka(a.get("symbolMargin"),"15%")+"",x=!1;m.lastIndexOf("!")===m.length-1&&(x=!0,m=m.slice(0,m.length-1));var S=W(m,t[f.index]),b=Math.max(g+S*2,0),_=x?0:S*2,A=Mo(r),T=A?r:uo((y+_)/b),C=y-T*g;S=C/2/(x?T:Math.max(T-1,1)),b=g+S*2,_=x?0:S*2,!A&&r!=="fixed"&&(T=u?uo((Math.abs(u)+_)/b):0),d=T*b-_,v.repeatTimes=T,v.symbolMargin=S}var D=p*(d/2),L=v.pathPosition=[];L[h.index]=e[h.wh]/2,L[f.index]=o==="start"?D:o==="end"?l-D:l/2,n&&(L[0]+=n[0],L[1]+=n[1]);var I=v.bundlePosition=[];I[h.index]=e[h.xy],I[f.index]=e[f.xy];var P=v.barRectShape=G({},e);P[f.wh]=p*Math.max(Math.abs(e[f.wh]),Math.abs(L[f.index]+D)),P[h.wh]=e[h.wh];var V=v.clipShape={};V[h.xy]=-e[h.xy],V[h.wh]=c.ecSize[h.wh],V[f.xy]=0,V[f.wh]=e[f.wh]}function js(a){var t=a.symbolPatternSize,e=Ee(a.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function Zs(a,t,e,r){var i=a.__pictorialBundle,n=e.symbolSize,o=e.valueLineWidth,s=e.pathPosition,l=t.valueDim,u=e.repeatTimes||0,c=0,v=n[t.valueDim.index]+o+e.symbolMargin*2;for(si(a,function(g){g.__pictorialAnimationIndex=c,g.__pictorialRepeatTimes=u,c<u?wt(g,null,p(c),e,r):wt(g,null,{scaleX:0,scaleY:0},e,r,function(){i.remove(g)}),c++});c<u;c++){var h=js(e);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,i.add(h);var f=p(c);wt(h,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},e,r)}function p(g){var d=s.slice(),y=e.pxSign,m=g;return(e.symbolRepeatDirection==="start"?y>0:y<0)&&(m=u-1-g),d[l.index]=v*(m-u/2+.5)+s[l.index],{x:d[0],y:d[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function Js(a,t,e,r){var i=a.__pictorialBundle,n=a.__pictorialMainPath;n?wt(n,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,r):(n=a.__pictorialMainPath=js(e),i.add(n),wt(n,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,r))}function Ks(a,t,e){var r=G({},t.barRectShape),i=a.__pictorialBarRect;i?wt(i,null,{shape:r},t,e):(i=a.__pictorialBarRect=new he({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,a.add(i))}function qs(a,t,e,r){if(e.symbolClip){var i=a.__pictorialClipPath,n=G({},e.clipShape),o=t.valueDim,s=e.animationModel,l=e.dataIndex;if(i)se(i,{shape:n},s,l);else{n[o.wh]=0,i=new he({shape:n}),a.__pictorialBundle.setClipPath(i),a.__pictorialClipPath=i;var u={};u[o.wh]=e.clipShape[o.wh],tr[r?"updateProps":"initProps"](i,{shape:u},s,l)}}}function no(a,t){var e=a.getItemModel(t);return e.getAnimationDelayParams=Ug,e.isAnimationEnabled=Yg,e}function Ug(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function Yg(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function oo(a,t,e,r){var i=new $,n=new $;return i.add(n),i.__pictorialBundle=n,n.x=e.bundlePosition[0],n.y=e.bundlePosition[1],e.symbolRepeat?Zs(i,t,e):Js(i,t,e),Ks(i,e,r),qs(i,t,e,r),i.__pictorialShapeStr=Qs(a,e),i.__pictorialSymbolMeta=e,i}function Xg(a,t,e){var r=e.animationModel,i=e.dataIndex,n=a.__pictorialBundle;se(n,{x:e.bundlePosition[0],y:e.bundlePosition[1]},r,i),e.symbolRepeat?Zs(a,t,e,!0):Js(a,t,e,!0),Ks(a,e,!0),qs(a,t,e,!0)}function so(a,t,e,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var n=[];si(r,function(o){n.push(o)}),r.__pictorialMainPath&&n.push(r.__pictorialMainPath),r.__pictorialClipPath&&(e=null),w(n,function(o){Yc(o,{scaleX:0,scaleY:0},e,t,function(){r.parent&&r.parent.remove(r)})}),a.setItemGraphicEl(t,null)}function Qs(a,t){return[a.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function si(a,t,e){w(a.__pictorialBundle.children(),function(r){r!==a.__pictorialBarRect&&t.call(e,r)})}function wt(a,t,e,r,i,n){t&&a.attr(t),r.symbolClip&&!i?e&&a.attr(e):e&&tr[i?"updateProps":"initProps"](a,e,r.animationModel,r.dataIndex,n)}function lo(a,t,e){var r=e.dataIndex,i=e.itemModel,n=i.getModel("emphasis"),o=n.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=n.get("focus"),v=n.get("blurScope"),h=n.get("scale");si(a,function(g){if(g instanceof qe){var d=g.style;g.useStyle(G({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},e.style))}else g.useStyle(e.style);var y=g.ensureState("emphasis");y.style=o,h&&(y.scaleX=g.scaleX*1.1,y.scaleY=g.scaleY*1.1),g.ensureState("blur").style=s,g.ensureState("select").style=l,u&&(g.cursor=u),g.z2=e.z2});var f=t.valueDim.posDesc[+(e.boundingLength>0)],p=a.__pictorialBarRect;p.ignoreClip=!0,vt(p,Vt(i),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:es(t.seriesModel.getData(),r),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:f}),rr(a,c,v,n.get("disabled"))}function uo(a){var t=Math.round(a);return Math.abs(a-t)<1e-4?t:Math.ceil(a)}var $g=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,a.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=kt(Jt.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(Jt);function jg(a){a.registerChartView(Ng),a.registerSeriesModel($g),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,ce(rs,"pictorialBar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,as("pictorialBar"))}var pa=Math.sin,ga=Math.cos,el=Math.PI,at=Math.PI*2,Zg=180/el,tl=function(){function a(){}return a.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},a.prototype.moveTo=function(t,e){this._add("M",t,e)},a.prototype.lineTo=function(t,e){this._add("L",t,e)},a.prototype.bezierCurveTo=function(t,e,r,i,n,o){this._add("C",t,e,r,i,n,o)},a.prototype.quadraticCurveTo=function(t,e,r,i){this._add("Q",t,e,r,i)},a.prototype.arc=function(t,e,r,i,n,o){this.ellipse(t,e,r,r,0,i,n,o)},a.prototype.ellipse=function(t,e,r,i,n,o,s,l){var u=s-o,c=!l,v=Math.abs(u),h=Ye(v-at)||(c?u>=at:-u>=at),f=u>0?u%at:u%at+at,p=!1;h?p=!0:Ye(v)?p=!1:p=f>=el==!!c;var g=t+r*ga(o),d=e+i*pa(o);this._start&&this._add("M",g,d);var y=Math.round(n*Zg);if(h){var m=1/this._p,x=(c?1:-1)*(at-m);this._add("A",r,i,y,1,+c,t+r*ga(o+x),e+i*pa(o+x)),m>.01&&this._add("A",r,i,y,0,+c,g,d)}else{var S=t+r*ga(s),b=e+i*pa(s);this._add("A",r,i,y,+p,+c,S,b)}},a.prototype.rect=function(t,e,r,i){this._add("M",t,e),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(t,e,r,i,n,o,s,l,u){for(var c=[],v=this._p,h=1;h<arguments.length;h++){var f=arguments[h];if(isNaN(f)){this._invalid=!0;return}c.push(Math.round(f*v)/v)}this._d.push(t+c.join(" ")),this._start=t==="Z"},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a}(),li="none",Jg=Math.round;function Kg(a){var t=a.fill;return t!=null&&t!==li}function qg(a){var t=a.stroke;return t!=null&&t!==li}var za=["lineCap","miterLimit","lineJoin"],Qg=N(za,function(a){return"stroke-"+a.toLowerCase()});function ed(a,t,e,r){var i=t.opacity==null?1:t.opacity;if(e instanceof qe){a("opacity",i);return}if(Kg(t)){var n=jt(t.fill);a("fill",n.color);var o=t.fillOpacity!=null?t.fillOpacity*n.opacity*i:n.opacity*i;o<1&&a("fill-opacity",o)}else a("fill",li);if(qg(t)){var s=jt(t.stroke);a("stroke",s.color);var l=t.strokeNoScale?e.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*i:s.opacity*i,v=t.strokeFirst;if(u!==1&&a("stroke-width",u),v&&a("paint-order",v?"stroke":"fill"),c<1&&a("stroke-opacity",c),t.lineDash){var h=Xc(e),f=h[0],p=h[1];f&&(p=Jg(p||0),a("stroke-dasharray",f.join(",")),(p||r)&&a("stroke-dashoffset",p))}for(var g=0;g<za.length;g++){var d=za[g];if(t[d]!==Di[d]){var y=t[d]||Di[d];y&&a(Qg[g],y)}}}}var rl="http://www.w3.org/2000/svg",al="http://www.w3.org/1999/xlink",td="http://www.w3.org/2000/xmlns/",rd="http://www.w3.org/XML/1998/namespace",co="ecmeta_";function il(a){return document.createElementNS(rl,a)}function Q(a,t,e,r,i){return{tag:a,attrs:e||{},children:r,text:i,key:t}}function ad(a,t){var e=[];if(t)for(var r in t){var i=t[r],n=r;i!==!1&&(i!==!0&&i!=null&&(n+='="'+i+'"'),e.push(n))}return"<"+a+" "+e.join(" ")+">"}function id(a){return"</"+a+">"}function ui(a,t){t=t||{};var e=t.newline?`
`:"";function r(i){var n=i.children,o=i.tag,s=i.attrs,l=i.text;return ad(o,s)+(o!=="style"?Go(l):l||"")+(n?""+e+N(n,function(u){return r(u)}).join(e)+e:"")+id(o)}return r(a)}function nd(a,t,e){e=e||{};var r=e.newline?`
`:"",i=" {"+r,n=r+"}",o=N(te(a),function(l){return l+i+N(te(a[l]),function(u){return u+":"+a[l][u]+";"}).join(r)+n}).join(r),s=N(te(t),function(l){return"@keyframes "+l+i+N(te(t[l]),function(u){return u+i+N(te(t[l][u]),function(c){var v=t[l][u][c];return c==="d"&&(v='path("'+v+'")'),c+":"+v+";"}).join(r)+n}).join(r)+n}).join(r);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(r)}function Oa(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function vo(a,t,e,r){return Q("svg","root",{width:a,height:t,xmlns:rl,"xmlns:xlink":al,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+a+" "+t:!1},e)}var od=0;function nl(){return od++}var ho={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},ot="transform-origin";function sd(a,t,e){var r=G({},a.shape);G(r,t),a.buildPath(e,r);var i=new tl;return i.reset(ss(a)),e.rebuildPath(i,1),i.generateStr(),i.getStr()}function ld(a,t){var e=t.originX,r=t.originY;(e||r)&&(a[ot]=e+"px "+r+"px")}var ud={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function ol(a,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=a,e}function cd(a,t,e){var r=a.shape.paths,i={},n,o;if(w(r,function(l){var u=Oa(e.zrId);u.animation=!0,Ur(l,{},u,!0);var c=u.cssAnims,v=u.cssNodes,h=te(c),f=h.length;if(f){o=h[f-1];var p=c[o];for(var g in p){var d=p[g];i[g]=i[g]||{d:""},i[g].d+=d.d||""}for(var y in v){var m=v[y].animation;m.indexOf(o)>=0&&(n=m)}}}),!!n){t.d=!1;var s=ol(i,e);return n.replace(o,s)}}function fo(a){return j(a)?ho[a]?"cubic-bezier("+ho[a]+")":$c(a)?a:"":""}function Ur(a,t,e,r){var i=a.animators,n=i.length,o=[];if(a instanceof Ua){var s=cd(a,t,e);if(s)o.push(s);else if(!n)return}else if(!n)return;for(var l={},u=0;u<n;u++){var c=i[u],v=[c.getMaxTime()/1e3+"s"],h=fo(c.getClip().easing),f=c.getDelay();h?v.push(h):v.push("linear"),f&&v.push(f/1e3+"s"),c.getLoop()&&v.push("infinite");var p=v.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(c)}function g(m){var x=m[1],S=x.length,b={},_={},A={},T="animation-timing-function";function C(Se,Be,ft){for(var tt=Se.getTracks(),ir=Se.getMaxTime(),pt=0;pt<tt.length;pt++){var gt=tt[pt];if(gt.needsAnimate()){var Fe=gt.keyframes,_e=gt.propName;if(ft&&(_e=ft(_e)),_e)for(var ke=0;ke<Fe.length;ke++){var dt=Fe[ke],be=Math.round(dt.time/ir*100)+"%",nr=fo(dt.easing),We=dt.rawValue;(j(We)||Rt(We))&&(Be[be]=Be[be]||{},Be[be][_e]=dt.rawValue,nr&&(Be[be][T]=nr))}}}}for(var D=0;D<S;D++){var L=x[D],I=L.targetName;I?I==="shape"&&C(L,_):!r&&C(L,b)}for(var P in b){var V={};jc(V,a),G(V,b[P]);var M=os(V),F=b[P][T];A[P]=M?{transform:M}:{},ld(A[P],V),F&&(A[P][T]=F)}var O,k=!0;for(var P in _){A[P]=A[P]||{};var z=!O,F=_[P][T];z&&(O=new Zc);var U=O.len();O.reset(),A[P].d=sd(a,_[P],O);var Y=O.len();if(!z&&U!==Y){k=!1;break}F&&(A[P][T]=F)}if(!k)for(var P in A)delete A[P].d;if(!r)for(var D=0;D<S;D++){var L=x[D],I=L.targetName;I==="style"&&C(L,A,function(tt){return ud[tt]})}for(var H=te(A),ge=!0,Ve,D=1;D<H.length;D++){var et=H[D-1],ar=H[D];if(A[et][ot]!==A[ar][ot]){ge=!1;break}Ve=A[et][ot]}if(ge&&Ve){for(var P in A)A[P][ot]&&delete A[P][ot];t[ot]=Ve}if(Ke(H,function(Se){return te(A[Se]).length>0}).length){var ht=ol(A,e);return ht+" "+m[0]+" both"}}for(var d in l){var s=g(l[d]);s&&o.push(s)}if(o.length){var y=e.zrId+"-cls-"+nl();e.cssNodes["."+y]={animation:o.join(",")},t.class=y}}function vd(a,t,e){if(!a.ignore)if(a.isSilent()){var r={"pointer-events":"none"};po(r,t,e)}else{var i=a.states.emphasis&&a.states.emphasis.style?a.states.emphasis.style:{},n=i.fill;if(!n){var o=a.style&&a.style.fill,s=a.states.select&&a.states.select.style&&a.states.select.style.fill,l=a.currentStates.indexOf("select")>=0&&s||o;l&&(n=Jc(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&a.transform?a.transform[0]:1;u=u/c}var r={cursor:"pointer"};n&&(r.fill=n),i.stroke&&(r.stroke=i.stroke),u&&(r["stroke-width"]=u),po(r,t,e)}}function po(a,t,e,r){var i=JSON.stringify(a),n=e.cssStyleCache[i];n||(n=e.zrId+"-cls-"+nl(),e.cssStyleCache[i]=n,e.cssNodes["."+n+":hover"]=a),t.class=t.class?t.class+" "+n:n}var Kt=Math.round;function sl(a){return a&&j(a.src)}function ll(a){return a&&Ie(a.toDataURL)}function ci(a,t,e,r){ed(function(i,n){var o=i==="fill"||i==="stroke";o&&ls(n)?cl(t,a,i,r):o&&ei(n)?vl(e,a,i,r):o&&n==="none"?a[i]="transparent":a[i]=n},t,e,!1),md(e,a,r)}function vi(a,t){var e=uv(t);e&&(e.each(function(r,i){r!=null&&(a[(co+i).toLowerCase()]=r+"")}),t.isSilent()&&(a[co+"silent"]="true"))}function go(a){return Ye(a[0]-1)&&Ye(a[1])&&Ye(a[2])&&Ye(a[3]-1)}function hd(a){return Ye(a[4])&&Ye(a[5])}function hi(a,t,e){if(t&&!(hd(t)&&go(t))){var r=1e4;a.transform=go(t)?"translate("+Kt(t[4]*r)/r+" "+Kt(t[5]*r)/r+")":cv(t)}}function yo(a,t,e){for(var r=a.points,i=[],n=0;n<r.length;n++)i.push(Kt(r[n][0]*e)/e),i.push(Kt(r[n][1]*e)/e);t.points=i.join(" ")}function mo(a){return!a.smooth}function fd(a){var t=N(a,function(e){return typeof e=="string"?[e,e]:e});return function(e,r,i){for(var n=0;n<t.length;n++){var o=t[n],s=e[o[0]];s!=null&&(r[o[1]]=Kt(s*i)/i)}}}var pd={circle:[fd(["cx","cy","r"])],polyline:[yo,mo],polygon:[yo,mo]};function gd(a){for(var t=a.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function ul(a,t){var e=a.style,r=a.shape,i=pd[a.type],n={},o=t.animation,s="path",l=a.style.strokePercent,u=t.compress&&ss(a)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](r))&&!(o&&gd(a))&&!(l<1)){s=a.type;var c=Math.pow(10,u);i[0](r,n,c)}else{var v=!a.path||a.shapeChanged();a.path||a.createPathProxy();var h=a.path;v&&(h.beginPath(),a.buildPath(h,a.shape),a.pathUpdated());var f=h.getVersion(),p=a,g=p.__svgPathBuilder;(p.__svgPathVersion!==f||!g||l!==p.__svgPathStrokePercent)&&(g||(g=p.__svgPathBuilder=new tl),g.reset(u),h.rebuildPath(g,l),g.generateStr(),p.__svgPathVersion=f,p.__svgPathStrokePercent=l),n.d=g.getStr()}return hi(n,a.transform),ci(n,e,a,t),vi(n,a),t.animation&&Ur(a,n,t),t.emphasis&&vd(a,n,t),Q(s,a.id+"",n)}function dd(a,t){var e=a.style,r=e.image;if(r&&!j(r)&&(sl(r)?r=r.src:ll(r)&&(r=r.toDataURL())),!!r){var i=e.x||0,n=e.y||0,o=e.width,s=e.height,l={href:r,width:o,height:s};return i&&(l.x=i),n&&(l.y=n),hi(l,a.transform),ci(l,e,a,t),vi(l,a),t.animation&&Ur(a,l,t),Q("image",a.id+"",l)}}function yd(a,t){var e=a.style,r=e.text;if(r!=null&&(r+=""),!(!r||isNaN(e.x)||isNaN(e.y))){var i=e.font||rv,n=e.x||0,o=av(e.y||0,iv(i),e.textBaseline),s=nv[e.textAlign]||e.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(ov(e)){var u="",c=e.fontStyle,v=sv(e.fontSize);if(!parseFloat(v))return;var h=e.fontFamily||lv,f=e.fontWeight;u+="font-size:"+v+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),f&&f!=="normal"&&(u+="font-weight:"+f+";"),l.style=u}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),n&&(l.x=n),o&&(l.y=o),hi(l,a.transform),ci(l,e,a,t),vi(l,a),t.animation&&Ur(a,l,t),Q("text",a.id+"",l,void 0,r)}}function xo(a,t){if(a instanceof Fr)return ul(a,t);if(a instanceof qe)return dd(a,t);if(a instanceof Bo)return yd(a,t)}function md(a,t,e){var r=a.style;if(vv(r)){var i=hv(a),n=e.shadowCache,o=n[i];if(!o){var s=a.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=r.shadowOffsetX||0,v=r.shadowOffsetY||0,h=r.shadowBlur,f=jt(r.shadowColor),p=f.opacity,g=f.color,d=h/2/l,y=h/2/u,m=d+" "+y;o=e.zrId+"-s"+e.shadowIdx++,e.defs[o]=Q("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Q("feDropShadow","",{dx:c/l,dy:v/u,stdDeviation:m,"flood-color":g,"flood-opacity":p})]),n[i]=o}t.filter=Wr(o)}}function cl(a,t,e,r){var i=a[e],n,o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Kc(i))n="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else if(qc(i))n="radialGradient",o.cx=me(i.x,.5),o.cy=me(i.y,.5),o.r=me(i.r,.5);else return;for(var s=i.colorStops,l=[],u=0,c=s.length;u<c;++u){var v=Qc(s[u].offset)*100+"%",h=s[u].color,f=jt(h),p=f.color,g=f.opacity,d={offset:v};d["stop-color"]=p,g<1&&(d["stop-opacity"]=g),l.push(Q("stop",u+"",d))}var y=Q(n,"",o,l),m=ui(y),x=r.gradientCache,S=x[m];S||(S=r.zrId+"-g"+r.gradientIdx++,x[m]=S,o.id=S,r.defs[S]=Q(n,S,o,l)),t[e]=Wr(S)}function vl(a,t,e,r){var i=a.style[e],n=a.getBoundingRect(),o={},s=i.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",v;if(ev(i)){var h=i.imageWidth,f=i.imageHeight,p=void 0,g=i.image;if(j(g)?p=g:sl(g)?p=g.src:ll(g)&&(p=g.toDataURL()),typeof Image=="undefined"){var d="Image width/height must been given explictly in svg-ssr renderer.";Cr(h,d),Cr(f,d)}else if(h==null||f==null){var y=function(D,L){if(D){var I=D.elm,P=h||L.width,V=f||L.height;D.tag==="pattern"&&(u?(V=1,P/=n.width):c&&(P=1,V/=n.height)),D.attrs.width=P,D.attrs.height=V,I&&(I.setAttribute("width",P),I.setAttribute("height",V))}},m=tv(p,null,a,function(D){l||y(_,D),y(v,D)});m&&m.width&&m.height&&(h=h||m.width,f=f||m.height)}v=Q("image","img",{href:p,width:h,height:f}),o.width=h,o.height=f}else i.svgElement&&(v=q(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(v){var x,S;l?x=S=1:u?(S=1,x=o.width/n.width):c?(x=1,S=o.height/n.height):o.patternUnits="userSpaceOnUse",x!=null&&!isNaN(x)&&(o.width=x),S!=null&&!isNaN(S)&&(o.height=S);var b=os(i);b&&(o.patternTransform=b);var _=Q("pattern","",o,[v]),A=ui(_),T=r.patternCache,C=T[A];C||(C=r.zrId+"-p"+r.patternIdx++,T[A]=C,o.id=C,_=r.defs[C]=Q("pattern",C,o,[v])),t[e]=Wr(C)}}function xd(a,t,e){var r=e.clipPathCache,i=e.defs,n=r[a.id];if(!n){n=e.zrId+"-c"+e.clipPathIdx++;var o={id:n};r[a.id]=n,i[n]=Q("clipPath",n,o,[ul(a,e)])}t["clip-path"]=Wr(n)}function So(a){return document.createTextNode(a)}function lt(a,t,e){a.insertBefore(t,e)}function _o(a,t){a.removeChild(t)}function bo(a,t){a.appendChild(t)}function hl(a){return a.parentNode}function fl(a){return a.nextSibling}function da(a,t){a.textContent=t}var Ao=58,Sd=120,_d=Q("","");function Na(a){return a===void 0}function De(a){return a!==void 0}function bd(a,t,e){for(var r={},i=t;i<=e;++i){var n=a[i].key;n!==void 0&&(r[n]=i)}return r}function Ht(a,t){var e=a.key===t.key,r=a.tag===t.tag;return r&&e}function qt(a){var t,e=a.children,r=a.tag;if(De(r)){var i=a.elm=il(r);if(fi(_d,a),B(e))for(t=0;t<e.length;++t){var n=e[t];n!=null&&bo(i,qt(n))}else De(a.text)&&!fe(a.text)&&bo(i,So(a.text))}else a.elm=So(a.text);return a.elm}function pl(a,t,e,r,i){for(;r<=i;++r){var n=e[r];n!=null&&lt(a,qt(n),t)}}function zr(a,t,e,r){for(;e<=r;++e){var i=t[e];if(i!=null)if(De(i.tag)){var n=hl(i.elm);_o(n,i.elm)}else _o(a,i.elm)}}function fi(a,t){var e,r=t.elm,i=a&&a.attrs||{},n=t.attrs||{};if(i!==n){for(e in n){var o=n[e],s=i[e];s!==o&&(o===!0?r.setAttribute(e,""):o===!1?r.removeAttribute(e):e==="style"?r.style.cssText=o:e.charCodeAt(0)!==Sd?r.setAttribute(e,o):e==="xmlns:xlink"||e==="xmlns"?r.setAttributeNS(td,e,o):e.charCodeAt(3)===Ao?r.setAttributeNS(rd,e,o):e.charCodeAt(5)===Ao?r.setAttributeNS(al,e,o):r.setAttribute(e,o))}for(e in i)e in n||r.removeAttribute(e)}}function Ad(a,t,e){for(var r=0,i=0,n=t.length-1,o=t[0],s=t[n],l=e.length-1,u=e[0],c=e[l],v,h,f,p;r<=n&&i<=l;)o==null?o=t[++r]:s==null?s=t[--n]:u==null?u=e[++i]:c==null?c=e[--l]:Ht(o,u)?(St(o,u),o=t[++r],u=e[++i]):Ht(s,c)?(St(s,c),s=t[--n],c=e[--l]):Ht(o,c)?(St(o,c),lt(a,o.elm,fl(s.elm)),o=t[++r],c=e[--l]):Ht(s,u)?(St(s,u),lt(a,s.elm,o.elm),s=t[--n],u=e[++i]):(Na(v)&&(v=bd(t,r,n)),h=v[u.key],Na(h)?lt(a,qt(u),o.elm):(f=t[h],f.tag!==u.tag?lt(a,qt(u),o.elm):(St(f,u),t[h]=void 0,lt(a,f.elm,o.elm))),u=e[++i]);(r<=n||i<=l)&&(r>n?(p=e[l+1]==null?null:e[l+1].elm,pl(a,p,e,i,l)):zr(a,t,r,n))}function St(a,t){var e=t.elm=a.elm,r=a.children,i=t.children;a!==t&&(fi(a,t),Na(t.text)?De(r)&&De(i)?r!==i&&Ad(e,r,i):De(i)?(De(a.text)&&da(e,""),pl(e,null,i,0,i.length-1)):De(r)?zr(e,r,0,r.length-1):De(a.text)&&da(e,""):a.text!==t.text&&(De(r)&&zr(e,r,0,r.length-1),da(e,t.text)))}function wd(a,t){if(Ht(a,t))St(a,t);else{var e=a.elm,r=hl(e);qt(t),r!==null&&(lt(r,t.elm,fl(e)),zr(r,[a],0,0))}return t}var Td=0,Cd=function(){function a(t,e,r){if(this.type="svg",this.refreshHover=wo(),this.configLayer=wo(),this.storage=e,this._opts=r=G({},r),this.root=t,this._id="zr"+Td++,this._oldVNode=vo(r.width,r.height),t&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var n=this._svgDom=this._oldVNode.elm=il("svg");fi(null,this._oldVNode),i.appendChild(n),t.appendChild(i)}this.resize(r.width,r.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",wd(this._oldVNode,t),this._oldVNode=t}},a.prototype.renderOneToVNode=function(t){return xo(t,Oa(this._id))},a.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),r=this._width,i=this._height,n=Oa(this._id);n.animation=t.animation,n.willUpdate=t.willUpdate,n.compress=t.compress,n.emphasis=t.emphasis;var o=[],s=this._bgVNode=Dd(r,i,this._backgroundColor,n);s&&o.push(s);var l=t.compress?null:this._mainVNode=Q("g","main",{},[]);this._paintList(e,n,l?l.children:o),l&&o.push(l);var u=N(te(n.defs),function(h){return n.defs[h]});if(u.length&&o.push(Q("defs","defs",{},u)),t.animation){var c=nd(n.cssNodes,n.cssAnims,{newline:!0});if(c){var v=Q("style","stl",{},[],c);o.push(v)}}return vo(r,i,o,t.useViewBox)},a.prototype.renderToString=function(t){return t=t||{},ui(this.renderToVNode({animation:me(t.cssAnimation,!0),emphasis:me(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:me(t.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(t){this._backgroundColor=t},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(t,e,r){for(var i=t.length,n=[],o=0,s,l,u=0,c=0;c<i;c++){var v=t[c];if(!v.invisible){var h=v.__clipPaths,f=h&&h.length||0,p=l&&l.length||0,g=void 0;for(g=Math.max(f-1,p-1);g>=0&&!(h&&l&&h[g]===l[g]);g--);for(var d=p-1;d>g;d--)o--,s=n[o-1];for(var y=g+1;y<f;y++){var m={};xd(h[y],m,e);var x=Q("g","clip-g-"+u++,m,[]);(s?s.children:r).push(x),n[o++]=x,s=x}l=h;var S=xo(v,e);S&&(s?s.children:r).push(S)}}},a.prototype.resize=function(t,e){var r=this._opts,i=this.root,n=this._viewport;if(t!=null&&(r.width=t),e!=null&&(r.height=e),i&&n&&(n.style.display="none",t=Li(i,0,r),e=Li(i,1,r),n.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,n){var o=n.style;o.width=t+"px",o.height=e+"px"}if(ei(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",e));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",e))}}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(t){var e=this.renderToString(),r="data:image/svg+xml;";return t?(e=fv(e),e&&r+"base64,"+e):r+"charset=UTF-8,"+encodeURIComponent(e)},a}();function wo(a){return function(){}}function Dd(a,t,e,r){var i;if(e&&e!=="none")if(i=Q("rect","bg",{width:a,height:t,x:"0",y:"0"}),ls(e))cl({fill:e},i.attrs,"fill",r);else if(ei(e))vl({style:{fill:e},dirty:Jo,getBoundingRect:function(){return{width:a,height:t}}},i.attrs,"fill",r);else{var n=jt(e),o=n.color,s=n.opacity;i.attrs.fill=o,s<1&&(i.attrs["fill-opacity"]=s)}return i}function Ld(a){a.registerPainter("svg",Cd)}function ya(a,t,e=!1){if(!xl(a))throw new Error("handle is not Function!");const{readyRef:r,stop:i,start:n}=Pd(t);return e?a():Ba(r,o=>{o&&a()},{immediate:!1}),{readyRef:r,stop:i,start:n}}function Pd(a){const t=wr(!1);let e;function r(){t.value=!1,e&&window.clearTimeout(e)}function i(){r(),e=setTimeout(()=>{t.value=!0},a)}return i(),To(r),{readyRef:t,stop:r,start:i}}function Id({el:a=window,name:t,listener:e,options:r,autoRemove:i=!0,isDebounce:n=!0,wait:o=80}){let s=()=>{};const l=wr(!1);if(a){const u=wr(a),c=n?Co(e,o):_l(e,o),v=o?c:e,h=g=>{l.value=!0,g.removeEventListener(t,v,r)},f=g=>g.addEventListener(t,v,r),p=Ba(u,(g,d,y)=>{g&&(!He(l)&&f(g),y(()=>{i&&h(g)}))},{immediate:!0});s=()=>{h(u.value),p()}}return{removeEvent:s}}var gl=(a=>(a[a.XS=480]="XS",a[a.SM=576]="SM",a[a.MD=768]="MD",a[a.LG=992]="LG",a[a.XL=1200]="XL",a[a.XXL=1600]="XXL",a))(gl||{});const Et=new Map;Et.set("XS",480);Et.set("SM",576);Et.set("MD",768);Et.set("LG",992);Et.set("XL",1200);Et.set("XXL",1600);let Md,Rd,Vd;function kd(){return{screenRef:ma(()=>He(Md)),widthRef:Rd,screenEnum:gl,realWidthRef:Vd}}Me([Lp,pv,gv,dv,mh,tg,Pf,dg,yv,Cg,zg,Mg,Ld,jg,ds,mv,xv,Jp,mp,Vf,rp]);function Fd(a,t="default"){const{getDarkTheme:e}=Sv(),r=ma(()=>{const p=e.value?"dark":"light";return t==="default"?p:t});let i=null,n=v;const o=wr({});let s=()=>{};n=Co(v,200);const l=ma(()=>r.value!=="dark"?o.value:yi({backgroundColor:"transparent"},o.value));function u(p=t){const g=He(a);if(!g||!He(g))return;i=ki.init(g,p);const{removeEvent:d}=Id({el:window,name:"resize",listener:n});s=d;const{widthRef:y,screenEnum:m}=kd();(He(y)<=m.MD||g.offsetHeight===0)&&ya(()=>{n()},30)}function c(p,g=!0){var d;if(o.value=p,((d=He(a))==null?void 0:d.offsetHeight)===0){ya(()=>{c(He(l))},30);return}Sl(()=>{ya(()=>{!i&&(u(r.value),!i)||(g&&(i==null||i.clear()),i==null||i.setOption(He(l)))},30)})}function v(){i==null||i.resize()}Ba(()=>r.value,p=>{i&&(i.dispose(),u(p),c(o.value))}),To(f);function h(){return i||u(r.value),i}function f(){i&&(s(),i.dispose(),i=null)}return{setOptions:c,resize:v,echarts:ki,getInstance:h,disposeInstance:f}}const Wd={width:{type:String,default:"100%"},height:{type:String,default:"280px"}};export{Wd as b,Fd as u};
