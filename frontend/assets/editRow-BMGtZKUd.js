var E=Object.defineProperty;var y=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var _=(t,a,n)=>a in t?E(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,d=(t,a)=>{for(var n in a||(a={}))T.call(a,n)&&_(t,n,a[n]);if(y)for(var n of y(a))N.call(a,n)&&_(t,n,a[n]);return t};var k=(t,a,n)=>new Promise((p,r)=>{var m=o=>{try{l(n.next(o))}catch(u){r(u)}},f=o=>{try{l(n.throw(o))}catch(u){r(u)}},l=o=>o.done?p(o.value):Promise.resolve(o.value).then(m,f);l((n=n.apply(t,a)).next())});import{B as A}from"./Table-DaAbDyDv.js";import{T as B}from"./TableAction-DNF_hSiS.js";import{g as D}from"./list-C7BRpaEz.js";import{au as c,av as S,ao as b,d as z,r as w,a as h,o as K,D as M,w as V,i as q,h as C,an as I}from"./index-BWLoIWRc.js";import"./vuedraggable.umd-P2lE6k1M.js";import"./_commonjsHelpers-CDgoFxsB.js";import"./useDesignSetting-DQ_n429q.js";import"./SettingOutlined-CG8GbWeo.js";import"./propTypes-DDD-Xta1.js";import"./FormOutlined-BJBCE1rA.js";import"./ReloadOutlined--dVEl31o.js";import"./componentSetting-CQq0JJwW.js";import"./index-B3oGedNJ.js";import"./DownOutlined-7KlFnkGg.js";const L={male:"男",female:"女",unknown:"未知"},P={close:"已取消",refuse:"已拒绝",pass:"已通过"},U=[{title:"id",key:"id"},{title:"名称",key:"name",editComponent:"NInput",editRow:!0,editRule:!0,edit:!0},{title:"头像",key:"avatar",render(t){return c(S,{size:50,src:t.avatar})}},{title:"性别",key:"sex",render(t){return c(b,{type:t.sex==="male"?"info":"error"},{default:()=>L[t.sex]})}},{title:"邮箱",key:"email",width:220},{title:"城市",key:"city",editComponent:"NSelect",editComponentProps:{options:[{label:"深圳市",value:1},{label:"广州市",value:2}]},editRow:!0,edit:!0,width:220},{title:"状态",key:"status",render(t){return c(b,{type:t.status==="close"?"default":t.status==="refuse"?"error":"success"},{default:()=>P[t.status]})}},{title:"创建时间",key:"createDate"}],ae=z({__name:"editRow",setup(t){const a=w(),n=w(""),p=h({pageSize:5,name:"NaiveAdmin"}),r=h({width:150,title:"操作",key:"action",fixed:"right",align:"center",render(e){return c(B,{style:"button",actions:u(e)})}});function m(e){var i;n.value=e.key,(i=e.onEdit)==null||i.call(e,!0)}function f(e){var i;n.value="",(i=e.onEdit)==null||i.call(e,!1,!1)}function l({column:e,value:i,record:s}){e.key==="id"&&(s.editValueRefs.name4.value=`${i}`),console.log(e,i,s)}function o(e){return k(this,null,function*(){var s;(yield(s=e.onEdit)==null?void 0:s.call(e,!1,!0))&&(n.value="")})}function u(e){return e.editable?[{label:"保存",onClick:o.bind(null,e)},{label:"取消",onClick:f.bind(null,e)}]:[{label:"编辑",onClick:m.bind(null,e)}]}const v=e=>k(this,null,function*(){return yield D(d(d({},p),e))});function g(e){console.log(e)}function R({value:e}){console.log(e)}return(e,i)=>{const s=I;return K(),M(s,{bordered:!1,class:"proCard"},{default:V(()=>[q(C(A),{title:"表格列表",titleTooltip:"这是一个提示",columns:C(U),request:v,"row-key":x=>x.id,ref_key:"actionRef",ref:a,actionColumn:r,onEditEnd:R,onEditChange:l,"onUpdate:checkedRowKeys":g,"scroll-x":1590},null,8,["columns","row-key","actionColumn"])]),_:1})}}});export{ae as default};
