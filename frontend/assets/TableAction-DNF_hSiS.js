var k=Object.defineProperty,x=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var A=(e,n,s)=>n in e?k(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,l=(e,n)=>{for(var s in n||(n={}))T.call(n,s)&&A(e,s,n[s]);if(h)for(var s of h(n))N.call(n,s)&&A(e,s,n[s]);return e},m=(e,n)=>x(e,B(n));import{d as P,du as F,A as f,cu as b,dt as z,aJ as L,p as O,C as V,o as c,f as D,g as p,F as C,X as I,D as _,bm as j,w as i,i as y,j as M,t as q,aT as S,ch as E,Z as v,N as J,B as R,ab as X}from"./index-BWLoIWRc.js";import{D as Z}from"./DownOutlined-7KlFnkGg.js";const G=P({name:"TableAction",components:{DownOutlined:Z},props:{actions:{type:Array,default:null,required:!0},dropDownActions:{type:Array,default:null},style:{type:String,default:"button"},select:{type:Function,default:()=>{}}},setup(e){const{hasPermission:n}=F(),s=e.style==="button"?"default":e.style==="text"?"primary":"default",u=e.style==="button"?void 0:e.style==="text"?!0:void 0,g=f(()=>({text:u,type:s,size:"small"})),w=f(()=>(b(e.dropDownActions)||[]).filter(o=>n(o.auth)&&a(o)).map(o=>{const{popConfirm:t}=o;return m(l(l({size:"small",text:u,type:s},o),t),{onConfirm:t==null?void 0:t.confirm,onCancel:t==null?void 0:t.cancel})}));function a(o){const t=o.ifShow;let r=!0;return z(t)&&(r=t),L(t)&&(r=t(o)),r}return{getActions:f(()=>(b(e.actions)||[]).filter(o=>n(o.auth)&&a(o)).map(o=>{const{popConfirm:t}=o;return m(l(l({size:"small",text:u,type:s},o),t||{}),{onConfirm:t==null?void 0:t.confirm,onCancel:t==null?void 0:t.cancel,enable:!!t})})),getDropdownList:w,getMoreProps:g}}}),H={class:"tableAction"},K={class:"flex items-center justify-center"},Q={class:"flex items-center"};function U(e,n,s,u,g,w){const a=J,d=R,o=V("DownOutlined"),t=X;return c(),D("div",H,[p("div",K,[(c(!0),D(C,null,I(e.getActions,(r,$)=>(c(),_(d,S({key:`${$}-${r.label}`,ref_for:!0},r,{class:"mx-1"}),j({default:i(()=>[M(q(r.label)+" ",1)]),_:2},[r.hasOwnProperty("icon")?{name:"icon",fn:i(()=>[y(a,{component:r.icon},null,8,["component"])]),key:"0"}:void 0]),1040))),128)),e.dropDownActions&&e.getDropdownList.length?(c(),_(t,{key:0,trigger:"hover",options:e.getDropdownList,onSelect:e.select},{default:i(()=>[E(e.$slots,"more"),e.$slots.more?v("",!0):(c(),_(d,S({key:0},e.getMoreProps,{class:"mx-1","icon-placement":"right"}),{default:i(()=>[p("div",Q,[n[0]||(n[0]=p("span",null,"更多",-1)),y(a,{size:"14",class:"ml-1"},{default:i(()=>[y(o)]),_:1})])]),_:1},16))]),_:3},8,["options","onSelect"])):v("",!0)])])}const te=O(G,[["render",U]]);export{te as T};
