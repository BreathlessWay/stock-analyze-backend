var k=(b,v,u)=>new Promise((s,t)=>{var V=l=>{try{_(u.next(l))}catch(p){t(p)}},r=l=>{try{_(u.throw(l))}catch(p){t(p)}},_=l=>l.done?s(l.value):Promise.resolve(l.value).then(V,r);_((u=u.apply(b,v)).next())});import{F as w,a as C}from"./FileComponent-zUo8PEvl.js";import B from"./Charts-DmQjFGHV.js";import{d as q,u as D,r as x,a as E,f as R,i as n,w as i,_ as z,o as A,j as h,k as F,l as N,q as S,B as U,n as $,p as j}from"./index-BWLoIWRc.js";import"./install-CCXOP5Kk.js";const I={class:"analyze"},M=q({__name:"index",setup(b){const v=D(),u=x(null),s=x(!1),t=x({inputValue:null,datetimeValue:null}),V={inputValue:{validator(o,e){return e?/^\d{6}$/.test(e)?!0:new Error("需要6位数字的股票代码"):!0}},datetimeValue:{required:!0,trigger:["blur","change"],validator(o,e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"?!0:new Error("请选择查询时间段")}}},r=E({x:[],y:[]}),_=o=>o>Date.now(),l=()=>{var o;t.value={inputValue:null,datetimeValue:null},(o=u.value)==null||o.restoreValidation()},p=o=>{var e;o.preventDefault(),(e=u.value)==null||e.validate(c=>k(this,null,function*(){var d,f,m,g;if(c)console.log(c);else{s.value=!0;const a=yield C({stock_code:t.value.inputValue||"",start_date:(f=(d=t.value)==null?void 0:d.datetimeValue)==null?void 0:f[0],end_date:(g=(m=t.value)==null?void 0:m.datetimeValue)==null?void 0:g[1]});s.value=!1,r.x=a==null?void 0:a.x,r.y=a==null?void 0:a.y,a!=null&&a.msg&&v.warning(a.msg)}}))};return(o,e)=>{const c=F,d=N,f=S,m=U,g=$,a=z;return A(),R("article",I,[n(a,{ref_key:"formRef",ref:u,model:t.value,rules:V,"label-placement":"left","label-align":"right",inline:"","require-mark-placement":"right-hanging"},{default:i(()=>[n(d,{label:"股票代码",path:"inputValue"},{default:i(()=>[n(c,{clearable:"",maxlength:"6",value:t.value.inputValue,"onUpdate:value":e[0]||(e[0]=y=>t.value.inputValue=y),placeholder:"请输入股票代码"},null,8,["value"])]),_:1}),n(d,{label:"日期",path:"datetimeValue"},{default:i(()=>[n(f,{value:t.value.datetimeValue,"onUpdate:value":e[1]||(e[1]=y=>t.value.datetimeValue=y),type:"daterange","is-date-disabled":_},null,8,["value"])]),_:1}),n(g,null,{default:i(()=>[n(m,{type:"primary",onClick:p},{default:i(()=>e[2]||(e[2]=[h("查询")])),_:1}),n(m,{onClick:l},{default:i(()=>e[3]||(e[3]=[h("重置")])),_:1})]),_:1})]),_:1},8,["model"]),n(w),n(B,{loading:s.value,x:r.x,y:r.y},null,8,["loading","x","y"])])}}}),K=j(M,[["__scopeId","data-v-35ed0424"]]);export{K as default};
